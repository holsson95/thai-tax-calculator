(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cc={exports:{}},qs={},kc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=Symbol.for("react.element"),hm=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),Nm=Symbol.for("react.memo"),jm=Symbol.for("react.lazy"),Ki=Symbol.iterator;function wm(e){return e===null||typeof e!="object"?null:(e=Ki&&e[Ki]||e["@@iterator"],typeof e=="function"?e:null)}var Rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ic=Object.assign,Ac={};function An(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Rc}An.prototype.isReactComponent={};An.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};An.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _c(){}_c.prototype=An.prototype;function Ua(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Rc}var $a=Ua.prototype=new _c;$a.constructor=Ua;Ic($a,An.prototype);$a.isPureReactComponent=!0;var qi=Array.isArray,Lc=Object.prototype.hasOwnProperty,Ya={current:null},Pc={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Lc.call(t,s)&&!Pc.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),p=0;p<o;p++)u[p]=arguments[p+2];l.children=u}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Sr,type:e,key:a,ref:i,props:l,_owner:Ya.current}}function Sm(e,t){return{$$typeof:Sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Va(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sr}function Tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qi=/\/+/g;function fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tm(""+e.key):t.toString(36)}function os(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Sr:case hm:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+fl(i,0):s,qi(l)?(n="",e!=null&&(n=e.replace(Qi,"$&/")+"/"),os(l,t,n,"",function(p){return p})):l!=null&&(Va(l)&&(l=Sm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Qi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",qi(e))for(var o=0;o<e.length;o++){a=e[o];var u=s+fl(a,o);i+=os(a,t,n,u,l)}else if(u=wm(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=s+fl(a,o++),i+=os(a,t,n,u,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Lr(e,t,n){if(e==null)return e;var s=[],l=0;return os(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},cs={transition:null},Cm={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:cs,ReactCurrentOwner:Ya};function Oc(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Lr,forEach:function(e,t,n){Lr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!Va(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=An;B.Fragment=pm;B.Profiler=xm;B.PureComponent=Ua;B.StrictMode=fm;B.Suspense=bm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm;B.act=Oc;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ic({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ya.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Lc.call(t,u)&&!Pc.hasOwnProperty(u)&&(s[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){o=Array(u);for(var p=0;p<u;p++)o[p]=arguments[p+2];s.children=o}return{$$typeof:Sr,type:e.type,key:l,ref:a,props:s,_owner:i}};B.createContext=function(e){return e={$$typeof:ym,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gm,_context:e},e.Consumer=e};B.createElement=Mc;B.createFactory=function(e){var t=Mc.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:vm,render:e}};B.isValidElement=Va;B.lazy=function(e){return{$$typeof:jm,_payload:{_status:-1,_result:e},_init:Em}};B.memo=function(e,t){return{$$typeof:Nm,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=cs.transition;cs.transition={};try{e()}finally{cs.transition=t}};B.unstable_act=Oc;B.useCallback=function(e,t){return ye.current.useCallback(e,t)};B.useContext=function(e){return ye.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};B.useEffect=function(e,t){return ye.current.useEffect(e,t)};B.useId=function(){return ye.current.useId()};B.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return ye.current.useMemo(e,t)};B.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};B.useRef=function(e){return ye.current.useRef(e)};B.useState=function(e){return ye.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return ye.current.useTransition()};B.version="18.3.1";kc.exports=B;var b=kc.exports;const km=mm(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=b,Im=Symbol.for("react.element"),Am=Symbol.for("react.fragment"),_m=Object.prototype.hasOwnProperty,Lm=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pm={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)_m.call(t,s)&&!Pm.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Im,type:e,key:a,ref:i,props:l,_owner:Lm.current}}qs.Fragment=Am;qs.jsx=Fc;qs.jsxs=Fc;Cc.exports=qs;var r=Cc.exports,Xl={},Bc={exports:{}},Re={},Hc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,O){var F=L.length;L.push(O);e:for(;0<F;){var J=F-1>>>1,se=L[J];if(0<l(se,O))L[J]=O,L[F]=se,F=J;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var O=L[0],F=L.pop();if(F!==O){L[0]=F;e:for(var J=0,se=L.length,Ar=se>>>1;J<Ar;){var Mt=2*(J+1)-1,pl=L[Mt],Ot=Mt+1,_r=L[Ot];if(0>l(pl,F))Ot<se&&0>l(_r,pl)?(L[J]=_r,L[Ot]=F,J=Ot):(L[J]=pl,L[Mt]=F,J=Mt);else if(Ot<se&&0>l(_r,F))L[J]=_r,L[Ot]=F,J=Ot;else break e}}return O}function l(L,O){var F=L.sortIndex-O.sortIndex;return F!==0?F:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var u=[],p=[],f=1,m=null,g=3,v=!1,y=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(L){for(var O=n(p);O!==null;){if(O.callback===null)s(p);else if(O.startTime<=L)s(p),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(p)}}function j(L){if(N=!1,h(L),!y)if(n(u)!==null)y=!0,H(S);else{var O=n(p);O!==null&&ht(j,O.startTime-L)}}function S(L,O){y=!1,N&&(N=!1,c(w),w=-1),v=!0;var F=g;try{for(h(O),m=n(u);m!==null&&(!(m.expirationTime>O)||L&&!A());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var se=J(m.expirationTime<=O);O=e.unstable_now(),typeof se=="function"?m.callback=se:m===n(u)&&s(u),h(O)}else s(u);m=n(u)}if(m!==null)var Ar=!0;else{var Mt=n(p);Mt!==null&&ht(j,Mt.startTime-O),Ar=!1}return Ar}finally{m=null,g=F,v=!1}}var k=!1,R=null,w=-1,I=5,T=-1;function A(){return!(e.unstable_now()-T<I)}function z(){if(R!==null){var L=e.unstable_now();T=L;var O=!0;try{O=R(!0,L)}finally{O?ue():(k=!1,R=null)}}else k=!1}var ue;if(typeof d=="function")ue=function(){d(z)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,tn=et.port2;et.port1.onmessage=z,ue=function(){tn.postMessage(null)}}else ue=function(){x(z,0)};function H(L){R=L,k||(k=!0,ue())}function ht(L,O){w=x(function(){L(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,H(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var F=g;g=O;try{return L()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=g;g=L;try{return O()}finally{g=F}},e.unstable_scheduleCallback=function(L,O,F){var J=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?J+F:J):F=J,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,L={id:f++,callback:O,priorityLevel:L,startTime:F,expirationTime:se,sortIndex:-1},F>J?(L.sortIndex=F,t(p,L),n(u)===null&&L===n(p)&&(N?(c(w),w=-1):N=!0,ht(j,F-J))):(L.sortIndex=se,t(u,L),y||v||(y=!0,H(S))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var O=g;return function(){var F=g;g=O;try{return L.apply(this,arguments)}finally{g=F}}}})(zc);Hc.exports=zc;var Mm=Hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=b,ke=Mm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,lr={};function Jt(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(lr[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var it=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,Fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Ji={};function Bm(e){return Kl.call(Ji,e)?!0:Kl.call(Gi,e)?!1:Fm.test(e)?Ji[e]=!0:(Gi[e]=!0,!1)}function Hm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zm(e,t,n,s){if(t===null||typeof t>"u"||Hm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ce[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ce[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Da=/[\-:]([a-z])/g;function Xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Da,Xa);ce[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Da,Xa);ce[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Da,Xa);ce[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ce.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ce[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ka(e,t,n,s){var l=ce.hasOwnProperty(t)?ce[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zm(t,n,l,s)&&(n=null),s||l===null?Bm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var mt=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),rn=Symbol.for("react.portal"),sn=Symbol.for("react.fragment"),qa=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),Uc=Symbol.for("react.provider"),$c=Symbol.for("react.context"),Qa=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Yc=Symbol.for("react.offscreen"),Zi=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,xl;function Dn(e){if(xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xl=t&&t[1]||""}return`
`+xl+e}var gl=!1;function yl(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=o);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dn(e):""}function Wm(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function Jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sn:return"Fragment";case rn:return"Portal";case ql:return"Profiler";case qa:return"StrictMode";case Ql:return"Suspense";case Gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $c:return(e.displayName||"Context")+".Consumer";case Uc:return(e._context.displayName||"Context")+".Provider";case Qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return t=e.displayName||null,t!==null?t:Jl(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return Jl(e(t))}catch{}}return null}function Um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(t);case 8:return t===qa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function It(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e){var t=Vc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mr(e){e._valueTracker||(e._valueTracker=$m(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Vc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=It(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xc(e,t){t=t.checked,t!=null&&Ka(e,"checked",t,!1)}function ea(e,t){Xc(e,t);var n=It(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&ta(e,t.type,It(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function to(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ta(e,t,n){(t!=="number"||js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function xn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function no(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Xn(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:It(n)}}function Kc(e,t){var n=It(t.value),s=It(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ro(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Or,Qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ym=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){Ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function Gc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function Jc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Gc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Vm=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(Vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,gn=null,yn=null;function so(e){if(e=Cr(e)){if(typeof ia!="function")throw Error(C(280));var t=e.stateNode;t&&(t=el(t),ia(e.stateNode,e.type,t))}}function Zc(e){gn?yn?yn.push(e):yn=[e]:gn=e}function eu(){if(gn){var e=gn,t=yn;if(yn=gn=null,so(e),t)for(e=0;e<t.length;e++)so(t[e])}}function tu(e,t){return e(t)}function nu(){}var vl=!1;function ru(e,t,n){if(vl)return e(t,n);vl=!0;try{return tu(e,t,n)}finally{vl=!1,(gn!==null||yn!==null)&&(nu(),eu())}}function ir(e,t){var n=e.stateNode;if(n===null)return null;var s=el(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var oa=!1;if(it)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){oa=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{oa=!1}function Dm(e,t,n,s,l,a,i,o,u){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(f){this.onError(f)}}var Gn=!1,ws=null,Ss=!1,ca=null,Xm={onError:function(e){Gn=!0,ws=e}};function Km(e,t,n,s,l,a,i,o,u){Gn=!1,ws=null,Dm.apply(Xm,arguments)}function qm(e,t,n,s,l,a,i,o,u){if(Km.apply(this,arguments),Gn){if(Gn){var p=ws;Gn=!1,ws=null}else throw Error(C(198));Ss||(Ss=!0,ca=p)}}function Zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lo(e){if(Zt(e)!==e)throw Error(C(188))}function Qm(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return lo(l),e;if(a===s)return lo(l),t;a=a.sibling}throw Error(C(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==s)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function lu(e){return e=Qm(e),e!==null?au(e):null}function au(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=au(e);if(t!==null)return t;e=e.sibling}return null}var iu=ke.unstable_scheduleCallback,ao=ke.unstable_cancelCallback,Gm=ke.unstable_shouldYield,Jm=ke.unstable_requestPaint,Z=ke.unstable_now,Zm=ke.unstable_getCurrentPriorityLevel,Za=ke.unstable_ImmediatePriority,ou=ke.unstable_UserBlockingPriority,Ts=ke.unstable_NormalPriority,eh=ke.unstable_LowPriority,cu=ke.unstable_IdlePriority,Qs=null,Ge=null;function th(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ue=Math.clz32?Math.clz32:sh,nh=Math.log,rh=Math.LN2;function sh(e){return e>>>=0,e===0?32:31-(nh(e)/rh|0)|0}var Fr=64,Br=4194304;function Kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=Kn(o):(a&=i,a!==0&&(s=Kn(a)))}else i=n&~l,i!==0?s=Kn(i):a!==0&&(s=Kn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ue(t),l=1<<n,s|=e[n],t&=~l;return s}function lh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ue(a),o=1<<i,u=l[i];u===-1?(!(o&n)||o&s)&&(l[i]=lh(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uu(){var e=Fr;return Fr<<=1,!(Fr&4194240)&&(Fr=64),e}function bl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ue(t),e[t]=n}function ih(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ue(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function ei(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ue(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var U=0;function du(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mu,ti,hu,pu,fu,da=!1,Hr=[],jt=null,wt=null,St=null,or=new Map,cr=new Map,yt=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function io(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function Hn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Cr(t),t!==null&&ti(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ch(e,t,n,s,l){switch(t){case"focusin":return jt=Hn(jt,e,t,n,s,l),!0;case"dragenter":return wt=Hn(wt,e,t,n,s,l),!0;case"mouseover":return St=Hn(St,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return or.set(a,Hn(or.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,cr.set(a,Hn(cr.get(a)||null,e,t,n,s,l)),!0}return!1}function xu(e){var t=zt(e.target);if(t!==null){var n=Zt(t);if(n!==null){if(t=n.tag,t===13){if(t=su(n),t!==null){e.blockedOn=t,fu(e.priority,function(){hu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);aa=s,n.target.dispatchEvent(s),aa=null}else return t=Cr(n),t!==null&&ti(t),e.blockedOn=n,!1;t.shift()}return!0}function oo(e,t,n){us(e)&&n.delete(t)}function uh(){da=!1,jt!==null&&us(jt)&&(jt=null),wt!==null&&us(wt)&&(wt=null),St!==null&&us(St)&&(St=null),or.forEach(oo),cr.forEach(oo)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,da||(da=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,uh)))}function ur(e){function t(l){return zn(l,e)}if(0<Hr.length){zn(Hr[0],e);for(var n=1;n<Hr.length;n++){var s=Hr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(jt!==null&&zn(jt,e),wt!==null&&zn(wt,e),St!==null&&zn(St,e),or.forEach(t),cr.forEach(t),n=0;n<yt.length;n++)s=yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<yt.length&&(n=yt[0],n.blockedOn===null);)xu(n),n.blockedOn===null&&yt.shift()}var vn=mt.ReactCurrentBatchConfig,Cs=!0;function dh(e,t,n,s){var l=U,a=vn.transition;vn.transition=null;try{U=1,ni(e,t,n,s)}finally{U=l,vn.transition=a}}function mh(e,t,n,s){var l=U,a=vn.transition;vn.transition=null;try{U=4,ni(e,t,n,s)}finally{U=l,vn.transition=a}}function ni(e,t,n,s){if(Cs){var l=ma(e,t,n,s);if(l===null)Il(e,t,s,ks,n),io(e,s);else if(ch(l,e,t,n,s))s.stopPropagation();else if(io(e,s),t&4&&-1<oh.indexOf(e)){for(;l!==null;){var a=Cr(l);if(a!==null&&mu(a),a=ma(e,t,n,s),a===null&&Il(e,t,s,ks,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Il(e,t,s,null,n)}}var ks=null;function ma(e,t,n,s){if(ks=null,e=Ja(s),e=zt(e),e!==null)if(t=Zt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=su(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ks=e,null}function gu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case Za:return 1;case ou:return 4;case Ts:case eh:return 16;case cu:return 536870912;default:return 16}default:return 16}}var bt=null,ri=null,ds=null;function yu(){if(ds)return ds;var e,t=ri,n=t.length,s,l="value"in bt?bt.value:bt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return ds=l.slice(e,1<s?1-s:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zr(){return!0}function co(){return!1}function Ie(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zr:co,this.isPropagationStopped=co,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Ie(_n),Er=Q({},_n,{view:0,detail:0}),hh=Ie(Er),Nl,jl,Wn,Gs=Q({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Nl=e.screenX-Wn.screenX,jl=e.screenY-Wn.screenY):jl=Nl=0,Wn=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),uo=Ie(Gs),ph=Q({},Gs,{dataTransfer:0}),fh=Ie(ph),xh=Q({},Er,{relatedTarget:0}),wl=Ie(xh),gh=Q({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=Ie(gh),vh=Q({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bh=Ie(vh),Nh=Q({},_n,{data:0}),mo=Ie(Nh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sh[e])?!!t[e]:!1}function li(){return Th}var Eh=Q({},Er,{key:function(e){if(e.key){var t=jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ch=Ie(Eh),kh=Q({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Ie(kh),Rh=Q({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),Ih=Ie(Rh),Ah=Q({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=Ie(Ah),Lh=Q({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ph=Ie(Lh),Mh=[9,13,27,32],ai=it&&"CompositionEvent"in window,Jn=null;it&&"documentMode"in document&&(Jn=document.documentMode);var Oh=it&&"TextEvent"in window&&!Jn,vu=it&&(!ai||Jn&&8<Jn&&11>=Jn),po=" ",fo=!1;function bu(e,t){switch(e){case"keyup":return Mh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function Fh(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(fo=!0,po);case"textInput":return e=t.data,e===po&&fo?null:e;default:return null}}function Bh(e,t){if(ln)return e==="compositionend"||!ai&&bu(e,t)?(e=yu(),ds=ri=bt=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vu&&t.locale!=="ko"?null:t.data;default:return null}}var Hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hh[e.type]:t==="textarea"}function ju(e,t,n,s){Zc(s),t=Rs(t,"onChange"),0<t.length&&(n=new si("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Zn=null,dr=null;function zh(e){Lu(e,0)}function Js(e){var t=cn(e);if(Dc(t))return e}function Wh(e,t){if(e==="change")return t}var wu=!1;if(it){var Sl;if(it){var Tl="oninput"in document;if(!Tl){var go=document.createElement("div");go.setAttribute("oninput","return;"),Tl=typeof go.oninput=="function"}Sl=Tl}else Sl=!1;wu=Sl&&(!document.documentMode||9<document.documentMode)}function yo(){Zn&&(Zn.detachEvent("onpropertychange",Su),dr=Zn=null)}function Su(e){if(e.propertyName==="value"&&Js(dr)){var t=[];ju(t,dr,e,Ja(e)),ru(zh,t)}}function Uh(e,t,n){e==="focusin"?(yo(),Zn=t,dr=n,Zn.attachEvent("onpropertychange",Su)):e==="focusout"&&yo()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(dr)}function Yh(e,t){if(e==="click")return Js(t)}function Vh(e,t){if(e==="input"||e==="change")return Js(t)}function Dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:Dh;function mr(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Kl.call(t,l)||!Ye(e[l],t[l]))return!1}return!0}function vo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bo(e,t){var n=vo(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vo(n)}}function Tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(){for(var e=window,t=js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=js(e.document)}return t}function ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xh(e){var t=Eu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tu(n.ownerDocument.documentElement,n)){if(s!==null&&ii(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=bo(n,a);var i=bo(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kh=it&&"documentMode"in document&&11>=document.documentMode,an=null,ha=null,er=null,pa=!1;function No(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pa||an==null||an!==js(s)||(s=an,"selectionStart"in s&&ii(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),er&&mr(er,s)||(er=s,s=Rs(ha,"onSelect"),0<s.length&&(t=new si("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=an)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var on={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},El={},Cu={};it&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Zs(e){if(El[e])return El[e];if(!on[e])return e;var t=on[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cu)return El[e]=t[n];return e}var ku=Zs("animationend"),Ru=Zs("animationiteration"),Iu=Zs("animationstart"),Au=Zs("transitionend"),_u=new Map,jo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _t(e,t){_u.set(e,t),Jt(t,[e])}for(var Cl=0;Cl<jo.length;Cl++){var kl=jo[Cl],qh=kl.toLowerCase(),Qh=kl[0].toUpperCase()+kl.slice(1);_t(qh,"on"+Qh)}_t(ku,"onAnimationEnd");_t(Ru,"onAnimationIteration");_t(Iu,"onAnimationStart");_t("dblclick","onDoubleClick");_t("focusin","onFocus");_t("focusout","onBlur");_t(Au,"onTransitionEnd");wn("onMouseEnter",["mouseout","mouseover"]);wn("onMouseLeave",["mouseout","mouseover"]);wn("onPointerEnter",["pointerout","pointerover"]);wn("onPointerLeave",["pointerout","pointerover"]);Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function wo(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,qm(s,t,void 0,e),e.currentTarget=null}function Lu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],u=o.instance,p=o.currentTarget;if(o=o.listener,u!==a&&l.isPropagationStopped())break e;wo(l,o,p),a=u}else for(i=0;i<s.length;i++){if(o=s[i],u=o.instance,p=o.currentTarget,o=o.listener,u!==a&&l.isPropagationStopped())break e;wo(l,o,p),a=u}}}if(Ss)throw e=ca,Ss=!1,ca=null,e}function Y(e,t){var n=t[va];n===void 0&&(n=t[va]=new Set);var s=e+"__bubble";n.has(s)||(Pu(t,e,2,!1),n.add(s))}function Rl(e,t,n){var s=0;t&&(s|=4),Pu(n,e,s,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function hr(e){if(!e[Ur]){e[Ur]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(Gh.has(n)||Rl(n,!1,e),Rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ur]||(t[Ur]=!0,Rl("selectionchange",!1,t))}}function Pu(e,t,n,s){switch(gu(t)){case 1:var l=dh;break;case 4:l=mh;break;default:l=ni}n=l.bind(null,t,n,e),l=void 0,!oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Il(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;o!==null;){if(i=zt(o),i===null)return;if(u=i.tag,u===5||u===6){s=a=i;continue e}o=o.parentNode}}s=s.return}ru(function(){var p=a,f=Ja(n),m=[];e:{var g=_u.get(e);if(g!==void 0){var v=si,y=e;switch(e){case"keypress":if(ms(n)===0)break e;case"keydown":case"keyup":v=Ch;break;case"focusin":y="focus",v=wl;break;case"focusout":y="blur",v=wl;break;case"beforeblur":case"afterblur":v=wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ih;break;case ku:case Ru:case Iu:v=yh;break;case Au:v=_h;break;case"scroll":v=hh;break;case"wheel":v=Ph;break;case"copy":case"cut":case"paste":v=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ho}var N=(t&4)!==0,x=!N&&e==="scroll",c=N?g!==null?g+"Capture":null:g;N=[];for(var d=p,h;d!==null;){h=d;var j=h.stateNode;if(h.tag===5&&j!==null&&(h=j,c!==null&&(j=ir(d,c),j!=null&&N.push(pr(d,j,h)))),x)break;d=d.return}0<N.length&&(g=new v(g,y,null,n,f),m.push({event:g,listeners:N}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==aa&&(y=n.relatedTarget||n.fromElement)&&(zt(y)||y[ot]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=p,y=y?zt(y):null,y!==null&&(x=Zt(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=p),v!==y)){if(N=uo,j="onMouseLeave",c="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=ho,j="onPointerLeave",c="onPointerEnter",d="pointer"),x=v==null?g:cn(v),h=y==null?g:cn(y),g=new N(j,d+"leave",v,n,f),g.target=x,g.relatedTarget=h,j=null,zt(f)===p&&(N=new N(c,d+"enter",y,n,f),N.target=h,N.relatedTarget=x,j=N),x=j,v&&y)t:{for(N=v,c=y,d=0,h=N;h;h=nn(h))d++;for(h=0,j=c;j;j=nn(j))h++;for(;0<d-h;)N=nn(N),d--;for(;0<h-d;)c=nn(c),h--;for(;d--;){if(N===c||c!==null&&N===c.alternate)break t;N=nn(N),c=nn(c)}N=null}else N=null;v!==null&&So(m,g,v,N,!1),y!==null&&x!==null&&So(m,x,y,N,!0)}}e:{if(g=p?cn(p):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var S=Wh;else if(xo(g))if(wu)S=Vh;else{S=$h;var k=Uh}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=Yh);if(S&&(S=S(e,p))){ju(m,S,n,f);break e}k&&k(e,g,p),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&ta(g,"number",g.value)}switch(k=p?cn(p):window,e){case"focusin":(xo(k)||k.contentEditable==="true")&&(an=k,ha=p,er=null);break;case"focusout":er=ha=an=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,No(m,n,f);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":No(m,n,f)}var R;if(ai)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ln?bu(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(vu&&n.locale!=="ko"&&(ln||w!=="onCompositionStart"?w==="onCompositionEnd"&&ln&&(R=yu()):(bt=f,ri="value"in bt?bt.value:bt.textContent,ln=!0)),k=Rs(p,w),0<k.length&&(w=new mo(w,e,null,n,f),m.push({event:w,listeners:k}),R?w.data=R:(R=Nu(n),R!==null&&(w.data=R)))),(R=Oh?Fh(e,n):Bh(e,n))&&(p=Rs(p,"onBeforeInput"),0<p.length&&(f=new mo("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:p}),f.data=R))}Lu(m,t)})}function pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rs(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=ir(e,n),a!=null&&s.unshift(pr(e,a,l)),a=ir(e,t),a!=null&&s.push(pr(e,a,l))),e=e.return}return s}function nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function So(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,u=o.alternate,p=o.stateNode;if(u!==null&&u===s)break;o.tag===5&&p!==null&&(o=p,l?(u=ir(n,a),u!=null&&i.unshift(pr(n,u,o))):l||(u=ir(n,a),u!=null&&i.push(pr(n,u,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Jh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function To(e){return(typeof e=="string"?e:""+e).replace(Jh,`
`).replace(Zh,"")}function $r(e,t,n){if(t=To(t),To(e)!==t&&n)throw Error(C(425))}function Is(){}var fa=null,xa=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,Eo=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof Eo<"u"?function(e){return Eo.resolve(null).then(e).catch(n0)}:ya;function n0(e){setTimeout(function(){throw e})}function Al(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),ur(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);ur(t)}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Co(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Ln,fr="__reactProps$"+Ln,ot="__reactContainer$"+Ln,va="__reactEvents$"+Ln,r0="__reactListeners$"+Ln,s0="__reactHandles$"+Ln;function zt(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ot]||n[Qe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Co(e);e!==null;){if(n=e[Qe])return n;e=Co(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[Qe]||e[ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function el(e){return e[fr]||null}var ba=[],un=-1;function Lt(e){return{current:e}}function V(e){0>un||(e.current=ba[un],ba[un]=null,un--)}function $(e,t){un++,ba[un]=e.current,e.current=t}var At={},pe=Lt(At),je=Lt(!1),Vt=At;function Sn(e,t){var n=e.type.contextTypes;if(!n)return At;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function we(e){return e=e.childContextTypes,e!=null}function As(){V(je),V(pe)}function ko(e,t,n){if(pe.current!==At)throw Error(C(168));$(pe,t),$(je,n)}function Mu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(C(108,Um(e)||"Unknown",l));return Q({},n,s)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,Vt=pe.current,$(pe,e),$(je,je.current),!0}function Ro(e,t,n){var s=e.stateNode;if(!s)throw Error(C(169));n?(e=Mu(e,t,Vt),s.__reactInternalMemoizedMergedChildContext=e,V(je),V(pe),$(pe,e)):V(je),$(je,n)}var nt=null,tl=!1,_l=!1;function Ou(e){nt===null?nt=[e]:nt.push(e)}function l0(e){tl=!0,Ou(e)}function Pt(){if(!_l&&nt!==null){_l=!0;var e=0,t=U;try{var n=nt;for(U=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}nt=null,tl=!1}catch(l){throw nt!==null&&(nt=nt.slice(e+1)),iu(Za,Pt),l}finally{U=t,_l=!1}}return null}var dn=[],mn=0,Ls=null,Ps=0,_e=[],Le=0,Dt=null,rt=1,st="";function Ft(e,t){dn[mn++]=Ps,dn[mn++]=Ls,Ls=e,Ps=t}function Fu(e,t,n){_e[Le++]=rt,_e[Le++]=st,_e[Le++]=Dt,Dt=e;var s=rt;e=st;var l=32-Ue(s)-1;s&=~(1<<l),n+=1;var a=32-Ue(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,rt=1<<32-Ue(t)+l|n<<l|s,st=a+e}else rt=1<<a|n<<l|s,st=e}function oi(e){e.return!==null&&(Ft(e,1),Fu(e,1,0))}function ci(e){for(;e===Ls;)Ls=dn[--mn],dn[mn]=null,Ps=dn[--mn],dn[mn]=null;for(;e===Dt;)Dt=_e[--Le],_e[Le]=null,st=_e[--Le],_e[Le]=null,rt=_e[--Le],_e[Le]=null}var Ce=null,Ee=null,D=!1,We=null;function Bu(e,t){var n=Pe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Io(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ce=e,Ee=Tt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ce=e,Ee=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dt!==null?{id:rt,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ce=e,Ee=null,!0):!1;default:return!1}}function Na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ja(e){if(D){var t=Ee;if(t){var n=t;if(!Io(e,t)){if(Na(e))throw Error(C(418));t=Tt(n.nextSibling);var s=Ce;t&&Io(e,t)?Bu(s,n):(e.flags=e.flags&-4097|2,D=!1,Ce=e)}}else{if(Na(e))throw Error(C(418));e.flags=e.flags&-4097|2,D=!1,Ce=e}}}function Ao(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ce=e}function Yr(e){if(e!==Ce)return!1;if(!D)return Ao(e),D=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Ee)){if(Na(e))throw Hu(),Error(C(418));for(;t;)Bu(e,t),t=Tt(t.nextSibling)}if(Ao(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ee=Tt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ee=null}}else Ee=Ce?Tt(e.stateNode.nextSibling):null;return!0}function Hu(){for(var e=Ee;e;)e=Tt(e.nextSibling)}function Tn(){Ee=Ce=null,D=!1}function ui(e){We===null?We=[e]:We.push(e)}var a0=mt.ReactCurrentBatchConfig;function Un(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var s=n.stateNode}if(!s)throw Error(C(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Vr(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){var t=e._init;return t(e._payload)}function zu(e){function t(c,d){if(e){var h=c.deletions;h===null?(c.deletions=[d],c.flags|=16):h.push(d)}}function n(c,d){if(!e)return null;for(;d!==null;)t(c,d),d=d.sibling;return null}function s(c,d){for(c=new Map;d!==null;)d.key!==null?c.set(d.key,d):c.set(d.index,d),d=d.sibling;return c}function l(c,d){return c=Rt(c,d),c.index=0,c.sibling=null,c}function a(c,d,h){return c.index=h,e?(h=c.alternate,h!==null?(h=h.index,h<d?(c.flags|=2,d):h):(c.flags|=2,d)):(c.flags|=1048576,d)}function i(c){return e&&c.alternate===null&&(c.flags|=2),c}function o(c,d,h,j){return d===null||d.tag!==6?(d=Hl(h,c.mode,j),d.return=c,d):(d=l(d,h),d.return=c,d)}function u(c,d,h,j){var S=h.type;return S===sn?f(c,d,h.props.children,j,h.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&_o(S)===d.type)?(j=l(d,h.props),j.ref=Un(c,d,h),j.return=c,j):(j=vs(h.type,h.key,h.props,null,c.mode,j),j.ref=Un(c,d,h),j.return=c,j)}function p(c,d,h,j){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=zl(h,c.mode,j),d.return=c,d):(d=l(d,h.children||[]),d.return=c,d)}function f(c,d,h,j,S){return d===null||d.tag!==7?(d=Yt(h,c.mode,j,S),d.return=c,d):(d=l(d,h),d.return=c,d)}function m(c,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Hl(""+d,c.mode,h),d.return=c,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Pr:return h=vs(d.type,d.key,d.props,null,c.mode,h),h.ref=Un(c,null,d),h.return=c,h;case rn:return d=zl(d,c.mode,h),d.return=c,d;case xt:var j=d._init;return m(c,j(d._payload),h)}if(Xn(d)||Fn(d))return d=Yt(d,c.mode,h,null),d.return=c,d;Vr(c,d)}return null}function g(c,d,h,j){var S=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:o(c,d,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Pr:return h.key===S?u(c,d,h,j):null;case rn:return h.key===S?p(c,d,h,j):null;case xt:return S=h._init,g(c,d,S(h._payload),j)}if(Xn(h)||Fn(h))return S!==null?null:f(c,d,h,j,null);Vr(c,h)}return null}function v(c,d,h,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return c=c.get(h)||null,o(d,c,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pr:return c=c.get(j.key===null?h:j.key)||null,u(d,c,j,S);case rn:return c=c.get(j.key===null?h:j.key)||null,p(d,c,j,S);case xt:var k=j._init;return v(c,d,h,k(j._payload),S)}if(Xn(j)||Fn(j))return c=c.get(h)||null,f(d,c,j,S,null);Vr(d,j)}return null}function y(c,d,h,j){for(var S=null,k=null,R=d,w=d=0,I=null;R!==null&&w<h.length;w++){R.index>w?(I=R,R=null):I=R.sibling;var T=g(c,R,h[w],j);if(T===null){R===null&&(R=I);break}e&&R&&T.alternate===null&&t(c,R),d=a(T,d,w),k===null?S=T:k.sibling=T,k=T,R=I}if(w===h.length)return n(c,R),D&&Ft(c,w),S;if(R===null){for(;w<h.length;w++)R=m(c,h[w],j),R!==null&&(d=a(R,d,w),k===null?S=R:k.sibling=R,k=R);return D&&Ft(c,w),S}for(R=s(c,R);w<h.length;w++)I=v(R,c,w,h[w],j),I!==null&&(e&&I.alternate!==null&&R.delete(I.key===null?w:I.key),d=a(I,d,w),k===null?S=I:k.sibling=I,k=I);return e&&R.forEach(function(A){return t(c,A)}),D&&Ft(c,w),S}function N(c,d,h,j){var S=Fn(h);if(typeof S!="function")throw Error(C(150));if(h=S.call(h),h==null)throw Error(C(151));for(var k=S=null,R=d,w=d=0,I=null,T=h.next();R!==null&&!T.done;w++,T=h.next()){R.index>w?(I=R,R=null):I=R.sibling;var A=g(c,R,T.value,j);if(A===null){R===null&&(R=I);break}e&&R&&A.alternate===null&&t(c,R),d=a(A,d,w),k===null?S=A:k.sibling=A,k=A,R=I}if(T.done)return n(c,R),D&&Ft(c,w),S;if(R===null){for(;!T.done;w++,T=h.next())T=m(c,T.value,j),T!==null&&(d=a(T,d,w),k===null?S=T:k.sibling=T,k=T);return D&&Ft(c,w),S}for(R=s(c,R);!T.done;w++,T=h.next())T=v(R,c,w,T.value,j),T!==null&&(e&&T.alternate!==null&&R.delete(T.key===null?w:T.key),d=a(T,d,w),k===null?S=T:k.sibling=T,k=T);return e&&R.forEach(function(z){return t(c,z)}),D&&Ft(c,w),S}function x(c,d,h,j){if(typeof h=="object"&&h!==null&&h.type===sn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Pr:e:{for(var S=h.key,k=d;k!==null;){if(k.key===S){if(S=h.type,S===sn){if(k.tag===7){n(c,k.sibling),d=l(k,h.props.children),d.return=c,c=d;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&_o(S)===k.type){n(c,k.sibling),d=l(k,h.props),d.ref=Un(c,k,h),d.return=c,c=d;break e}n(c,k);break}else t(c,k);k=k.sibling}h.type===sn?(d=Yt(h.props.children,c.mode,j,h.key),d.return=c,c=d):(j=vs(h.type,h.key,h.props,null,c.mode,j),j.ref=Un(c,d,h),j.return=c,c=j)}return i(c);case rn:e:{for(k=h.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(c,d.sibling),d=l(d,h.children||[]),d.return=c,c=d;break e}else{n(c,d);break}else t(c,d);d=d.sibling}d=zl(h,c.mode,j),d.return=c,c=d}return i(c);case xt:return k=h._init,x(c,d,k(h._payload),j)}if(Xn(h))return y(c,d,h,j);if(Fn(h))return N(c,d,h,j);Vr(c,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(c,d.sibling),d=l(d,h),d.return=c,c=d):(n(c,d),d=Hl(h,c.mode,j),d.return=c,c=d),i(c)):n(c,d)}return x}var En=zu(!0),Wu=zu(!1),Ms=Lt(null),Os=null,hn=null,di=null;function mi(){di=hn=Os=null}function hi(e){var t=Ms.current;V(Ms),e._currentValue=t}function wa(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function bn(e,t){Os=e,di=hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Oe(e){var t=e._currentValue;if(di!==e)if(e={context:e,memoizedValue:t,next:null},hn===null){if(Os===null)throw Error(C(308));hn=e,Os.dependencies={lanes:0,firstContext:e}}else hn=hn.next=e;return t}var Wt=null;function pi(e){Wt===null?Wt=[e]:Wt.push(e)}function Uu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,pi(t)):(n.next=l.next,l.next=n),t.interleaved=n,ct(e,s)}function ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gt=!1;function fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,W&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ct(e,n)}return l=s.interleaved,l===null?(t.next=t,pi(s)):(t.next=l.next,l.next=t),s.interleaved=t,ct(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ei(e,n)}}function Lo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,s){var l=e.updateQueue;gt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,p=u.next;u.next=null,i===null?a=p:i.next=p,i=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=p:o.next=p,f.lastBaseUpdate=u))}if(a!==null){var m=l.baseState;i=0,f=p=u=null,o=a;do{var g=o.lane,v=o.eventTime;if((s&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,N=o;switch(g=t,v=n,N.tag){case 1:if(y=N.payload,typeof y=="function"){m=y.call(v,m,g);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=N.payload,g=typeof y=="function"?y.call(v,m,g):y,g==null)break e;m=Q({},m,g);break e;case 2:gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else v={eventTime:v,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(p=f=v,u=m):f=f.next=v,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(f===null&&(u=m),l.baseState=u,l.firstBaseUpdate=p,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Kt|=i,e.lanes=i,e.memoizedState=m}}function Po(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(C(191,l));l.call(s)}}}var kr={},Je=Lt(kr),xr=Lt(kr),gr=Lt(kr);function Ut(e){if(e===kr)throw Error(C(174));return e}function xi(e,t){switch($(gr,t),$(xr,e),$(Je,kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ra(t,e)}V(Je),$(Je,t)}function Cn(){V(Je),V(xr),V(gr)}function Yu(e){Ut(gr.current);var t=Ut(Je.current),n=ra(t,e.type);t!==n&&($(xr,e),$(Je,n))}function gi(e){xr.current===e&&(V(Je),V(xr))}var K=Lt(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function yi(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var ps=mt.ReactCurrentDispatcher,Pl=mt.ReactCurrentBatchConfig,Xt=0,q=null,te=null,le=null,Hs=!1,tr=!1,yr=0,i0=0;function de(){throw Error(C(321))}function vi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function bi(e,t,n,s,l,a){if(Xt=a,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=e===null||e.memoizedState===null?d0:m0,e=n(s,l),tr){a=0;do{if(tr=!1,yr=0,25<=a)throw Error(C(301));a+=1,le=te=null,t.updateQueue=null,ps.current=h0,e=n(s,l)}while(tr)}if(ps.current=zs,t=te!==null&&te.next!==null,Xt=0,le=te=q=null,Hs=!1,t)throw Error(C(300));return e}function Ni(){var e=yr!==0;return yr=0,e}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?q.memoizedState=le=e:le=le.next=e,le}function Fe(){if(te===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=le===null?q.memoizedState:le.next;if(t!==null)le=t,te=e;else{if(e===null)throw Error(C(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},le===null?q.memoizedState=le=e:le=le.next=e}return le}function vr(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=Fe(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var s=te,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,u=null,p=a;do{var f=p.lane;if((Xt&f)===f)u!==null&&(u=u.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var m={lane:f,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};u===null?(o=u=m,i=s):u=u.next=m,q.lanes|=f,Kt|=f}p=p.next}while(p!==null&&p!==a);u===null?i=s:u.next=o,Ye(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=u,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,q.lanes|=a,Kt|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=Fe(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Ye(a,t.memoizedState)||(Ne=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Vu(){}function Du(e,t){var n=q,s=Fe(),l=t(),a=!Ye(s.memoizedState,l);if(a&&(s.memoizedState=l,Ne=!0),s=s.queue,ji(qu.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,br(9,Ku.bind(null,n,s,l,t),void 0,null),ae===null)throw Error(C(349));Xt&30||Xu(n,t,l)}return l}function Xu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ku(e,t,n,s){t.value=n,t.getSnapshot=s,Qu(t)&&Gu(e)}function qu(e,t,n){return n(function(){Qu(t)&&Gu(e)})}function Qu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function Gu(e){var t=ct(e,1);t!==null&&$e(t,e,1,-1)}function Mo(e){var t=Ke();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},t.queue=e,e=e.dispatch=u0.bind(null,q,e),[t.memoizedState,e]}function br(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ju(){return Fe().memoizedState}function fs(e,t,n,s){var l=Ke();q.flags|=e,l.memoizedState=br(1|t,n,void 0,s===void 0?null:s)}function nl(e,t,n,s){var l=Fe();s=s===void 0?null:s;var a=void 0;if(te!==null){var i=te.memoizedState;if(a=i.destroy,s!==null&&vi(s,i.deps)){l.memoizedState=br(t,n,a,s);return}}q.flags|=e,l.memoizedState=br(1|t,n,a,s)}function Oo(e,t){return fs(8390656,8,e,t)}function ji(e,t){return nl(2048,8,e,t)}function Zu(e,t){return nl(4,2,e,t)}function ed(e,t){return nl(4,4,e,t)}function td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nd(e,t,n){return n=n!=null?n.concat([e]):null,nl(4,4,td.bind(null,t,e),n)}function wi(){}function rd(e,t){var n=Fe();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&vi(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sd(e,t){var n=Fe();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&vi(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ld(e,t,n){return Xt&21?(Ye(n,t)||(n=uu(),q.lanes|=n,Kt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function o0(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var s=Pl.transition;Pl.transition={};try{e(!1),t()}finally{U=n,Pl.transition=s}}function ad(){return Fe().memoizedState}function c0(e,t,n){var s=kt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},id(e))od(t,n);else if(n=Uu(e,t,n,s),n!==null){var l=ge();$e(n,e,s,l),cd(n,t,s)}}function u0(e,t,n){var s=kt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(id(e))od(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,Ye(o,i)){var u=t.interleaved;u===null?(l.next=l,pi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Uu(e,t,l,s),n!==null&&(l=ge(),$e(n,e,s,l),cd(n,t,s))}}function id(e){var t=e.alternate;return e===q||t!==null&&t===q}function od(e,t){tr=Hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cd(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ei(e,n)}}var zs={readContext:Oe,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},d0={readContext:Oe,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Oe,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fs(4194308,4,td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return fs(4,2,e,t)},useMemo:function(e,t){var n=Ke();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ke();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=c0.bind(null,q,e),[s.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:Mo,useDebugValue:wi,useDeferredValue:function(e){return Ke().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=o0.bind(null,e[1]),Ke().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=q,l=Ke();if(D){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ae===null)throw Error(C(349));Xt&30||Xu(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Oo(qu.bind(null,s,a,e),[e]),s.flags|=2048,br(9,Ku.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ke(),t=ae.identifierPrefix;if(D){var n=st,s=rt;n=(s&~(1<<32-Ue(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m0={readContext:Oe,useCallback:rd,useContext:Oe,useEffect:ji,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:sd,useReducer:Ml,useRef:Ju,useState:function(){return Ml(vr)},useDebugValue:wi,useDeferredValue:function(e){var t=Fe();return ld(t,te.memoizedState,e)},useTransition:function(){var e=Ml(vr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Du,useId:ad,unstable_isNewReconciler:!1},h0={readContext:Oe,useCallback:rd,useContext:Oe,useEffect:ji,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:sd,useReducer:Ol,useRef:Ju,useState:function(){return Ol(vr)},useDebugValue:wi,useDeferredValue:function(e){var t=Fe();return te===null?t.memoizedState=e:ld(t,te.memoizedState,e)},useTransition:function(){var e=Ol(vr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Du,useId:ad,unstable_isNewReconciler:!1};function He(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ge(),l=kt(e),a=lt(s,l);a.payload=t,n!=null&&(a.callback=n),t=Et(e,a,l),t!==null&&($e(t,e,l,s),hs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ge(),l=kt(e),a=lt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Et(e,a,l),t!==null&&($e(t,e,l,s),hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ge(),s=kt(e),l=lt(n,s);l.tag=2,t!=null&&(l.callback=t),t=Et(e,l,s),t!==null&&($e(t,e,s,n),hs(t,e,s))}};function Fo(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!mr(n,s)||!mr(l,a):!0}function ud(e,t,n){var s=!1,l=At,a=t.contextType;return typeof a=="object"&&a!==null?a=Oe(a):(l=we(t)?Vt:pe.current,s=t.contextTypes,a=(s=s!=null)?Sn(e,l):At),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},fi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Oe(a):(a=we(t)?Vt:pe.current,l.context=Sn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&rl.enqueueReplaceState(l,l.state,null),Fs(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function kn(e,t){try{var n="",s=t;do n+=Wm(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Fl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p0=typeof WeakMap=="function"?WeakMap:Map;function dd(e,t,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Us||(Us=!0,Oa=s),Ea(e,t)},n}function md(e,t,n){n=lt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Ea(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof s!="function"&&(Ct===null?Ct=new Set([this]):Ct.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ho(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new p0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=k0.bind(null,e,t,n),t.then(e,e))}function zo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wo(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lt(-1,1),t.tag=2,Et(n,t,1))),n.lanes|=1),e)}var f0=mt.ReactCurrentOwner,Ne=!1;function xe(e,t,n,s){t.child=e===null?Wu(t,null,n,s):En(t,e.child,n,s)}function Uo(e,t,n,s,l){n=n.render;var a=t.ref;return bn(t,l),s=bi(e,t,n,s,a,l),n=Ni(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ut(e,t,l)):(D&&n&&oi(t),t.flags|=1,xe(e,t,s,l),t.child)}function $o(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ai(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,hd(e,t,a,s,l)):(e=vs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:mr,n(i,s)&&e.ref===t.ref)return ut(e,t,l)}return t.flags|=1,e=Rt(a,s),e.ref=t.ref,e.return=t,t.child=e}function hd(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(mr(a,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,ut(e,t,l)}return Ca(e,t,n,s,l)}function pd(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(fn,Te),Te|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$(fn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,$(fn,Te),Te|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,$(fn,Te),Te|=s;return xe(e,t,l,n),t.child}function fd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,s,l){var a=we(n)?Vt:pe.current;return a=Sn(t,a),bn(t,l),n=bi(e,t,n,s,a,l),s=Ni(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ut(e,t,l)):(D&&s&&oi(t),t.flags|=1,xe(e,t,n,l),t.child)}function Yo(e,t,n,s,l){if(we(n)){var a=!0;_s(t)}else a=!1;if(bn(t,l),t.stateNode===null)xs(e,t),ud(t,n,s),Ta(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var u=i.context,p=n.contextType;typeof p=="object"&&p!==null?p=Oe(p):(p=we(n)?Vt:pe.current,p=Sn(t,p));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||u!==p)&&Bo(t,i,s,p),gt=!1;var g=t.memoizedState;i.state=g,Fs(t,s,i,l),u=t.memoizedState,o!==s||g!==u||je.current||gt?(typeof f=="function"&&(Sa(t,n,f,s),u=t.memoizedState),(o=gt||Fo(t,n,o,s,g,u,p))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),i.props=s,i.state=u,i.context=p,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,$u(e,t),o=t.memoizedProps,p=t.type===t.elementType?o:He(t.type,o),i.props=p,m=t.pendingProps,g=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Oe(u):(u=we(n)?Vt:pe.current,u=Sn(t,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||g!==u)&&Bo(t,i,s,u),gt=!1,g=t.memoizedState,i.state=g,Fs(t,s,i,l);var y=t.memoizedState;o!==m||g!==y||je.current||gt?(typeof v=="function"&&(Sa(t,n,v,s),y=t.memoizedState),(p=gt||Fo(t,n,p,s,g,y,u)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),i.props=s,i.state=y,i.context=u,s=p):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return ka(e,t,n,s,a,l)}function ka(e,t,n,s,l,a){fd(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Ro(t,n,!1),ut(e,t,a);s=t.stateNode,f0.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=En(t,e.child,null,a),t.child=En(t,null,o,a)):xe(e,t,o,a),t.memoizedState=s.state,l&&Ro(t,n,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?ko(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ko(e,t.context,!1),xi(e,t.containerInfo)}function Vo(e,t,n,s,l){return Tn(),ui(l),t.flags|=256,xe(e,t,n,s),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function gd(e,t,n){var s=t.pendingProps,l=K.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),$(K,l&1),e===null)return ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=al(i,s,0,null),e=Yt(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ia(n),t.memoizedState=Ra,e):Si(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return x0(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=u,t.deletions=null):(s=Rt(l,u),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Rt(o,a):(a=Yt(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ia(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,s}return a=e.child,e=a.sibling,s=Rt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Si(e,t){return t=al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,s){return s!==null&&ui(s),En(t,e.child,null,n),e=Si(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=Fl(Error(C(422))),Dr(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=al({mode:"visible",children:s.children},l,0,null),a=Yt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&En(t,e.child,null,i),t.child.memoizedState=Ia(i),t.memoizedState=Ra,a);if(!(t.mode&1))return Dr(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(C(419)),s=Fl(a,s,void 0),Dr(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ne||o){if(s=ae,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ct(e,l),$e(s,e,l,-1))}return Ii(),s=Fl(Error(C(421))),Dr(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ee=Tt(l.nextSibling),Ce=t,D=!0,We=null,e!==null&&(_e[Le++]=rt,_e[Le++]=st,_e[Le++]=Dt,rt=e.id,st=e.overflow,Dt=t),t=Si(t,s.children),t.flags|=4096,t)}function Do(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wa(e.return,t,n)}function Bl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function yd(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(xe(e,t,s.children,n),s=K.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Do(e,n,t);else if(e.tag===19)Do(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($(K,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Bl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Bs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Bl(t,!0,n,null,a);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Rt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g0(e,t,n){switch(t.tag){case 3:xd(t),Tn();break;case 5:Yu(t);break;case 1:we(t.type)&&_s(t);break;case 4:xi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;$(Ms,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($(K,K.current&1),t.flags|=128,null):n&t.child.childLanes?gd(e,t,n):($(K,K.current&1),e=ut(e,t,n),e!==null?e.sibling:null);$(K,K.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return yd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),$(K,K.current),s)break;return null;case 22:case 23:return t.lanes=0,pd(e,t,n)}return ut(e,t,n)}var vd,Aa,bd,Nd;vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Aa=function(){};bd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Ut(Je.current);var a=null;switch(n){case"input":l=Zl(e,l),s=Zl(e,s),a=[];break;case"select":l=Q({},l,{value:void 0}),s=Q({},s,{value:void 0}),a=[];break;case"textarea":l=na(e,l),s=na(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Is)}sa(n,s);var i;n=null;for(p in l)if(!s.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var o=l[p];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(lr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in s){var u=s[p];if(o=l!=null?l[p]:void 0,s.hasOwnProperty(p)&&u!==o&&(u!=null||o!=null))if(p==="style")if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(p,n)),n=u;else p==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(p,u)):p==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(p,""+u):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(lr.hasOwnProperty(p)?(u!=null&&p==="onScroll"&&Y("scroll",e),a||o===u||(a=[])):(a=a||[]).push(p,u))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Nd=function(e,t,n,s){n!==s&&(t.flags|=4)};function $n(e,t){if(!D)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function y0(e,t,n){var s=t.pendingProps;switch(ci(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return we(t.type)&&As(),me(t),null;case 3:return s=t.stateNode,Cn(),V(je),V(pe),yi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,We!==null&&(Ha(We),We=null))),Aa(e,t),me(t),null;case 5:gi(t);var l=Ut(gr.current);if(n=t.type,e!==null&&t.stateNode!=null)bd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(C(166));return me(t),null}if(e=Ut(Je.current),Yr(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Qe]=t,s[fr]=a,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",s),Y("close",s);break;case"iframe":case"object":case"embed":Y("load",s);break;case"video":case"audio":for(l=0;l<qn.length;l++)Y(qn[l],s);break;case"source":Y("error",s);break;case"img":case"image":case"link":Y("error",s),Y("load",s);break;case"details":Y("toggle",s);break;case"input":eo(s,a),Y("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Y("invalid",s);break;case"textarea":no(s,a),Y("invalid",s)}sa(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&$r(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$r(s.textContent,o,e),l=["children",""+o]):lr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Y("scroll",s)}switch(n){case"input":Mr(s),to(s,a,!0);break;case"textarea":Mr(s),ro(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Is)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Qe]=t,e[fr]=s,vd(e,t,!1,!1),t.stateNode=e;e:{switch(i=la(n,s),n){case"dialog":Y("cancel",e),Y("close",e),l=s;break;case"iframe":case"object":case"embed":Y("load",e),l=s;break;case"video":case"audio":for(l=0;l<qn.length;l++)Y(qn[l],e);l=s;break;case"source":Y("error",e),l=s;break;case"img":case"image":case"link":Y("error",e),Y("load",e),l=s;break;case"details":Y("toggle",e),l=s;break;case"input":eo(e,s),l=Zl(e,s),Y("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Q({},s,{value:void 0}),Y("invalid",e);break;case"textarea":no(e,s),l=na(e,s),Y("invalid",e);break;default:l=s}sa(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?Jc(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qc(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ar(e,u):typeof u=="number"&&ar(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lr.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Y("scroll",e):u!=null&&Ka(e,a,u,i))}switch(n){case"input":Mr(e),to(e,s,!1);break;case"textarea":Mr(e),ro(e);break;case"option":s.value!=null&&e.setAttribute("value",""+It(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?xn(e,!!s.multiple,a,!1):s.defaultValue!=null&&xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Nd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(C(166));if(n=Ut(gr.current),Ut(Je.current),Yr(t)){if(s=t.stateNode,n=t.memoizedProps,s[Qe]=t,(a=s.nodeValue!==n)&&(e=Ce,e!==null))switch(e.tag){case 3:$r(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$r(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Qe]=t,t.stateNode=s}return me(t),null;case 13:if(V(K),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(D&&Ee!==null&&t.mode&1&&!(t.flags&128))Hu(),Tn(),t.flags|=98560,a=!1;else if(a=Yr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[Qe]=t}else Tn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),a=!1}else We!==null&&(Ha(We),We=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?re===0&&(re=3):Ii())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Cn(),Aa(e,t),e===null&&hr(t.stateNode.containerInfo),me(t),null;case 10:return hi(t.type._context),me(t),null;case 17:return we(t.type)&&As(),me(t),null;case 19:if(V(K),a=t.memoizedState,a===null)return me(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)$n(a,!1);else{if(re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bs(e),i!==null){for(t.flags|=128,$n(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $(K,K.current&1|2),t.child}e=e.sibling}a.tail!==null&&Z()>Rn&&(t.flags|=128,s=!0,$n(a,!1),t.lanes=4194304)}else{if(!s)if(e=Bs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$n(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!D)return me(t),null}else 2*Z()-a.renderingStartTime>Rn&&n!==1073741824&&(t.flags|=128,s=!0,$n(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Z(),t.sibling=null,n=K.current,$(K,s?n&1|2:n&1),t):(me(t),null);case 22:case 23:return Ri(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Te&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function v0(e,t){switch(ci(t),t.tag){case 1:return we(t.type)&&As(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),V(je),V(pe),yi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gi(t),null;case 13:if(V(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(K),null;case 4:return Cn(),null;case 10:return hi(t.type._context),null;case 22:case 23:return Ri(),null;case 24:return null;default:return null}}var Xr=!1,he=!1,b0=typeof WeakSet=="function"?WeakSet:Set,_=null;function pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){G(e,t,s)}else n.current=null}function _a(e,t,n){try{n()}catch(s){G(e,t,s)}}var Xo=!1;function N0(e,t){if(fa=Cs,e=Eu(),ii(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,u=-1,p=0,f=0,m=e,g=null;t:for(;;){for(var v;m!==n||l!==0&&m.nodeType!==3||(o=i+l),m!==a||s!==0&&m.nodeType!==3||(u=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===e)break t;if(g===n&&++p===l&&(o=i),g===a&&++f===s&&(u=i),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},Cs=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var N=y.memoizedProps,x=y.memoizedState,c=t.stateNode,d=c.getSnapshotBeforeUpdate(t.elementType===t.type?N:He(t.type,N),x);c.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(j){G(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return y=Xo,Xo=!1,y}function nr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&_a(t,n,a)}l=l.next}while(l!==s)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function La(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qe],delete t[fr],delete t[va],delete t[r0],delete t[s0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wd(e){return e.tag===5||e.tag===3||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Is));else if(s!==4&&(e=e.child,e!==null))for(Pa(e,t,n),e=e.sibling;e!==null;)Pa(e,t,n),e=e.sibling}function Ma(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ma(e,t,n),e=e.sibling;e!==null;)Ma(e,t,n),e=e.sibling}var ie=null,ze=!1;function pt(e,t,n){for(n=n.child;n!==null;)Sd(e,t,n),n=n.sibling}function Sd(e,t,n){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qs,n)}catch{}switch(n.tag){case 5:he||pn(n,t);case 6:var s=ie,l=ze;ie=null,pt(e,t,n),ie=s,ze=l,ie!==null&&(ze?(e=ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(ze?(e=ie,n=n.stateNode,e.nodeType===8?Al(e.parentNode,n):e.nodeType===1&&Al(e,n),ur(e)):Al(ie,n.stateNode));break;case 4:s=ie,l=ze,ie=n.stateNode.containerInfo,ze=!0,pt(e,t,n),ie=s,ze=l;break;case 0:case 11:case 14:case 15:if(!he&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&_a(n,t,i),l=l.next}while(l!==s)}pt(e,t,n);break;case 1:if(!he&&(pn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){G(n,t,o)}pt(e,t,n);break;case 21:pt(e,t,n);break;case 22:n.mode&1?(he=(s=he)||n.memoizedState!==null,pt(e,t,n),he=s):pt(e,t,n);break;default:pt(e,t,n)}}function qo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b0),t.forEach(function(s){var l=I0.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ie=o.stateNode,ze=!1;break e;case 3:ie=o.stateNode.containerInfo,ze=!0;break e;case 4:ie=o.stateNode.containerInfo,ze=!0;break e}o=o.return}if(ie===null)throw Error(C(160));Sd(a,i,l),ie=null,ze=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(p){G(l,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}function Td(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Xe(e),s&4){try{nr(3,e,e.return),sl(3,e)}catch(N){G(e,e.return,N)}try{nr(5,e,e.return)}catch(N){G(e,e.return,N)}}break;case 1:Be(t,e),Xe(e),s&512&&n!==null&&pn(n,n.return);break;case 5:if(Be(t,e),Xe(e),s&512&&n!==null&&pn(n,n.return),e.flags&32){var l=e.stateNode;try{ar(l,"")}catch(N){G(e,e.return,N)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Xc(l,a),la(o,i);var p=la(o,a);for(i=0;i<u.length;i+=2){var f=u[i],m=u[i+1];f==="style"?Jc(l,m):f==="dangerouslySetInnerHTML"?Qc(l,m):f==="children"?ar(l,m):Ka(l,f,m,p)}switch(o){case"input":ea(l,a);break;case"textarea":Kc(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?xn(l,!!a.multiple,v,!1):g!==!!a.multiple&&(a.defaultValue!=null?xn(l,!!a.multiple,a.defaultValue,!0):xn(l,!!a.multiple,a.multiple?[]:"",!1))}l[fr]=a}catch(N){G(e,e.return,N)}}break;case 6:if(Be(t,e),Xe(e),s&4){if(e.stateNode===null)throw Error(C(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(N){G(e,e.return,N)}}break;case 3:if(Be(t,e),Xe(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(N){G(e,e.return,N)}break;case 4:Be(t,e),Xe(e);break;case 13:Be(t,e),Xe(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ci=Z())),s&4&&qo(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(he=(p=he)||f,Be(t,e),he=p):Be(t,e),Xe(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!f&&e.mode&1)for(_=e,f=e.child;f!==null;){for(m=_=f;_!==null;){switch(g=_,v=g.child,g.tag){case 0:case 11:case 14:case 15:nr(4,g,g.return);break;case 1:pn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(N){G(s,n,N)}}break;case 5:pn(g,g.return);break;case 22:if(g.memoizedState!==null){Go(m);continue}}v!==null?(v.return=g,_=v):Go(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{l=m.stateNode,p?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,u=m.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Gc("display",i))}catch(N){G(e,e.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(N){G(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Be(t,e),Xe(e),s&4&&qo(e);break;case 21:break;default:Be(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wd(n)){var s=n;break e}n=n.return}throw Error(C(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(ar(l,""),s.flags&=-33);var a=Ko(e);Ma(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Ko(e);Pa(e,o,i);break;default:throw Error(C(161))}}catch(u){G(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j0(e,t,n){_=e,Ed(e)}function Ed(e,t,n){for(var s=(e.mode&1)!==0;_!==null;){var l=_,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Xr;if(!i){var o=l.alternate,u=o!==null&&o.memoizedState!==null||he;o=Xr;var p=he;if(Xr=i,(he=u)&&!p)for(_=l;_!==null;)i=_,u=i.child,i.tag===22&&i.memoizedState!==null?Jo(l):u!==null?(u.return=i,_=u):Jo(l);for(;a!==null;)_=a,Ed(a),a=a.sibling;_=l,Xr=o,he=p}Qo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,_=a):Qo(e)}}function Qo(e){for(;_!==null;){var t=_;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:he||sl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!he)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:He(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Po(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Po(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var f=p.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&ur(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}he||t.flags&512&&La(t)}catch(g){G(t,t.return,g)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function Go(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function Jo(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(u){G(t,n,u)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(u){G(t,l,u)}}var a=t.return;try{La(t)}catch(u){G(t,a,u)}break;case 5:var i=t.return;try{La(t)}catch(u){G(t,i,u)}}}catch(u){G(t,t.return,u)}if(t===e){_=null;break}var o=t.sibling;if(o!==null){o.return=t.return,_=o;break}_=t.return}}var w0=Math.ceil,Ws=mt.ReactCurrentDispatcher,Ti=mt.ReactCurrentOwner,Me=mt.ReactCurrentBatchConfig,W=0,ae=null,ee=null,oe=0,Te=0,fn=Lt(0),re=0,Nr=null,Kt=0,ll=0,Ei=0,rr=null,be=null,Ci=0,Rn=1/0,tt=null,Us=!1,Oa=null,Ct=null,Kr=!1,Nt=null,$s=0,sr=0,Fa=null,gs=-1,ys=0;function ge(){return W&6?Z():gs!==-1?gs:gs=Z()}function kt(e){return e.mode&1?W&2&&oe!==0?oe&-oe:a0.transition!==null?(ys===0&&(ys=uu()),ys):(e=U,e!==0||(e=window.event,e=e===void 0?16:gu(e.type)),e):1}function $e(e,t,n,s){if(50<sr)throw sr=0,Fa=null,Error(C(185));Tr(e,n,s),(!(W&2)||e!==ae)&&(e===ae&&(!(W&2)&&(ll|=n),re===4&&vt(e,oe)),Se(e,s),n===1&&W===0&&!(t.mode&1)&&(Rn=Z()+500,tl&&Pt()))}function Se(e,t){var n=e.callbackNode;ah(e,t);var s=Es(e,e===ae?oe:0);if(s===0)n!==null&&ao(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ao(n),t===1)e.tag===0?l0(Zo.bind(null,e)):Ou(Zo.bind(null,e)),t0(function(){!(W&6)&&Pt()}),n=null;else{switch(du(s)){case 1:n=Za;break;case 4:n=ou;break;case 16:n=Ts;break;case 536870912:n=cu;break;default:n=Ts}n=Pd(n,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cd(e,t){if(gs=-1,ys=0,W&6)throw Error(C(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var s=Es(e,e===ae?oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ys(e,s);else{t=s;var l=W;W|=2;var a=Rd();(ae!==e||oe!==t)&&(tt=null,Rn=Z()+500,$t(e,t));do try{E0();break}catch(o){kd(e,o)}while(!0);mi(),Ws.current=a,W=l,ee!==null?t=0:(ae=null,oe=0,t=re)}if(t!==0){if(t===2&&(l=ua(e),l!==0&&(s=l,t=Ba(e,l))),t===1)throw n=Nr,$t(e,0),vt(e,s),Se(e,Z()),n;if(t===6)vt(e,s);else{if(l=e.current.alternate,!(s&30)&&!S0(l)&&(t=Ys(e,s),t===2&&(a=ua(e),a!==0&&(s=a,t=Ba(e,a))),t===1))throw n=Nr,$t(e,0),vt(e,s),Se(e,Z()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(C(345));case 2:Bt(e,be,tt);break;case 3:if(vt(e,s),(s&130023424)===s&&(t=Ci+500-Z(),10<t)){if(Es(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ya(Bt.bind(null,e,be,tt),t);break}Bt(e,be,tt);break;case 4:if(vt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-Ue(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=Z()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*w0(s/1960))-s,10<s){e.timeoutHandle=ya(Bt.bind(null,e,be,tt),s);break}Bt(e,be,tt);break;case 5:Bt(e,be,tt);break;default:throw Error(C(329))}}}return Se(e,Z()),e.callbackNode===n?Cd.bind(null,e):null}function Ba(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&($t(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=be,be=n,t!==null&&Ha(t)),e}function Ha(e){be===null?be=e:be.push.apply(be,e)}function S0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!Ye(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vt(e,t){for(t&=~Ei,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ue(t),s=1<<n;e[n]=-1,t&=~s}}function Zo(e){if(W&6)throw Error(C(327));Nn();var t=Es(e,0);if(!(t&1))return Se(e,Z()),null;var n=Ys(e,t);if(e.tag!==0&&n===2){var s=ua(e);s!==0&&(t=s,n=Ba(e,s))}if(n===1)throw n=Nr,$t(e,0),vt(e,t),Se(e,Z()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bt(e,be,tt),Se(e,Z()),null}function ki(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Rn=Z()+500,tl&&Pt())}}function qt(e){Nt!==null&&Nt.tag===0&&!(W&6)&&Nn();var t=W;W|=1;var n=Me.transition,s=U;try{if(Me.transition=null,U=1,e)return e()}finally{U=s,Me.transition=n,W=t,!(W&6)&&Pt()}}function Ri(){Te=fn.current,V(fn)}function $t(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e0(n)),ee!==null)for(n=ee.return;n!==null;){var s=n;switch(ci(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&As();break;case 3:Cn(),V(je),V(pe),yi();break;case 5:gi(s);break;case 4:Cn();break;case 13:V(K);break;case 19:V(K);break;case 10:hi(s.type._context);break;case 22:case 23:Ri()}n=n.return}if(ae=e,ee=e=Rt(e.current,null),oe=Te=t,re=0,Nr=null,Ei=ll=Kt=0,be=rr=null,Wt!==null){for(t=0;t<Wt.length;t++)if(n=Wt[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}Wt=null}return e}function kd(e,t){do{var n=ee;try{if(mi(),ps.current=zs,Hs){for(var s=q.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Hs=!1}if(Xt=0,le=te=q=null,tr=!1,yr=0,Ti.current=null,n===null||n.return===null){re=1,Nr=t,ee=null;break}e:{var a=e,i=n.return,o=n,u=t;if(t=oe,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var p=u,f=o,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=zo(i);if(v!==null){v.flags&=-257,Wo(v,i,o,a,t),v.mode&1&&Ho(a,p,t),t=v,u=p;var y=t.updateQueue;if(y===null){var N=new Set;N.add(u),t.updateQueue=N}else y.add(u);break e}else{if(!(t&1)){Ho(a,p,t),Ii();break e}u=Error(C(426))}}else if(D&&o.mode&1){var x=zo(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Wo(x,i,o,a,t),ui(kn(u,o));break e}}a=u=kn(u,o),re!==4&&(re=2),rr===null?rr=[a]:rr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var c=dd(a,u,t);Lo(a,c);break e;case 1:o=u;var d=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ct===null||!Ct.has(h)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=md(a,o,t);Lo(a,j);break e}}a=a.return}while(a!==null)}Ad(n)}catch(S){t=S,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function Rd(){var e=Ws.current;return Ws.current=zs,e===null?zs:e}function Ii(){(re===0||re===3||re===2)&&(re=4),ae===null||!(Kt&268435455)&&!(ll&268435455)||vt(ae,oe)}function Ys(e,t){var n=W;W|=2;var s=Rd();(ae!==e||oe!==t)&&(tt=null,$t(e,t));do try{T0();break}catch(l){kd(e,l)}while(!0);if(mi(),W=n,Ws.current=s,ee!==null)throw Error(C(261));return ae=null,oe=0,re}function T0(){for(;ee!==null;)Id(ee)}function E0(){for(;ee!==null&&!Gm();)Id(ee)}function Id(e){var t=Ld(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Ad(e):ee=t,Ti.current=null}function Ad(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v0(n,t),n!==null){n.flags&=32767,ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{re=6,ee=null;return}}else if(n=y0(n,t,Te),n!==null){ee=n;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);re===0&&(re=5)}function Bt(e,t,n){var s=U,l=Me.transition;try{Me.transition=null,U=1,C0(e,t,n,s)}finally{Me.transition=l,U=s}return null}function C0(e,t,n,s){do Nn();while(Nt!==null);if(W&6)throw Error(C(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ih(e,a),e===ae&&(ee=ae=null,oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kr||(Kr=!0,Pd(Ts,function(){return Nn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Me.transition,Me.transition=null;var i=U;U=1;var o=W;W|=4,Ti.current=null,N0(e,n),Td(n,e),Xh(xa),Cs=!!fa,xa=fa=null,e.current=n,j0(n),Jm(),W=o,U=i,Me.transition=a}else e.current=n;if(Kr&&(Kr=!1,Nt=e,$s=l),a=e.pendingLanes,a===0&&(Ct=null),th(n.stateNode),Se(e,Z()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Us)throw Us=!1,e=Oa,Oa=null,e;return $s&1&&e.tag!==0&&Nn(),a=e.pendingLanes,a&1?e===Fa?sr++:(sr=0,Fa=e):sr=0,Pt(),null}function Nn(){if(Nt!==null){var e=du($s),t=Me.transition,n=U;try{if(Me.transition=null,U=16>e?16:e,Nt===null)var s=!1;else{if(e=Nt,Nt=null,$s=0,W&6)throw Error(C(331));var l=W;for(W|=4,_=e.current;_!==null;){var a=_,i=a.child;if(_.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var p=o[u];for(_=p;_!==null;){var f=_;switch(f.tag){case 0:case 11:case 15:nr(8,f,a)}var m=f.child;if(m!==null)m.return=f,_=m;else for(;_!==null;){f=_;var g=f.sibling,v=f.return;if(jd(f),f===p){_=null;break}if(g!==null){g.return=v,_=g;break}_=v}}}var y=a.alternate;if(y!==null){var N=y.child;if(N!==null){y.child=null;do{var x=N.sibling;N.sibling=null,N=x}while(N!==null)}}_=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,_=i;else e:for(;_!==null;){if(a=_,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nr(9,a,a.return)}var c=a.sibling;if(c!==null){c.return=a.return,_=c;break e}_=a.return}}var d=e.current;for(_=d;_!==null;){i=_;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,_=h;else e:for(i=d;_!==null;){if(o=_,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sl(9,o)}}catch(S){G(o,o.return,S)}if(o===i){_=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,_=j;break e}_=o.return}}if(W=l,Pt(),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qs,e)}catch{}s=!0}return s}finally{U=n,Me.transition=t}}return!1}function ec(e,t,n){t=kn(n,t),t=dd(e,t,1),e=Et(e,t,1),t=ge(),e!==null&&(Tr(e,1,t),Se(e,t))}function G(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ct===null||!Ct.has(s))){e=kn(n,e),e=md(t,e,1),t=Et(t,e,1),e=ge(),t!==null&&(Tr(t,1,e),Se(t,e));break}}t=t.return}}function k0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ge(),e.pingedLanes|=e.suspendedLanes&n,ae===e&&(oe&n)===n&&(re===4||re===3&&(oe&130023424)===oe&&500>Z()-Ci?$t(e,0):Ei|=n),Se(e,t)}function _d(e,t){t===0&&(e.mode&1?(t=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):t=1);var n=ge();e=ct(e,t),e!==null&&(Tr(e,t,n),Se(e,n))}function R0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_d(e,n)}function I0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(C(314))}s!==null&&s.delete(t),_d(e,n)}var Ld;Ld=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,g0(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,D&&t.flags&1048576&&Fu(t,Ps,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xs(e,t),e=t.pendingProps;var l=Sn(t,pe.current);bn(t,n),l=bi(null,t,s,e,l,n);var a=Ni();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,we(s)?(a=!0,_s(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fi(t),l.updater=rl,t.stateNode=l,l._reactInternals=t,Ta(t,s,e,n),t=ka(null,t,s,!0,a,n)):(t.tag=0,D&&a&&oi(t),xe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(xs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=_0(s),e=He(s,e),l){case 0:t=Ca(null,t,s,e,n);break e;case 1:t=Yo(null,t,s,e,n);break e;case 11:t=Uo(null,t,s,e,n);break e;case 14:t=$o(null,t,s,He(s.type,e),n);break e}throw Error(C(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:He(s,l),Ca(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:He(s,l),Yo(e,t,s,l,n);case 3:e:{if(xd(t),e===null)throw Error(C(387));s=t.pendingProps,a=t.memoizedState,l=a.element,$u(e,t),Fs(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=kn(Error(C(423)),t),t=Vo(e,t,s,n,l);break e}else if(s!==l){l=kn(Error(C(424)),t),t=Vo(e,t,s,n,l);break e}else for(Ee=Tt(t.stateNode.containerInfo.firstChild),Ce=t,D=!0,We=null,n=Wu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tn(),s===l){t=ut(e,t,n);break e}xe(e,t,s,n)}t=t.child}return t;case 5:return Yu(t),e===null&&ja(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ga(s,l)?i=null:a!==null&&ga(s,a)&&(t.flags|=32),fd(e,t),xe(e,t,i,n),t.child;case 6:return e===null&&ja(t),null;case 13:return gd(e,t,n);case 4:return xi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=En(t,null,s,n):xe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:He(s,l),Uo(e,t,s,l,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,$(Ms,s._currentValue),s._currentValue=i,a!==null)if(Ye(a.value,i)){if(a.children===l.children&&!je.current){t=ut(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var u=o.firstContext;u!==null;){if(u.context===s){if(a.tag===1){u=lt(-1,n&-n),u.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var f=p.pending;f===null?u.next=u:(u.next=f.next,f.next=u),p.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),wa(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),wa(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}xe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,bn(t,n),l=Oe(l),s=s(l),t.flags|=1,xe(e,t,s,n),t.child;case 14:return s=t.type,l=He(s,t.pendingProps),l=He(s.type,l),$o(e,t,s,l,n);case 15:return hd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:He(s,l),xs(e,t),t.tag=1,we(s)?(e=!0,_s(t)):e=!1,bn(t,n),ud(t,s,l),Ta(t,s,l,n),ka(null,t,s,!0,e,n);case 19:return yd(e,t,n);case 22:return pd(e,t,n)}throw Error(C(156,t.tag))};function Pd(e,t){return iu(e,t)}function A0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,t,n,s){return new A0(e,t,n,s)}function Ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _0(e){if(typeof e=="function")return Ai(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qa)return 11;if(e===Ga)return 14}return 2}function Rt(e,t){var n=e.alternate;return n===null?(n=Pe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vs(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Ai(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case sn:return Yt(n.children,l,a,t);case qa:i=8,l|=8;break;case ql:return e=Pe(12,n,t,l|2),e.elementType=ql,e.lanes=a,e;case Ql:return e=Pe(13,n,t,l),e.elementType=Ql,e.lanes=a,e;case Gl:return e=Pe(19,n,t,l),e.elementType=Gl,e.lanes=a,e;case Yc:return al(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uc:i=10;break e;case $c:i=9;break e;case Qa:i=11;break e;case Ga:i=14;break e;case xt:i=16,s=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Pe(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function Yt(e,t,n,s){return e=Pe(7,e,s,t),e.lanes=n,e}function al(e,t,n,s){return e=Pe(22,e,s,t),e.elementType=Yc,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=Pe(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=Pe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L0(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _i(e,t,n,s,l,a,i,o,u){return e=new L0(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fi(a),e}function P0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Md(e){if(!e)return At;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(we(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(we(n))return Mu(e,n,t)}return t}function Od(e,t,n,s,l,a,i,o,u){return e=_i(n,s,!0,e,l,a,i,o,u),e.context=Md(null),n=e.current,s=ge(),l=kt(n),a=lt(s,l),a.callback=t??null,Et(n,a,l),e.current.lanes=l,Tr(e,l,s),Se(e,s),e}function il(e,t,n,s){var l=t.current,a=ge(),i=kt(l);return n=Md(n),t.context===null?t.context=n:t.pendingContext=n,t=lt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Et(l,t,i),e!==null&&($e(e,l,i,a),hs(e,l,i)),i}function Vs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Li(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function M0(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pi(e){this._internalRoot=e}ol.prototype.render=Pi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));il(e,t,null,null)};ol.prototype.unmount=Pi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qt(function(){il(null,e,null,null)}),t[ot]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=pu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yt.length&&t!==0&&t<yt[n].priority;n++);yt.splice(n,0,e),n===0&&xu(e)}};function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function O0(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var p=Vs(i);a.call(p)}}var i=Od(t,s,e,0,null,!1,!1,"",nc);return e._reactRootContainer=i,e[ot]=i.current,hr(e.nodeType===8?e.parentNode:e),qt(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var p=Vs(u);o.call(p)}}var u=_i(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=u,e[ot]=u.current,hr(e.nodeType===8?e.parentNode:e),qt(function(){il(t,u,n,s)}),u}function ul(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var u=Vs(i);o.call(u)}}il(t,i,e,l)}else i=O0(n,t,e,l,s);return Vs(i)}mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kn(t.pendingLanes);n!==0&&(ei(t,n|1),Se(t,Z()),!(W&6)&&(Rn=Z()+500,Pt()))}break;case 13:qt(function(){var s=ct(e,1);if(s!==null){var l=ge();$e(s,e,1,l)}}),Li(e,1)}};ti=function(e){if(e.tag===13){var t=ct(e,134217728);if(t!==null){var n=ge();$e(t,e,134217728,n)}Li(e,134217728)}};hu=function(e){if(e.tag===13){var t=kt(e),n=ct(e,t);if(n!==null){var s=ge();$e(n,e,t,s)}Li(e,t)}};pu=function(){return U};fu=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};ia=function(e,t,n){switch(t){case"input":if(ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=el(s);if(!l)throw Error(C(90));Dc(s),ea(s,l)}}}break;case"textarea":Kc(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};tu=ki;nu=qt;var F0={usingClientEntryPoint:!1,Events:[Cr,cn,el,Zc,eu,ki]},Yn={findFiberByHostInstance:zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lu(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||M0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qr.isDisabled&&qr.supportsFiber)try{Qs=qr.inject(B0),Ge=qr}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mi(t))throw Error(C(200));return P0(e,t,null,n)};Re.createRoot=function(e,t){if(!Mi(e))throw Error(C(299));var n=!1,s="",l=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=_i(e,1,!1,null,null,n,!1,s,l),e[ot]=t.current,hr(e.nodeType===8?e.parentNode:e),new Pi(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=lu(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return qt(e)};Re.hydrate=function(e,t,n){if(!cl(t))throw Error(C(200));return ul(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!Mi(e))throw Error(C(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Od(t,null,e,1,n??null,l,!1,a,i),e[ot]=t.current,hr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ol(t)};Re.render=function(e,t,n){if(!cl(t))throw Error(C(200));return ul(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!cl(e))throw Error(C(40));return e._reactRootContainer?(qt(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[ot]=null})}),!0):!1};Re.unstable_batchedUpdates=ki;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!cl(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return ul(e,t,n,!1,s)};Re.version="18.3.1-next-f1338f8080-20240426";function Bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bd)}catch(e){console.error(e)}}Bd(),Bc.exports=Re;var H0=Bc.exports,rc=H0;Xl.createRoot=rc.createRoot,Xl.hydrateRoot=rc.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sc="popstate";function z0(e={}){function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return za("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:jr(l)}return U0(t,n,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ve(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W0(){return Math.random().toString(36).substring(2,10)}function lc(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pn(t):t,state:n,key:t&&t.key||s||W0()}}function jr({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function U0(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o="POP",u=null,p=f();p==null&&(p=0,i.replaceState({...i.state,idx:p},""));function f(){return(i.state||{idx:null}).idx}function m(){o="POP";let x=f(),c=x==null?null:x-p;p=x,u&&u({action:o,location:N.location,delta:c})}function g(x,c){o="PUSH";let d=za(N.location,x,c);p=f()+1;let h=lc(d,p),j=N.createHref(d);try{i.pushState(h,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;l.location.assign(j)}a&&u&&u({action:o,location:N.location,delta:1})}function v(x,c){o="REPLACE";let d=za(N.location,x,c);p=f();let h=lc(d,p),j=N.createHref(d);i.replaceState(h,"",j),a&&u&&u({action:o,location:N.location,delta:0})}function y(x){return $0(x)}let N={get action(){return o},get location(){return e(l,i)},listen(x){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(sc,m),u=x,()=>{l.removeEventListener(sc,m),u=null}},createHref(x){return t(l,x)},createURL:y,encodeLocation(x){let c=y(x);return{pathname:c.pathname,search:c.search,hash:c.hash}},push:g,replace:v,go(x){return i.go(x)}};return N}function $0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),X(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:jr(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Hd(e,t,n="/"){return Y0(e,t,n,!1)}function Y0(e,t,n,s){let l=typeof t=="string"?Pn(t):t,a=dt(l.pathname||"/",n);if(a==null)return null;let i=zd(e);V0(i);let o=null;for(let u=0;o==null&&u<i.length;++u){let p=np(a);o=ep(i[u],p,s)}return o}function zd(e,t=[],n=[],s="",l=!1){let a=(i,o,u=l,p)=>{let f={relativePath:p===void 0?i.path||"":p,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;X(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=at([s,f.relativePath]),g=n.concat(f);i.children&&i.children.length>0&&(X(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zd(i.children,t,g,m,u)),!(i.path==null&&!i.index)&&t.push({path:m,score:J0(m,i.index),routesMeta:g})};return e.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let p of Wd(i.path))a(i,o,!0,p)}),t}function Wd(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=Wd(s.join("/")),o=[];return o.push(...i.map(u=>u===""?a:[a,u].join("/"))),l&&o.push(...i),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function V0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z0(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var D0=/^:[\w-]+$/,X0=3,K0=2,q0=1,Q0=10,G0=-2,ac=e=>e==="*";function J0(e,t){let n=e.split("/"),s=n.length;return n.some(ac)&&(s+=G0),t&&(s+=K0),n.filter(l=>!ac(l)).reduce((l,a)=>l+(D0.test(a)?X0:a===""?q0:Q0),s)}function Z0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function ep(e,t,n=!1){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let u=s[o],p=o===s.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=Ds({path:u.relativePath,caseSensitive:u.caseSensitive,end:p},f),g=u.route;if(!m&&p&&n&&!s[s.length-1].route.index&&(m=Ds({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(l,m.params),i.push({params:l,pathname:at([a,m.pathname]),pathnameBase:ap(at([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=at([a,m.pathnameBase]))}return i}function Ds(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=tp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((p,{paramName:f,isOptional:m},g)=>{if(f==="*"){let y=o[g]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[g];return m&&!v?p[f]=void 0:p[f]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:i,pattern:e}}function tp(e,t=!1,n=!0){Ve(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(s.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function np(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ve(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var rp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function sp(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?Pn(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=ic(n.substring(1),"/"):a=ic(n,t)):a=t,{pathname:a,search:ip(s),hash:op(l)}}function ic(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Wl(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oi(e){let t=lp(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Fi(e,t,n,s=!1){let l;typeof e=="string"?l=Pn(e):(l={...e},X(!l.pathname||!l.pathname.includes("?"),Wl("?","pathname","search",l)),X(!l.pathname||!l.pathname.includes("#"),Wl("#","pathname","hash",l)),X(!l.search||!l.search.includes("#"),Wl("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let m=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;l.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=sp(l,o),p=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(p||f)&&(u.pathname+="/"),u}var at=e=>e.join("/").replace(/\/\/+/g,"/"),ap=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ip=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,op=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cp=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function up(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function dp(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ud=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $d(e,t){let n=e;if(typeof n!="string"||!rp.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(Ud)try{let a=new URL(window.location.href),i=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=dt(i.pathname,t);i.origin===a.origin&&o!=null?n=o+i.search+i.hash:l=!0}catch{Ve(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yd=["POST","PUT","PATCH","DELETE"];new Set(Yd);var mp=["GET",...Yd];new Set(mp);var Mn=b.createContext(null);Mn.displayName="DataRouter";var dl=b.createContext(null);dl.displayName="DataRouterState";var hp=b.createContext(!1),Vd=b.createContext({isTransitioning:!1});Vd.displayName="ViewTransition";var pp=b.createContext(new Map);pp.displayName="Fetchers";var fp=b.createContext(null);fp.displayName="Await";var Ae=b.createContext(null);Ae.displayName="Navigation";var Rr=b.createContext(null);Rr.displayName="Location";var De=b.createContext({outlet:null,matches:[],isDataRoute:!1});De.displayName="Route";var Bi=b.createContext(null);Bi.displayName="RouteError";var Dd="REACT_ROUTER_ERROR",xp="REDIRECT",gp="ROUTE_ERROR_RESPONSE";function yp(e){if(e.startsWith(`${Dd}:${xp}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function vp(e){if(e.startsWith(`${Dd}:${gp}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cp(t.status,t.statusText,t.data)}catch{}}function bp(e,{relative:t}={}){X(On(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=b.useContext(Ae),{hash:l,pathname:a,search:i}=Ir(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:at([n,a])),s.createHref({pathname:o,search:i,hash:l})}function On(){return b.useContext(Rr)!=null}function Ze(){return X(On(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Rr).location}var Xd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kd(e){b.useContext(Ae).static||b.useLayoutEffect(e)}function Hi(){let{isDataRoute:e}=b.useContext(De);return e?Pp():Np()}function Np(){X(On(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Mn),{basename:t,navigator:n}=b.useContext(Ae),{matches:s}=b.useContext(De),{pathname:l}=Ze(),a=JSON.stringify(Oi(s)),i=b.useRef(!1);return Kd(()=>{i.current=!0}),b.useCallback((u,p={})=>{if(Ve(i.current,Xd),!i.current)return;if(typeof u=="number"){n.go(u);return}let f=Fi(u,JSON.parse(a),l,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:at([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,a,l,e])}b.createContext(null);function jp(){let{matches:e}=b.useContext(De),t=e[e.length-1];return t?t.params:{}}function Ir(e,{relative:t}={}){let{matches:n}=b.useContext(De),{pathname:s}=Ze(),l=JSON.stringify(Oi(n));return b.useMemo(()=>Fi(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function wp(e,t){return qd(e,t)}function qd(e,t,n,s,l){var d;X(On(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Ae),{matches:i}=b.useContext(De),o=i[i.length-1],u=o?o.params:{},p=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let h=m&&m.path||"";Gd(p,!m||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let g=Ze(),v;if(t){let h=typeof t=="string"?Pn(t):t;X(f==="/"||((d=h.pathname)==null?void 0:d.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${h.pathname}" was given in the \`location\` prop.`),v=h}else v=g;let y=v.pathname||"/",N=y;if(f!=="/"){let h=f.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(h.length).join("/")}let x=Hd(e,{pathname:N});Ve(m||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ve(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let c=kp(x&&x.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:at([f,a.encodeLocation?a.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?f:at([f,a.encodeLocation?a.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),i,n,s,l);return t&&c?b.createElement(Rr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},c):c}function Sp(){let e=Lp(),t=up(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:l},n):null,i)}var Tp=b.createElement(Sp,null),Qd=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=vp(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(De.Provider,{value:this.props.routeContext},b.createElement(Bi.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(Ep,{error:e},t):t}};Qd.contextType=hp;var Ul=new WeakMap;function Ep({children:e,error:t}){let{basename:n}=b.useContext(Ae);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=yp(t.digest);if(s){let l=Ul.get(t);if(l)throw l;let a=$d(s.location,n);if(Ud&&!Ul.get(t))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Ul.set(t,i),i}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function Cp({routeContext:e,match:t,children:n}){let s=b.useContext(Mn);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(De.Provider,{value:e},n)}function kp(e,t=[],n=null,s=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let f=a.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);X(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let p=n&&s?(f,m)=>{var g,v;s(f,{location:n.location,params:((v=(g=n.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:dp(n.matches),errorInfo:m})}:void 0;return a.reduceRight((f,m,g)=>{let v,y=!1,N=null,x=null;n&&(v=i&&m.route.id?i[m.route.id]:void 0,N=m.route.errorElement||Tp,o&&(u<0&&g===0?(Gd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):u===g&&(y=!0,x=m.route.hydrateFallbackElement||null)));let c=t.concat(a.slice(0,g+1)),d=()=>{let h;return v?h=N:y?h=x:m.route.Component?h=b.createElement(m.route.Component,null):m.route.element?h=m.route.element:h=f,b.createElement(Cp,{match:m,routeContext:{outlet:f,matches:c,isDataRoute:n!=null},children:h})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(Qd,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0},onError:p}):d()},null)}function zi(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rp(e){let t=b.useContext(Mn);return X(t,zi(e)),t}function Ip(e){let t=b.useContext(dl);return X(t,zi(e)),t}function Ap(e){let t=b.useContext(De);return X(t,zi(e)),t}function Wi(e){let t=Ap(e),n=t.matches[t.matches.length-1];return X(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _p(){return Wi("useRouteId")}function Lp(){var s;let e=b.useContext(Bi),t=Ip("useRouteError"),n=Wi("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function Pp(){let{router:e}=Rp("useNavigate"),t=Wi("useNavigate"),n=b.useRef(!1);return Kd(()=>{n.current=!0}),b.useCallback(async(l,a={})=>{Ve(n.current,Xd),n.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...a}))},[e,t])}var oc={};function Gd(e,t,n){!t&&!oc[e]&&(oc[e]=!0,Ve(!1,n))}b.memo(Mp);function Mp({routes:e,future:t,state:n,onError:s}){return qd(e,void 0,n,s,t)}function Op({to:e,replace:t,state:n,relative:s}){X(On(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=b.useContext(Ae);Ve(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(De),{pathname:i}=Ze(),o=Hi(),u=Fi(e,Oi(a),i,s==="path"),p=JSON.stringify(u);return b.useEffect(()=>{o(JSON.parse(p),{replace:t,state:n,relative:s})},[o,p,s,t,n]),null}function Ht(e){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fp({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:a=!1,unstable_useTransitions:i}){X(!On(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:o,navigator:l,static:a,unstable_useTransitions:i,future:{}}),[o,l,a,i]);typeof n=="string"&&(n=Pn(n));let{pathname:p="/",search:f="",hash:m="",state:g=null,key:v="default"}=n,y=b.useMemo(()=>{let N=dt(p,o);return N==null?null:{location:{pathname:N,search:f,hash:m,state:g,key:v},navigationType:s}},[o,p,f,m,g,v,s]);return Ve(y!=null,`<Router basename="${o}"> is not able to match the URL "${p}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(Ae.Provider,{value:u},b.createElement(Rr.Provider,{children:t,value:y}))}function Bp({children:e,location:t}){return wp(Wa(e),t)}function Wa(e,t=[]){let n=[];return b.Children.forEach(e,(s,l)=>{if(!b.isValidElement(s))return;let a=[...t,l];if(s.type===b.Fragment){n.push.apply(n,Wa(s.props.children,a));return}X(s.type===Ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Wa(s.props.children,a)),n.push(i)}),n}var bs="get",Ns="application/x-www-form-urlencoded";function ml(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Hp(e){return ml(e)&&e.tagName.toLowerCase()==="button"}function zp(e){return ml(e)&&e.tagName.toLowerCase()==="form"}function Wp(e){return ml(e)&&e.tagName.toLowerCase()==="input"}function Up(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $p(e,t){return e.button===0&&(!t||t==="_self")&&!Up(e)}var Qr=null;function Yp(){if(Qr===null)try{new FormData(document.createElement("form"),0),Qr=!1}catch{Qr=!0}return Qr}var Vp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $l(e){return e!=null&&!Vp.has(e)?(Ve(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ns}"`),null):e}function Dp(e,t){let n,s,l,a,i;if(zp(e)){let o=e.getAttribute("action");s=o?dt(o,t):null,n=e.getAttribute("method")||bs,l=$l(e.getAttribute("enctype"))||Ns,a=new FormData(e)}else if(Hp(e)||Wp(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(s=u?dt(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||bs,l=$l(e.getAttribute("formenctype"))||$l(o.getAttribute("enctype"))||Ns,a=new FormData(o,e),!Yp()){let{name:p,type:f,value:m}=e;if(f==="image"){let g=p?`${p}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else p&&a.append(p,m)}}else{if(ml(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bs,s=null,l=Ns,i=e}return a&&l==="text/plain"&&(i=a,a=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ui(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xp(e,t,n,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:t&&dt(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Kp(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qp(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qp(e,t,n){let s=await Promise.all(e.map(async l=>{let a=t.routes[l.route.id];if(a){let i=await Kp(a,n);return i.links?i.links():[]}return[]}));return ef(s.flat(1).filter(qp).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function cc(e,t,n,s,l,a){let i=(u,p)=>n[p]?u.route.id!==n[p].route.id:!0,o=(u,p)=>{var f;return n[p].pathname!==u.pathname||((f=n[p].route.path)==null?void 0:f.endsWith("*"))&&n[p].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,p)=>i(u,p)||o(u,p)):a==="data"?t.filter((u,p)=>{var m;let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(i(u,p)||o(u,p))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Gp(e,t,{includeHydrateFallback:n}={}){return Jp(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let a=[l.module];return l.clientActionModule&&(a=a.concat(l.clientActionModule)),l.clientLoaderModule&&(a=a.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(a=a.concat(l.hydrateFallbackModule)),l.imports&&(a=a.concat(l.imports)),a}).flat(1))}function Jp(e){return[...new Set(e)]}function Zp(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function ef(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let a=JSON.stringify(Zp(l));return n.has(a)||(n.add(a),s.push({key:a,link:l})),s},[])}function Jd(){let e=b.useContext(Mn);return Ui(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tf(){let e=b.useContext(dl);return Ui(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $i=b.createContext(void 0);$i.displayName="FrameworkContext";function Zd(){let e=b.useContext($i);return Ui(e,"You must render this element inside a <HydratedRouter> element"),e}function nf(e,t){let n=b.useContext($i),[s,l]=b.useState(!1),[a,i]=b.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:p,onMouseLeave:f,onTouchStart:m}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let N=c=>{c.forEach(d=>{i(d.isIntersecting)})},x=new IntersectionObserver(N,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[e]),b.useEffect(()=>{if(s){let N=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(N)}}},[s]);let v=()=>{l(!0)},y=()=>{l(!1),i(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Vn(o,v),onBlur:Vn(u,y),onMouseEnter:Vn(p,v),onMouseLeave:Vn(f,y),onTouchStart:Vn(m,v)}]:[!1,g,{}]}function Vn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rf({page:e,...t}){let{router:n}=Jd(),s=b.useMemo(()=>Hd(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?b.createElement(lf,{page:e,matches:s,...t}):null}function sf(e){let{manifest:t,routeModules:n}=Zd(),[s,l]=b.useState([]);return b.useEffect(()=>{let a=!1;return Qp(e,t,n).then(i=>{a||l(i)}),()=>{a=!0}},[e,t,n]),s}function lf({page:e,matches:t,...n}){let s=Ze(),{future:l,manifest:a,routeModules:i}=Zd(),{basename:o}=Jd(),{loaderData:u,matches:p}=tf(),f=b.useMemo(()=>cc(e,t,p,a,s,"data"),[e,t,p,a,s]),m=b.useMemo(()=>cc(e,t,p,a,s,"assets"),[e,t,p,a,s]),g=b.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,x=!1;if(t.forEach(d=>{var j;let h=a.routes[d.route.id];!h||!h.hasLoader||(!f.some(S=>S.route.id===d.route.id)&&d.route.id in u&&((j=i[d.route.id])!=null&&j.shouldRevalidate)||h.hasClientLoader?x=!0:N.add(d.route.id))}),N.size===0)return[];let c=Xp(e,o,l.unstable_trailingSlashAwareDataRequests,"data");return x&&N.size>0&&c.searchParams.set("_routes",t.filter(d=>N.has(d.route.id)).map(d=>d.route.id).join(",")),[c.pathname+c.search]},[o,l.unstable_trailingSlashAwareDataRequests,u,s,a,f,t,e,i]),v=b.useMemo(()=>Gp(m,a),[m,a]),y=sf(m);return b.createElement(b.Fragment,null,g.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),y.map(({key:N,link:x})=>b.createElement("link",{key:N,nonce:n.nonce,...x,crossOrigin:x.crossOrigin??n.crossOrigin})))}function af(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var of=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{of&&(window.__reactRouterVersion="7.13.0")}catch{}function cf({basename:e,children:t,unstable_useTransitions:n,window:s}){let l=b.useRef();l.current==null&&(l.current=z0({window:s,v5Compat:!0}));let a=l.current,[i,o]=b.useState({action:a.action,location:a.location}),u=b.useCallback(p=>{n===!1?o(p):b.startTransition(()=>o(p))},[n]);return b.useLayoutEffect(()=>a.listen(u),[a,u]),b.createElement(Fp,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a,unstable_useTransitions:n})}var em=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=b.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:a,replace:i,state:o,target:u,to:p,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},y){let{basename:N,unstable_useTransitions:x}=b.useContext(Ae),c=typeof p=="string"&&em.test(p),d=$d(p,N);p=d.to;let h=bp(p,{relative:l}),[j,S,k]=nf(s,v),R=hf(p,{replace:i,state:o,target:u,preventScrollReset:f,relative:l,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function w(T){t&&t(T),T.defaultPrevented||R(T)}let I=b.createElement("a",{...v,...k,href:d.absoluteURL||h,onClick:d.isExternal||a?t:w,ref:af(y,S),target:u,"data-discover":!c&&n==="render"?"true":void 0});return j&&!c?b.createElement(b.Fragment,null,I,b.createElement(rf,{page:h})):I});ne.displayName="Link";var uf=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:a,to:i,viewTransition:o,children:u,...p},f){let m=Ir(i,{relative:p.relative}),g=Ze(),v=b.useContext(dl),{navigator:y,basename:N}=b.useContext(Ae),x=v!=null&&yf(m)&&o===!0,c=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,d=g.pathname,h=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(d=d.toLowerCase(),h=h?h.toLowerCase():null,c=c.toLowerCase()),h&&N&&(h=dt(h,N)||h);const j=c!=="/"&&c.endsWith("/")?c.length-1:c.length;let S=d===c||!l&&d.startsWith(c)&&d.charAt(j)==="/",k=h!=null&&(h===c||!l&&h.startsWith(c)&&h.charAt(c.length)==="/"),R={isActive:S,isPending:k,isTransitioning:x},w=S?t:void 0,I;typeof s=="function"?I=s(R):I=[s,S?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(R):a;return b.createElement(ne,{...p,"aria-current":w,className:I,ref:f,style:T,to:i,viewTransition:o},typeof u=="function"?u(R):u)});uf.displayName="NavLink";var df=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:a,method:i=bs,action:o,onSubmit:u,relative:p,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},y)=>{let{unstable_useTransitions:N}=b.useContext(Ae),x=xf(),c=gf(o,{relative:p}),d=i.toLowerCase()==="get"?"get":"post",h=typeof o=="string"&&em.test(o),j=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,R=(k==null?void 0:k.getAttribute("formmethod"))||i,w=()=>x(k||S.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:l,state:a,relative:p,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});N&&n!==!1?b.startTransition(()=>w()):w()};return b.createElement("form",{ref:y,method:d,action:c,onSubmit:s?u:j,...v,"data-discover":!h&&e==="render"?"true":void 0})});df.displayName="Form";function mf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tm(e){let t=b.useContext(Mn);return X(t,mf(e)),t}function hf(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let p=Hi(),f=Ze(),m=Ir(e,{relative:a});return b.useCallback(g=>{if($p(g,t)){g.preventDefault();let v=n!==void 0?n:jr(f)===jr(m),y=()=>p(e,{replace:v,state:s,preventScrollReset:l,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o});u?b.startTransition(()=>y()):y()}},[f,p,m,n,s,t,e,l,a,i,o,u])}var pf=0,ff=()=>`__${String(++pf)}__`;function xf(){let{router:e}=tm("useSubmit"),{basename:t}=b.useContext(Ae),n=_p(),s=e.fetch,l=e.navigate;return b.useCallback(async(a,i={})=>{let{action:o,method:u,encType:p,formData:f,body:m}=Dp(a,t);if(i.navigate===!1){let g=i.fetcherKey||ff();await s(g,n,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||p,flushSync:i.flushSync})}else await l(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||p,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,l,t,n])}function gf(e,{relative:t}={}){let{basename:n}=b.useContext(Ae),s=b.useContext(De);X(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),a={...Ir(e||".",{relative:t})},i=Ze();if(e==null){a.search=i.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:at([n,a.pathname])),jr(a)}function yf(e,{relative:t}={}){let n=b.useContext(Vd);X(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tm("useViewTransitionState"),l=Ir(e,{relative:t});if(!n.isTransitioning)return!1;let a=dt(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=dt(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ds(l.pathname,i)!=null||Ds(l.pathname,a)!=null}const vf=()=>{const[e,t]=b.useState(!1),n=Ze();if(n.pathname==="/annual-tax"||n.pathname==="/monthly-withholding")return null;const l=[{path:"/",label:"Calculator"},{path:"/articles",label:"Articles"},{path:"/faq",label:"FAQ"}],a=i=>i==="/"?n.pathname==="/":n.pathname.startsWith(i);return r.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx(ne,{to:"/",className:"flex items-center gap-2",children:r.jsx("span",{className:"text-xl font-bold text-blue-500",children:"Thai Tax Calculator"})}),r.jsx("nav",{className:"hidden md:flex items-center gap-6",children:l.map(i=>r.jsx(ne,{to:i.path,className:`font-medium transition-colors ${a(i.path)?"text-blue-500":"text-gray-600 hover:text-blue-500"}`,children:i.label},i.path))}),r.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-900",onClick:()=>t(!e),"aria-label":e?"Close menu":"Open menu","aria-expanded":e,children:e?r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&r.jsx("nav",{className:"md:hidden py-4 border-t border-gray-100",children:r.jsx("div",{className:"flex flex-col gap-2",children:l.map(i=>r.jsx(ne,{to:i.path,onClick:()=>t(!1),className:`py-2 px-4 rounded-lg font-medium transition-colors ${a(i.path)?"bg-blue-50 text-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:i.label},i.path))})})]})})},bf=()=>{const e=Ze();return e.pathname==="/annual-tax"||e.pathname==="/monthly-withholding"?null:r.jsx("footer",{className:"bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("div",{className:"text-gray-600 text-sm",children:[new Date().getFullYear()," Thai Tax Calculator. For informational purposes only."]}),r.jsxs("nav",{className:"flex gap-6 text-sm",children:[r.jsx(ne,{to:"/",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Calculator"}),r.jsx(ne,{to:"/articles",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Articles"}),r.jsx(ne,{to:"/faq",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"FAQ"})]})]}),r.jsx("div",{className:"mt-4 text-center text-xs text-gray-500",children:"This calculator provides estimates only. Consult a qualified tax professional for official advice."})]})})},Nf=({children:e})=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[r.jsx(vf,{}),r.jsx("main",{className:"flex-grow",children:e}),r.jsx(bf,{})]}),jf=[{value:"basic",label:"Basic Estimate",description:"Quick calculation without deductions",icon:""},{value:"detailed",label:"Detailed Estimate",description:"Include deductions for a more accurate result",icon:""}],wf=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{t({...e,estimateType:l}),n()};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Choose your estimate type"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You can choose a quick estimate without deductions, or a more detailed estimate where deductions are included."}),r.jsx("div",{className:"space-y-4",children:jf.map(l=>r.jsx("button",{onClick:()=>s(l.value),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.estimateType===l.value?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.estimateType===l.value,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]})},l.value))})]})},Sf=[{value:"fixed",label:"Fixed Monthly Income",description:"Same salary every month",icon:""},{value:"variable",label:"Variable Monthly Income",description:"Different income each month (bonuses, allowances, etc.)",icon:""}],Tf=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{t({...e,incomeType:l}),n()};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"How do you receive your income?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Choose based on whether your monthly income is consistent or varies throughout the year."}),r.jsx("div",{className:"space-y-4",children:Sf.map(l=>r.jsx("button",{onClick:()=>s(l.value),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.incomeType===l.value?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.incomeType===l.value,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]})},l.value))})]})};function uc(){return{employmentType:"freelancer",daysInThailand:0,isThaiResident:!1,visaType:"regular",hasForeignIncome:!1,foreignIncomeEntries:[],thaiIncomeEntries:[],includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0,expenseMethod:"auto_compare",actualExpenses:[]}}function Yi(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function nm(){return{businessName:"",businessCategory:"service_business",registrationType:"unregistered",yearsInOperation:0,hasPhysicalLocation:!1,numberOfEmployees:0}}function dc(){return{employmentType:"sole_proprietor",daysInThailand:0,isThaiResident:!1,visaType:"regular",hasForeignIncome:!1,foreignIncomeEntries:[],thaiIncomeEntries:[],includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0,expenseMethod:"auto_compare",actualExpenses:[],businessProfile:nm(),hasBusinessExpenses:!1,hasInventory:!1,usesSimplifiedBookkeeping:!0}}function rm(){return{companyName:"",companyType:"limited_company",ownershipPercentage:100,isDirector:!0,hasOtherShareholders:!1}}function mc(){return{employmentType:"company_owner",companyInfo:rm(),salaryFromCompany:0,directorFees:0,otherCompanyBenefits:0,hasDividends:!1,dividendEntries:[],companyProfitAfterTax:0,salaryWithholdingTax:0,taxWithheld:0,includeSocialSecurity:!1,socialSecurityContribution:0,companySocialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0}}function Ef(){return`div-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const P={STANDARD_DEDUCTION_RATE:.5,MAX_STANDARD_DEDUCTION:1e5,MAX_SOCIAL_SECURITY:10500,PERSONAL_ALLOWANCE:6e4,SPOUSE_ALLOWANCE:6e4,SENIOR_ALLOWANCE:19e4,CHILD_ALLOWANCE_BASE:3e4,CHILD_ALLOWANCE_BONUS:3e4,CHILD_BONUS_BIRTH_YEAR:2018,PARENT_ALLOWANCE:3e4,MAX_PARENTS:4,MAX_LIFE_INSURANCE:1e5,MAX_HEALTH_INSURANCE:25e3,MAX_PENSION_FUND:5e5,MAX_PROVIDENT_FUND:5e5,MAX_RMF:5e5,MAX_SSF:2e5,MAX_DONATION_PERCENT:.1},E={STANDARD_DEDUCTION_RATE:.5,MAX_STANDARD_DEDUCTION:1e5,MAX_SOCIAL_SECURITY:9e3,PERSONAL_ALLOWANCE:6e4,SPOUSE_ALLOWANCE:6e4,SENIOR_ALLOWANCE:19e4,CHILD_ALLOWANCE_BASE:3e4,CHILD_ALLOWANCE_BONUS:3e4,PARENT_ALLOWANCE:3e4,MAX_PARENTS:4,MAX_LIFE_INSURANCE:1e5,MAX_HEALTH_INSURANCE:25e3,MAX_PENSION_FUND:5e5,MAX_PROVIDENT_FUND:5e5,MAX_RMF:5e5,MAX_SSF:2e5,MAX_DONATION_PERCENT:.1,CHILD_BONUS_BIRTH_YEAR:2018},jn=[{upTo:15e4,rate:0,label:"0-150k"},{upTo:3e5,rate:.05,label:"150k-300k"},{upTo:5e5,rate:.1,label:"300k-500k"},{upTo:75e4,rate:.15,label:"500k-750k"},{upTo:1e6,rate:.2,label:"750k-1M"},{upTo:2e6,rate:.25,label:"1M-2M"},{upTo:5e6,rate:.3,label:"2M-5M"},{upTo:1/0,rate:.35,label:"5M+"}],Cf=({formData:e,setFormData:t})=>{const[n,s]=b.useState(e.monthlySalary?e.monthlySalary.toString():""),[l,a]=b.useState(e.annualBonus?e.annualBonus.toString():""),[i,o]=b.useState(e.annualOtherIncome?e.annualOtherIncome.toString():""),[u,p]=b.useState(e.includeSocialSecurity||!1),[f,m]=b.useState(e.socialSecurityContribution?e.socialSecurityContribution.toString():"");b.useEffect(()=>{const c=parseFloat(n.replace(/,/g,""))||0,d=parseFloat(l.replace(/,/g,""))||0,h=parseFloat(i.replace(/,/g,""))||0,j=u?Math.min(parseFloat(f.replace(/,/g,""))||0,P.MAX_SOCIAL_SECURITY):0;t({...e,monthlySalary:c,annualBonus:d,annualOtherIncome:h,includeSocialSecurity:u,socialSecurityContribution:j})},[n,l,i,u,f]);const g=c=>{const d=c.target.value.replace(/[^0-9]/g,"");s(d)},v=c=>{const d=c.target.value.replace(/[^0-9]/g,"");a(d)},y=c=>{const d=c.target.value.replace(/[^0-9]/g,"");o(d)},N=c=>{const d=c.target.value.replace(/[^0-9]/g,"");(parseInt(d)||0)<=P.MAX_SOCIAL_SECURITY&&m(d)},x=c=>{const d=parseInt(c.replace(/,/g,""))||0;return d>0?d.toLocaleString():""};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Assessable Income"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your income details below. Include your regular monthly salary, plus any bonus or other income you expect to receive this year."}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary per month (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:x(n),onChange:g,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bonus per year (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:x(l),onChange:v,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual bonus amount"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other income per year (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:x(i),onChange:y,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Housing allowance, overtime, commissions, etc."})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:c=>p(c.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Include Social Security Contributions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Social security contributions are tax-deductible up to 10,500 per year (2026 limit)."})]})]}),u&&r.jsxs("div",{className:"mt-4 ml-8",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated annual contribution (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:x(f),onChange:N,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",P.MAX_SOCIAL_SECURITY.toLocaleString()," per year"]})]})]})]})},kf=["January","February","March","April","May","June","July","August","September","October","November","December"],Rf=()=>({salary:0,bonus:0,housingAllowance:0,otherIncome:0}),If=({formData:e,setFormData:t})=>{var N;const[n,s]=b.useState(((N=e.variableIncome)==null?void 0:N.length)===12?e.variableIncome:Array(12).fill(null).map(()=>Rf())),[l,a]=b.useState(e.includeSocialSecurity||!1),[i,o]=b.useState(e.socialSecurityContribution?e.socialSecurityContribution.toString():""),[u,p]=b.useState(null);b.useEffect(()=>{const x=l?Math.min(parseFloat(i.replace(/,/g,""))||0,P.MAX_SOCIAL_SECURITY):0;t({...e,variableIncome:n,includeSocialSecurity:l,socialSecurityContribution:x})},[n,l,i]);const f=(x,c,d)=>{const h=parseFloat(d.replace(/[^0-9]/g,""))||0,j=[...n];j[x]={...j[x],[c]:h},s(j)},m=x=>{const c=x.target.value.replace(/[^0-9]/g,"");(parseInt(c)||0)<=P.MAX_SOCIAL_SECURITY&&o(c)},g=x=>x.salary+x.bonus+x.housingAllowance+x.otherIncome,v=()=>n.reduce((x,c)=>x+g(c),0),y=x=>x>0?x.toLocaleString():"";return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Enter your monthly income"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your income for each month. All taxable income including bonuses and housing allowances by the company should be included."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Total Annual Income"}),r.jsxs("span",{className:"text-xl font-bold text-blue-700",children:["",v().toLocaleString()]})]})}),r.jsx("div",{className:"space-y-2 mb-6 max-h-80 overflow-y-auto",children:kf.map((x,c)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>p(u===c?null:c),className:"w-full px-4 py-3 flex justify-between items-center bg-gray-50 hover:bg-gray-100",children:[r.jsx("span",{className:"font-medium text-gray-800",children:x}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-gray-600",children:["",g(n[c]).toLocaleString()]}),r.jsx("span",{className:"text-gray-400",children:u===c?"":""})]})]}),u===c&&r.jsxs("div",{className:"p-4 space-y-3 bg-white",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Salary"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:y(n[c].salary),onChange:d=>f(c,"salary",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Bonus"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:y(n[c].bonus),onChange:d=>f(c,"bonus",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Housing Allowance"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:y(n[c].housingAllowance),onChange:d=>f(c,"housingAllowance",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Other Taxable Income"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:y(n[c].otherIncome),onChange:d=>f(c,"otherIncome",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]})]},x))}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l,onChange:x=>a(x.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Include Social Security Contributions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Social security contributions are tax-deductible up to 10,500 per year (2026 limit)."})]})]}),l&&r.jsxs("div",{className:"mt-4 ml-8",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated annual contribution (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:i?parseInt(i).toLocaleString():"",onChange:m,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",P.MAX_SOCIAL_SECURITY.toLocaleString()," per year"]})]})]})]})},Af=({formData:e,setFormData:t,nextStep:n})=>{const[s,l]=b.useState(e.maritalStatus==="married"),a=o=>{o==="single"?(t({...e,maritalStatus:o,spouseHasNoIncome:!1}),l(!1),n()):(t({...e,maritalStatus:o}),l(!0))},i=o=>{t({...e,spouseHasNoIncome:o})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"What is your marital status?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your marital status affects your tax allowances."}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>a("single"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="single"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="single",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Single"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Not married or legally separated"})]})]})}),r.jsx("button",{onClick:()=>a("married"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="married"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="married",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Married"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Legally married"})]})]})})]}),s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-blue-700",children:["You can claim a ",P.SPOUSE_ALLOWANCE.toLocaleString()," spouse allowance only if your spouse has no income during the tax year."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.spouseHasNoIncome,onChange:o=>i(o.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"My spouse has no income"})]})]})]})},Gr=new Date().getFullYear(),_f=({formData:e,setFormData:t,showValidationErrors:n=!1})=>{const[s,l]=b.useState(e.childrenEligibilityConfirmed||e.children.length>0),[a,i]=b.useState(e.parentsEligibilityConfirmed||e.numberOfParents>0),o=c=>Gr-c,u=c=>{const d=o(c);return d>=20&&d<=25},p=(c,d)=>{let h=P.CHILD_ALLOWANCE_BASE;return d>=1&&c.birthYear>=P.CHILD_BONUS_BIRTH_YEAR&&(h+=P.CHILD_ALLOWANCE_BONUS),h},f=()=>e.children.reduce((c,d,h)=>c+p(d,h),0),m=()=>{const c=[...e.children,{birthYear:Gr-10,isStudent:!1}];t({...e,children:c})},g=()=>{if(e.children.length>0){const c=e.children.slice(0,-1);t({...e,children:c})}},v=(c,d)=>{const h=[...e.children];h[c]={...h[c],birthYear:d},u(d)||(h[c].isStudent=!1),t({...e,children:h})},y=(c,d)=>{const h=[...e.children];h[c]={...h[c],isStudent:d},t({...e,children:h})},N=c=>{const d=Math.max(0,Math.min(P.MAX_PARENTS,e.numberOfParents+c));t({...e,numberOfParents:d})},x=P.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?P.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?P.SENIOR_ALLOWANCE:0)+f()+e.numberOfParents*P.PARENT_ALLOWANCE;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Dependents & Allowances"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your dependents to calculate your allowances."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Children"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Under 20 years old, OR under 25 and studying, OR legally incompetent"}),r.jsx("li",{children:" Earning less than 30,000 per year"})]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&s&&e.children.length===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:s,onChange:c=>{l(c.target.checked),c.target.checked?t({...e,childrenEligibilityConfirmed:!0}):t({...e,children:[],childrenEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have children who meet these criteria"})]}),n&&s&&e.children.length===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one child or uncheck the box above."}),s&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of children:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:g,disabled:e.children.length===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove child",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.children.length}),r.jsx("button",{onClick:m,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100","aria-label":"Add child",children:"+"})]})]}),e.children.map((c,d)=>{const h=o(c.birthYear),j=u(c.birthYear),S=p(c,d),k=d>=1&&c.birthYear>=P.CHILD_BONUS_BIRTH_YEAR;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:["Child ",d+1]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",S.toLocaleString(),k&&r.jsx("span",{className:"text-xs text-green-500 ml-1",children:"(+30k bonus)"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Birth year:"}),r.jsx("input",{type:"number",value:c.birthYear,onChange:R=>v(d,parseInt(R.target.value)||Gr),min:1900,max:Gr,className:"w-24 px-2 py-1 border border-gray-300 rounded text-center"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Age: ",h]})]}),j&&r.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.isStudent||!1,onChange:R=>y(d,R.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Currently studying (required for ages 20-25)"})]})]},d)}),e.children.length>0&&r.jsxs("div",{className:"text-right text-sm text-gray-600",children:["Total children allowance: ",r.jsxs("span",{className:"font-medium text-green-600",children:["",f().toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Parents"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Parent is 60 years or older"}),r.jsx("li",{children:" Parent's annual income is less than 30,000"}),r.jsxs("li",{children:[" You can claim up to ",P.MAX_PARENTS," parents (yours and spouse's)"]})]}),r.jsxs("p",{className:"text-blue-600 mt-2",children:["Allowance: ",P.PARENT_ALLOWANCE.toLocaleString()," per eligible parent"]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&a&&e.numberOfParents===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:a,onChange:c=>{i(c.target.checked),c.target.checked?t({...e,parentsEligibilityConfirmed:!0}):t({...e,numberOfParents:0,parentsEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have parents who meet these criteria"})]}),n&&a&&e.numberOfParents===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one parent or uncheck the box above."}),a&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of parents:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(-1),disabled:e.numberOfParents===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove parent",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.numberOfParents}),r.jsx("button",{onClick:()=>N(1),disabled:e.numberOfParents>=P.MAX_PARENTS,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add parent",children:"+"})]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",(e.numberOfParents*P.PARENT_ALLOWANCE).toLocaleString()]})]})})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Total Allowances"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal:"}),r.jsxs("span",{children:["",P.PERSONAL_ALLOWANCE.toLocaleString()]})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse:"}),r.jsxs("span",{children:["",P.SPOUSE_ALLOWANCE.toLocaleString()]})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior (65+):"}),r.jsxs("span",{children:["",P.SENIOR_ALLOWANCE.toLocaleString()]})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Children:"}),r.jsxs("span",{children:["",f().toLocaleString()]})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parents:"}),r.jsxs("span",{children:["",(e.numberOfParents*P.PARENT_ALLOWANCE).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-green-300 pt-1 mt-2",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",x.toLocaleString()]})]})]})]})]})},Lf=({formData:e,setFormData:t,showValidationErrors:n=!1})=>{const l=(()=>{var m;return e.incomeType==="variable"&&((m=e.variableIncome)==null?void 0:m.length)===12?e.variableIncome.reduce((g,v)=>g+v.salary+v.bonus+v.housingAllowance+v.otherIncome,0):e.monthlySalary*12})(),a=b.useMemo(()=>[{key:"lifeInsurance",hasKey:"hasLifeInsurance",label:"Life Insurance",description:"Life insurance premiums paid during the year",maxValue:P.MAX_LIFE_INSURANCE},{key:"healthInsurance",hasKey:"hasHealthInsurance",label:"Health Insurance",description:"Health insurance premiums paid during the year",maxValue:P.MAX_HEALTH_INSURANCE},{key:"pensionFund",hasKey:"hasPensionFund",label:"Pension Fund",description:"Government pension fund contributions",maxValue:P.MAX_PENSION_FUND},{key:"providentFund",hasKey:"hasProvidentFund",label:"Provident Fund",description:"Private provident fund contributions",maxValue:P.MAX_PROVIDENT_FUND},{key:"rmf",hasKey:"hasRMF",label:"RMF (Retirement Mutual Fund)",description:"RMF investments for retirement",maxValue:P.MAX_RMF},{key:"ssf",hasKey:"hasSSF",label:"SSF (Super Savings Fund)",description:"SSF long-term investments",maxValue:P.MAX_SSF},{key:"donations",hasKey:"hasDonations",label:"Charitable Donations",description:"Donations to approved charities (limited to 10% of income)",maxValue:Math.floor(l*P.MAX_DONATION_PERCENT)}],[l]),[i,o]=b.useState({hasLifeInsurance:e.hasLifeInsurance||!1,lifeInsurance:e.lifeInsurance||0,hasHealthInsurance:e.hasHealthInsurance||!1,healthInsurance:e.healthInsurance||0,hasPensionFund:e.hasPensionFund||!1,pensionFund:e.pensionFund||0,hasProvidentFund:e.hasProvidentFund||!1,providentFund:e.providentFund||0,hasRMF:e.hasRMF||!1,rmf:e.rmf||0,hasSSF:e.hasSSF||!1,ssf:e.ssf||0,hasDonations:e.hasDonations||!1,donations:e.donations||0});b.useEffect(()=>{t({...e,...i})},[i]);const u=(m,g)=>{o({...i,[m]:g})},p=(m,g,v)=>{const y=Math.min(parseFloat(g.replace(/[^0-9]/g,""))||0,v);o({...i,[m]:y})},f=m=>m>0?m.toLocaleString():"";return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Tax Deductions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select any deductions you qualify for. These will reduce your taxable income."}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Taxpayers aged 65 or older are entitled to an additional ",P.SENIOR_ALLOWANCE.toLocaleString()," allowance."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.isAge65OrOlder,onChange:m=>t({...e,isAge65OrOlder:m.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-amber-500 focus:ring-amber-500"}),r.jsx("span",{className:"text-gray-800",children:"I am 65 years or older"})]})]}),r.jsx("div",{className:"space-y-4 mb-6",children:a.map(m=>{const g=i[m.hasKey],v=i[m.key],y=n&&g&&v===0;return r.jsxs("div",{className:`border rounded-lg p-4 ${y?"border-red-500":"border-gray-200"}`,children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:g,onChange:N=>u(m.hasKey,N.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium text-gray-800",children:m.label}),r.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]}),g&&r.jsxs("div",{className:"mt-3 ml-8",children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Amount (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""}),r.jsx("input",{type:"text",value:f(v),onChange:N=>p(m.key,N.target.value,m.maxValue),className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 ${y?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-500"}`,placeholder:"0"})]}),y?r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please enter an amount or uncheck this deduction."}):r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",m.maxValue.toLocaleString()," per year"]})]})]},m.key)})})]})};function Xs(e){if(e<=0)return 0;let t=0,n=e,s=0;for(const l of jn){if(n<=0)break;const a=l.upTo-s,i=Math.min(n,a);t+=i*l.rate,n-=i,s=l.upTo}return t}const hc=e=>e.reduce((t,n,s)=>{let l=P.CHILD_ALLOWANCE_BASE;return s>=1&&n.birthYear>=P.CHILD_BONUS_BIRTH_YEAR&&(l+=P.CHILD_ALLOWANCE_BONUS),t+l},0),Pf=({formData:e,setFormData:t,onStartOver:n})=>{const[s,l]=b.useState(!1),[a,i]=b.useState(null),o=()=>{var m;return e.incomeType==="variable"&&((m=e.variableIncome)==null?void 0:m.length)===12?e.variableIncome.reduce((g,v)=>g+v.salary+v.bonus+v.housingAllowance+v.otherIncome,0):e.monthlySalary*12+(e.annualBonus||0)+(e.annualOtherIncome||0)},u=b.useMemo(()=>{const m=o(),g=Math.min(m*P.STANDARD_DEDUCTION_RATE,P.MAX_STANDARD_DEDUCTION),v=P.PERSONAL_ALLOWANCE;let y=g+v;if(e.includeSocialSecurity&&e.socialSecurityContribution>0&&(y+=Math.min(e.socialSecurityContribution,P.MAX_SOCIAL_SECURITY)),e.estimateType==="detailed"){e.maritalStatus==="married"&&e.spouseHasNoIncome&&(y+=P.SPOUSE_ALLOWANCE);const d=hc(e.children||[]);y+=d;const h=(e.numberOfParents||0)*P.PARENT_ALLOWANCE;if(y+=h,e.hasLifeInsurance&&(y+=Math.min(e.lifeInsurance||0,P.MAX_LIFE_INSURANCE)),e.hasHealthInsurance&&(y+=Math.min(e.healthInsurance||0,P.MAX_HEALTH_INSURANCE)),e.hasPensionFund&&(y+=Math.min(e.pensionFund||0,P.MAX_PENSION_FUND)),e.hasProvidentFund&&(y+=Math.min(e.providentFund||0,P.MAX_PROVIDENT_FUND)),e.hasRMF&&(y+=Math.min(e.rmf||0,P.MAX_RMF)),e.hasSSF&&(y+=Math.min(e.ssf||0,P.MAX_SSF)),e.hasDonations){const j=Math.floor(m*P.MAX_DONATION_PERCENT);y+=Math.min(e.donations||0,j)}}const N=Math.max(0,m-y),x=Xs(N),c=x/12;return{annualIncome:m,standardDeduction:g,personalAllowance:v,socialSecurity:e.includeSocialSecurity?Math.min(e.socialSecurityContribution||0,P.MAX_SOCIAL_SECURITY):0,totalDeductions:y,taxableIncome:N,annualTax:x,monthlyWithholding:c,effectiveRate:m>0?x/m*100:0}},[e]),p=b.useMemo(()=>{const m=[];if(e.incomeType==="fixed"&&(m.push({key:"monthlySalary",label:"Monthly Salary",value:e.monthlySalary,editable:!0}),m.push({key:"annualBonus",label:"Annual Bonus",value:e.annualBonus||0,editable:!0}),m.push({key:"annualOtherIncome",label:"Other Annual Income",value:e.annualOtherIncome||0,editable:!0})),m.push({key:"standardDeduction",label:"Expense Deduction (50%)",value:u.standardDeduction,editable:!1}),m.push({key:"personalAllowance",label:"Personal Allowance",value:P.PERSONAL_ALLOWANCE,editable:!1}),e.includeSocialSecurity&&m.push({key:"socialSecurityContribution",label:"Social Security",value:e.socialSecurityContribution,editable:!0,maxValue:P.MAX_SOCIAL_SECURITY}),e.estimateType==="detailed"){if(e.maritalStatus==="married"&&e.spouseHasNoIncome&&m.push({key:"spouseAllowance",label:"Spouse Allowance",value:P.SPOUSE_ALLOWANCE,editable:!1}),e.children&&e.children.length>0){const g=hc(e.children);m.push({key:"childAllowance",label:`Child Allowance (${e.children.length})`,value:g,editable:!1})}if(e.numberOfParents>0&&m.push({key:"parentAllowance",label:`Parent Allowance (${e.numberOfParents})`,value:e.numberOfParents*P.PARENT_ALLOWANCE,editable:!1}),e.hasLifeInsurance&&m.push({key:"lifeInsurance",label:"Life Insurance",value:e.lifeInsurance,editable:!0,maxValue:P.MAX_LIFE_INSURANCE}),e.hasHealthInsurance&&m.push({key:"healthInsurance",label:"Health Insurance",value:e.healthInsurance,editable:!0,maxValue:P.MAX_HEALTH_INSURANCE}),e.hasPensionFund&&m.push({key:"pensionFund",label:"Pension Fund",value:e.pensionFund,editable:!0,maxValue:P.MAX_PENSION_FUND}),e.hasProvidentFund&&m.push({key:"providentFund",label:"Provident Fund",value:e.providentFund,editable:!0,maxValue:P.MAX_PROVIDENT_FUND}),e.hasRMF&&m.push({key:"rmf",label:"RMF",value:e.rmf,editable:!0,maxValue:P.MAX_RMF}),e.hasSSF&&m.push({key:"ssf",label:"SSF",value:e.ssf,editable:!0,maxValue:P.MAX_SSF}),e.hasDonations){const g=o(),v=Math.floor(g*P.MAX_DONATION_PERCENT);m.push({key:"donations",label:"Donations",value:e.donations,editable:!0,maxValue:v})}}return m},[e,u.standardDeduction]),f=(m,g,v)=>{const y=parseFloat(g.replace(/[^0-9]/g,""))||0,N=v?Math.min(y,v):y;t({...e,[m]:N})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Estimated Monthly Withholding"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Monthly Tax Withholding"}),r.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:["",u.monthlyWithholding.toLocaleString("en-US",{maximumFractionDigits:0})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Effective Rate: ",u.effectiveRate.toFixed(2),"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Annual Income"}),r.jsxs("span",{className:"font-medium",children:["",u.annualIncome.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Deductions"}),r.jsxs("span",{className:"font-medium",children:["-",u.totalDeductions.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Taxable Income"}),r.jsxs("span",{className:"font-medium",children:["",u.taxableIncome.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-200 pt-2",children:[r.jsx("span",{className:"text-gray-600",children:"Annual Tax"}),r.jsxs("span",{className:"font-medium",children:["",u.annualTax.toLocaleString("en-US",{maximumFractionDigits:0})]})]})]}),r.jsxs("button",{onClick:()=>l(!s),className:"w-full py-2 text-blue-600 font-medium flex items-center justify-center gap-2 hover:bg-blue-50 rounded-lg mb-4",children:[s?"Hide Details":"Show All Values & Edit",r.jsx("span",{children:s?"":""})]}),s&&r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Edit values below to see how changes affect your tax estimate. Changes update instantly."}),r.jsx("div",{className:"space-y-3",children:p.map(m=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:m.label}),m.editable?r.jsxs("div",{className:"relative",children:[a===m.key?r.jsx("input",{type:"text",value:m.value.toLocaleString(),onChange:g=>f(m.key,g.target.value,m.maxValue),onBlur:()=>i(null),autoFocus:!0,className:"w-32 px-2 py-1 text-right border border-blue-500 rounded text-sm focus:ring-2 focus:ring-blue-500"}):r.jsxs("button",{onClick:()=>i(m.key),className:"w-32 px-2 py-1 text-right text-blue-600 hover:bg-blue-50 rounded border border-transparent hover:border-blue-200 text-sm",children:["",m.value.toLocaleString(),r.jsx("span",{className:"ml-1 text-xs",children:""})]}),m.maxValue&&r.jsxs("p",{className:"text-xs text-gray-400 text-right",children:["Max: ",m.maxValue.toLocaleString()]})]}):r.jsxs("span",{className:"text-sm text-gray-500 w-32 text-right",children:["",m.value.toLocaleString(),r.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(fixed)"})]})]},m.key))})]}),r.jsx("button",{onClick:n,className:"w-full py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Start Over"})]})},Mf=()=>({salary:0,bonus:0,housingAllowance:0,otherIncome:0});function pc(){return{estimateType:"",incomeType:"",monthlySalary:0,annualBonus:0,annualOtherIncome:0,variableIncome:Array(12).fill(null).map(()=>Mf()),includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0}}const Of=()=>{var c,d;const[e,t]=b.useState(0),[n,s]=b.useState(pc),[l,a]=b.useState(!1),i=()=>{t(e+1)},o=()=>{p()?(a(!1),t(e+1)):a(!0)},u=()=>{e>0&&(a(!1),t(e-1))},p=()=>{var j,S;switch((j=g[e])==null?void 0:j.id){case"estimate-type":return n.estimateType!=="";case"income-type":return n.incomeType!=="";case"monthly-income":return n.monthlySalary>0;case"variable-income":return((S=n.variableIncome)==null?void 0:S.length)===12?n.variableIncome.reduce((T,A)=>T+A.salary+A.bonus+A.housingAllowance+A.otherIncome,0)>0:!1;case"marital-status":return n.maritalStatus!=="";case"dependents":const k=!n.childrenEligibilityConfirmed||n.children.length>0,R=!n.parentsEligibilityConfirmed||n.numberOfParents>0;return k&&R;case"deductions":return[{has:n.hasLifeInsurance,amount:n.lifeInsurance},{has:n.hasHealthInsurance,amount:n.healthInsurance},{has:n.hasPensionFund,amount:n.pensionFund},{has:n.hasProvidentFund,amount:n.providentFund},{has:n.hasRMF,amount:n.rmf},{has:n.hasSSF,amount:n.ssf},{has:n.hasDonations,amount:n.donations}].every(I=>!I.has||I.amount>0);default:return!0}},f=()=>{s(pc()),t(0)},m=h=>{h>=0&&h<g.length&&t(h)},g=b.useMemo(()=>{const h=[];return h.push({id:"estimate-type",title:"Estimate Type",component:r.jsx(wf,{formData:n,setFormData:s,nextStep:i})}),h.push({id:"income-type",title:"Income Type",component:r.jsx(Tf,{formData:n,setFormData:s,nextStep:i})}),n.incomeType==="variable"?h.push({id:"variable-income",title:"Monthly Income",component:r.jsx(If,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}):h.push({id:"monthly-income",title:"Assessable Income",component:r.jsx(Cf,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}),n.estimateType==="detailed"&&(h.push({id:"marital-status",title:"Marital Status",component:r.jsx(Af,{formData:n,setFormData:s,nextStep:i,showValidationErrors:l})}),h.push({id:"dependents",title:"Dependents",component:r.jsx(_f,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}),h.push({id:"deductions",title:"Deductions",component:r.jsx(Lf,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})})),h.push({id:"results",title:"Results",component:r.jsx(Pf,{formData:n,setFormData:s,onStartOver:f})}),h},[n,e]),v=g.length,y=e===v-1,N=e===0,x=(e+1)/v*100;return r.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center py-8 px-4",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 md:p-8 max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs(ne,{to:"/",className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm","aria-label":"Go to home page",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),!y&&r.jsx("button",{onClick:f,className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Start over",children:"Start Over"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e+1," of ",v,": ",(c=g[e])==null?void 0:c.title]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(x),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${x}%`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":v})}),r.jsx("div",{className:"flex justify-between mt-3",children:g.map((h,j)=>r.jsxs("button",{onClick:()=>j<e&&m(j),disabled:j>=e,className:`flex flex-col items-center group ${j<e?"cursor-pointer":"cursor-default"}`,"aria-label":`${j<e?"Go to ":""}Step ${j+1}: ${h.title}`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${j<e?"bg-blue-500 group-hover:bg-blue-600":j===e?"bg-blue-500 ring-2 ring-blue-200":"bg-gray-300"}`}),r.jsx("span",{className:`text-xs mt-1 hidden md:block ${j===e?"text-blue-600 font-medium":"text-gray-400"}`,children:h.title})]},h.id))})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-blue-700",children:"This estimate is based on Thai tax rules for Fiscal Year 2026."})}),r.jsx("div",{className:"min-h-[300px]",children:(d=g[e])==null?void 0:d.component}),!y&&!N&&r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:u,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2","aria-label":"Go to previous step",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),r.jsxs("button",{onClick:o,className:"px-6 py-2 rounded-lg transition-colors flex items-center gap-2 bg-blue-500 text-white hover:bg-blue-600","aria-label":"Go to next step",children:["Next",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})})},Ff=[{value:"salaried",label:"Salaried Employee",description:"I receive a regular salary from an employer",icon:"",comingSoon:!1},{value:"self-employed",label:"Self-Employed / Freelancer",description:"I work independently or as a contractor",icon:"",comingSoon:!1},{value:"sole_proprietor",label:"Business Owner (Sole Proprietor)",description:"I own and operate an unincorporated business",icon:"",comingSoon:!1},{value:"company_owner",label:"Company Owner / Director",description:"I own or direct a limited company and receive salary/dividends",icon:"",comingSoon:!1}],ft=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{const a={...e,employmentType:l};t(a),n(a)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What type of employment do you have?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the option that best describes your main source of income."}),r.jsx("div",{className:"space-y-4",children:Ff.map(l=>r.jsxs("button",{onClick:()=>!l.comingSoon&&s(l.value),disabled:l.comingSoon,className:`w-full p-4 border-2 rounded-lg text-left transition-all relative ${l.comingSoon?"border-gray-200 cursor-not-allowed":e.employmentType===l.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-500 hover:bg-blue-50"}`,"aria-pressed":e.employmentType===l.value,children:[r.jsxs("div",{className:`flex items-center gap-4 ${l.comingSoon?"blur-[2px] opacity-50":""}`,children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]}),l.comingSoon&&r.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white text-sm font-medium px-3 py-1 rounded-full",children:"Coming Soon"})]},l.value))})]})},Bf=({formData:e,setFormData:t})=>{const[n,s]=b.useState(""),[l,a]=b.useState(!1),i=f=>{const m=f.target.value.replace(/,/g,""),g=parseFloat(m)||0;t({...e,annualIncome:g}),l&&o(g)},o=f=>f<=0?(s("Please enter your annual income"),!1):(s(""),!0),u=()=>{a(!0),o(e.annualIncome)},p=f=>f===0?"":f.toLocaleString("en-US");return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What is your annual income?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your total gross income for the year before any deductions."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"annualIncome",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Income (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"annualIncome",value:p(e.annualIncome),onChange:i,onBlur:u,placeholder:"0",className:`w-full pl-8 pr-4 py-3 border rounded-lg text-lg focus:outline-none focus:ring-2 ${n?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,"aria-describedby":n?"income-error":void 0,"aria-invalid":!!n})]}),n&&r.jsx("p",{id:"income-error",className:"mt-2 text-sm text-red-600",children:n})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"What to include:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Salary and wages"}),r.jsx("li",{children:" Bonuses and commissions"}),r.jsx("li",{children:" Freelance income"}),r.jsx("li",{children:" Business profits"}),r.jsx("li",{children:" Rental income"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.includeSocialSecurity,onChange:f=>{t({...e,includeSocialSecurity:f.target.checked,socialSecurityContribution:f.target.checked?e.socialSecurityContribution:0})},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I made social security contributions"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["If you paid into the Social Security Office (SSO), you can deduct up to ",E.MAX_SOCIAL_SECURITY.toLocaleString()," for 2025."]})]})]}),e.includeSocialSecurity&&r.jsxs("div",{className:"mt-4 ml-7",children:[r.jsx("label",{htmlFor:"socialSecurity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Social Security Contributions (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"socialSecurity",value:e.socialSecurityContribution===0?"":e.socialSecurityContribution.toLocaleString("en-US"),onChange:f=>{const m=f.target.value.replace(/,/g,""),g=parseFloat(m)||0,v=Math.min(g,E.MAX_SOCIAL_SECURITY);t({...e,socialSecurityContribution:v})},placeholder:"0",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",E.MAX_SOCIAL_SECURITY.toLocaleString()]})]})]})]})},Jr=({formData:e,setFormData:t,nextStep:n})=>{const[s,l]=b.useState(e.maritalStatus==="married"),a=o=>{o==="single"?(t({...e,maritalStatus:o,spouseHasNoIncome:!1}),l(!1),n()):(t({...e,maritalStatus:o}),l(!0))},i=o=>{t({...e,spouseHasNoIncome:o})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What is your marital status?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your marital status affects your tax allowances."}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>a("single"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="single"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="single",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Single"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Not married or legally separated"})]})]})}),r.jsx("button",{onClick:()=>a("married"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="married"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="married",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Married"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Legally married"})]})]})})]}),s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-blue-700",children:["You can claim a ",E.SPOUSE_ALLOWANCE.toLocaleString()," spouse allowance only if your spouse has no income during the tax year."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.spouseHasNoIncome,onChange:o=>i(o.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"My spouse has no income"})]})]})]})},Zr=new Date().getFullYear(),es=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(e.childrenEligibilityConfirmed||e.children.length>0),[a,i]=b.useState(e.parentsEligibilityConfirmed||e.numberOfParents>0),o=c=>Zr-c,u=c=>{const d=o(c);return d>=20&&d<=25},p=(c,d)=>{let h=E.CHILD_ALLOWANCE_BASE;return d>=1&&c.birthYear>=E.CHILD_BONUS_BIRTH_YEAR&&(h+=E.CHILD_ALLOWANCE_BONUS),h},f=()=>e.children.reduce((c,d,h)=>c+p(d,h),0),m=()=>{const c=[...e.children,{birthYear:Zr-10,isStudent:!1}];t({...e,children:c})},g=()=>{if(e.children.length>0){const c=e.children.slice(0,-1);t({...e,children:c})}},v=(c,d)=>{const h=[...e.children];h[c]={...h[c],birthYear:d},u(d)||(h[c].isStudent=!1),t({...e,children:h})},y=(c,d)=>{const h=[...e.children];h[c]={...h[c],isStudent:d},t({...e,children:h})},N=c=>{const d=Math.max(0,Math.min(E.MAX_PARENTS,e.numberOfParents+c));t({...e,numberOfParents:d})},x=E.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?E.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?E.SENIOR_ALLOWANCE:0)+f()+e.numberOfParents*E.PARENT_ALLOWANCE;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dependents & Allowances"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your dependents to calculate your allowances."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Children"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Under 20 years old, OR under 25 and studying, OR legally incompetent"}),r.jsx("li",{children:" Earning less than 30,000 per year"})]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&s&&e.children.length===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:s,onChange:c=>{l(c.target.checked),c.target.checked?t({...e,childrenEligibilityConfirmed:!0}):t({...e,children:[],childrenEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have children who meet these criteria"})]}),n&&s&&e.children.length===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one child or uncheck the box above."}),s&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of children:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:g,disabled:e.children.length===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove child",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.children.length}),r.jsx("button",{onClick:m,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100","aria-label":"Add child",children:"+"})]})]}),e.children.map((c,d)=>{const h=o(c.birthYear),j=u(c.birthYear),S=p(c,d),k=d>=1&&c.birthYear>=E.CHILD_BONUS_BIRTH_YEAR;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:["Child ",d+1]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",S.toLocaleString(),k&&r.jsx("span",{className:"text-xs text-green-500 ml-1",children:"(+30k bonus)"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Birth year:"}),r.jsx("input",{type:"number",value:c.birthYear,onChange:R=>v(d,parseInt(R.target.value)||Zr),min:1900,max:Zr,className:"w-24 px-2 py-1 border border-gray-300 rounded text-center"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Age: ",h]})]}),j&&r.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.isStudent||!1,onChange:R=>y(d,R.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Currently studying (required for ages 20-25)"})]})]},d)}),e.children.length>0&&r.jsxs("div",{className:"text-right text-sm text-gray-600",children:["Total children allowance: ",r.jsxs("span",{className:"font-medium text-green-600",children:["",f().toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Parents"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Parent is 60 years or older"}),r.jsx("li",{children:" Parent's annual income is less than 30,000"}),r.jsxs("li",{children:[" You can claim up to ",E.MAX_PARENTS," parents (yours and spouse's)"]})]}),r.jsxs("p",{className:"text-blue-600 mt-2",children:["Allowance: ",E.PARENT_ALLOWANCE.toLocaleString()," per eligible parent"]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&a&&e.numberOfParents===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:a,onChange:c=>{i(c.target.checked),c.target.checked?t({...e,parentsEligibilityConfirmed:!0}):t({...e,numberOfParents:0,parentsEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have parents who meet these criteria"})]}),n&&a&&e.numberOfParents===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one parent or uncheck the box above."}),a&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of parents:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(-1),disabled:e.numberOfParents===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove parent",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.numberOfParents}),r.jsx("button",{onClick:()=>N(1),disabled:e.numberOfParents>=E.MAX_PARENTS,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add parent",children:"+"})]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",(e.numberOfParents*E.PARENT_ALLOWANCE).toLocaleString()]})]})})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Total Allowances"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal:"}),r.jsxs("span",{children:["",E.PERSONAL_ALLOWANCE.toLocaleString()]})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse:"}),r.jsxs("span",{children:["",E.SPOUSE_ALLOWANCE.toLocaleString()]})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior (65+):"}),r.jsxs("span",{children:["",E.SENIOR_ALLOWANCE.toLocaleString()]})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Children:"}),r.jsxs("span",{children:["",f().toLocaleString()]})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parents:"}),r.jsxs("span",{children:["",(e.numberOfParents*E.PARENT_ALLOWANCE).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-green-300 pt-1 mt-2",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",x.toLocaleString()]})]})]})]})]})},Hf=({id:e,label:t,maxAmount:n,hasDeduction:s,amount:l,onToggle:a,onAmountChange:i,description:o,showValidationErrors:u})=>{const[p,f]=b.useState(""),m=u&&s&&l===0,g=N=>{const x=N.target.value.replace(/,/g,""),c=parseFloat(x)||0;i(c)},v=()=>{s&&l>n?f(`Maximum deduction is ${n.toLocaleString()}`):f("")},y=N=>N===0?"":N.toLocaleString("en-US");return r.jsxs("div",{className:`border rounded-lg p-4 mb-3 ${m?"border-red-500":"border-gray-200"}`,children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s,onChange:N=>a(N.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium text-gray-800",children:t}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(max ",n.toLocaleString(),")"]})]})]}),o&&r.jsx("p",{className:"text-sm text-gray-500 mt-1 ml-8",children:o}),s&&r.jsxs("div",{className:"mt-3 ml-8 animate-fadeIn",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:e,value:y(l),onChange:g,onBlur:v,placeholder:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${p||m?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,"aria-describedby":p||m?`${e}-error`:void 0})]}),(p||m)&&r.jsx("p",{id:`${e}-error`,className:"mt-1 text-sm text-red-600",children:p||"Please enter an amount or uncheck this deduction."}),l>0&&l<=n&&r.jsxs("p",{className:"mt-1 text-sm text-green-600",children:["Deduction: ",Math.min(l,n).toLocaleString()]})]})]})},ts=({formData:e,setFormData:t,showValidationErrors:n})=>{const s=[{id:"lifeInsurance",label:"Life Insurance Premiums",maxAmount:E.MAX_LIFE_INSURANCE,hasKey:"hasLifeInsurance",amountKey:"lifeInsurance",description:"Premiums paid for life insurance policies with 10+ year terms"},{id:"healthInsurance",label:"Health Insurance Premiums",maxAmount:E.MAX_HEALTH_INSURANCE,hasKey:"hasHealthInsurance",amountKey:"healthInsurance",description:"Premiums paid for health insurance policies"},{id:"pensionFund",label:"Government Pension Fund",maxAmount:E.MAX_PENSION_FUND,hasKey:"hasPensionFund",amountKey:"pensionFund",description:"Contributions to government pension fund"},{id:"providentFund",label:"Provident Fund",maxAmount:E.MAX_PROVIDENT_FUND,hasKey:"hasProvidentFund",amountKey:"providentFund",description:"Employee contributions to provident fund"},{id:"rmf",label:"RMF (Retirement Mutual Fund)",maxAmount:E.MAX_RMF,hasKey:"hasRMF",amountKey:"rmf",description:"Investments in approved retirement mutual funds"},{id:"ssf",label:"SSF (Super Savings Fund)",maxAmount:E.MAX_SSF,hasKey:"hasSSF",amountKey:"ssf",description:"Investments in approved super savings funds"},{id:"donations",label:"Charitable Donations",maxAmount:Math.floor(e.annualIncome*E.MAX_DONATION_PERCENT),hasKey:"hasDonations",amountKey:"donations",description:"Donations to approved charities (limited to 10% of income)"}],l=(o,u)=>{t({...e,[o]:u})},a=(o,u)=>{t({...e,[o]:u})},i=()=>{let o=0;return s.forEach(u=>{e[u.hasKey]&&(o+=Math.min(e[u.amountKey],u.maxAmount))}),o};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Additional Deductions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the deductions that apply to you. These reduce your taxable income."}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Taxpayers aged 65 or older are entitled to an additional ",E.SENIOR_ALLOWANCE.toLocaleString()," allowance."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.isAge65OrOlder,onChange:o=>t({...e,isAge65OrOlder:o.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-amber-500 focus:ring-amber-500"}),r.jsx("span",{className:"text-gray-800",children:"I am 65 years or older"})]})]}),r.jsx("div",{className:"mb-6",children:s.map(o=>r.jsx(Hf,{id:o.id,label:o.label,maxAmount:o.maxAmount,hasDeduction:e[o.hasKey],amount:e[o.amountKey],onToggle:u=>l(o.hasKey,u),onAmountChange:u=>a(o.amountKey,u),description:o.description,showValidationErrors:n},o.id))}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-green-800",children:"Total Deductions:"}),r.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",i().toLocaleString()]})]})})]})},ns=({formData:e,setFormData:t})=>{const n=l=>{const a=l.target.value.replace(/,/g,""),i=parseFloat(a)||0;t({...e,taxWithheld:i})},s=l=>l===0?"":l.toLocaleString("en-US");return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tax Withholding"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter the total tax already withheld from your income this year."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"taxWithheld",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Already Withheld (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"taxWithheld",value:s(e.taxWithheld),onChange:n,placeholder:"0",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500"})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Leave at 0 if you haven't had any tax withheld."})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Where to find this amount:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:' Check your monthly payslips (look for "Tax Withheld" or "WHT")'}),r.jsx("li",{children:" Request a withholding certificate from your employer"}),r.jsx("li",{children:" Sum up all monthly withholdings for the year"}),r.jsx("li",{children:" Check your 50 Tawi form from your employer"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Why this matters:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"If you've had tax withheld throughout the year, you may be entitled to a refund if the total exceeds your actual tax liability. Or you may owe additional tax if the withholding was insufficient."})]})]})},qe={salary_40_1:.5,liberal_profession_40_6:.3,contractor_40_7:.4,business_sales_40_8:.6,rental_40_5:.3,dividend:0,other:0},Qt={VAT_REGISTRATION:18e5,PND94_SINGLE:6e4,PND94_MARRIED_SPOUSE_NO_INCOME:12e4,THAI_RESIDENCY_DAYS:180,FOREIGN_INCOME_TAX_YEAR_START:"2024-01-01"},sm=["rental_40_5","liberal_profession_40_6","contractor_40_7","business_sales_40_8"],Yl={office_supplies:"Office Supplies",equipment:"Equipment & Tools",software:"Software & Subscriptions",travel:"Travel & Transportation",communication:"Phone & Internet",professional_services:"Professional Services",rent:"Office Rent",utilities:"Utilities",marketing:"Marketing & Advertising",insurance:"Business Insurance",other:"Other Expenses"},zf=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"KRW",name:"Korean Won",symbol:""},{code:"THB",name:"Thai Baht",symbol:""}],Wf={PND94_DUE_DATE:"2024-09-30"},Uf={SALARY_EXPENSE_CAP:1e5};function $f(e){return sm.includes(e)}const Yf={retail_trade:"Retail / Wholesale Trade",manufacturing:"Manufacturing",service_business:"Service Business",restaurant_food:"Restaurant / Food Service",transportation:"Transportation",construction:"Construction",professional_service:"Professional Services",rental_property:"Property Rental",agriculture:"Agriculture",other_business:"Other Business"},Vf={retail_trade:"Selling goods - 60% flat-rate deduction",manufacturing:"Producing goods for sale - 60% flat-rate deduction",service_business:"General services - 40% flat-rate deduction",restaurant_food:"Food and beverage business - 60% flat-rate deduction",transportation:"Delivery and logistics - 40% flat-rate deduction",construction:"Building and contracting - 40% flat-rate deduction",professional_service:"Legal, accounting, consulting - 30% flat-rate deduction",rental_property:"Renting property - 30% flat-rate deduction",agriculture:"Farming and agricultural - 60% flat-rate deduction",other_business:"Other business activities - varies"},en={salary_40_1:{type:"salary_40_1",label:"Salary & Employment Income",shortLabel:"Salary",section:"40(1)",description:"Regular employment income from an employer including wages, bonuses, and benefits",flatRate:qe.salary_40_1,flatRateCap:1e5,examples:["Monthly salary","Annual bonus","Commission from employer","Housing allowance","Transportation allowance"],withholdingRate:void 0,notes:"Expense deduction is 50% of income, capped at 100,000"},liberal_profession_40_6:{type:"liberal_profession_40_6",label:"Liberal Profession Income",shortLabel:"Professional",section:"40(6)",description:"Income from professional services requiring specialized knowledge or skills",flatRate:qe.liberal_profession_40_6,examples:["Medical/dental practice fees","Legal consultation fees","Engineering services","Accounting services","Architecture fees","Entertainment/performance fees","Sports earnings","Author royalties"],withholdingRate:.03,notes:"Deduction rate varies: 30% for most professions, 60% for medical, entertainment, sports"},contractor_40_7:{type:"contractor_40_7",label:"Contractor Income",shortLabel:"Contractor",section:"40(7)",description:"Income from contract work where you provide both labor and materials",flatRate:qe.contractor_40_7,examples:["Construction contracts","Renovation work","Manufacturing contracts","Installation services","Custom product creation"],withholdingRate:.03,notes:"40% flat deduction rate applies"},business_sales_40_8:{type:"business_sales_40_8",label:"Business & Sales Income",shortLabel:"Business",section:"40(8)",description:"Income from business operations, trading, or sales activities",flatRate:qe.business_sales_40_8,examples:["Retail/wholesale sales","E-commerce revenue","Consulting business","Freelance services","Agency fees","Online platform income"],withholdingRate:.03,notes:"60% flat deduction rate - highest among business income types"},rental_40_5:{type:"rental_40_5",label:"Rental Income",shortLabel:"Rental",section:"40(5)",description:"Income from renting out property or assets",flatRate:qe.rental_40_5,examples:["Residential property rental","Commercial property rental","Vehicle rental","Equipment rental","Land lease income"],withholdingRate:.05,notes:"30% flat deduction rate, or actual expenses with documentation"},dividend:{type:"dividend",label:"Dividend Income",shortLabel:"Dividend",section:"40(4)(b)",description:"Dividends received from Thai companies",flatRate:qe.dividend,examples:["Stock dividends from SET-listed companies","Dividends from private companies","Investment fund distributions"],withholdingRate:.1,notes:"No expense deduction. May elect final 10% withholding or include in PIT calculation."},other:{type:"other",label:"Other Income",shortLabel:"Other",section:"Various",description:"Income from other sources not covered above",flatRate:qe.other,examples:["Prizes and lottery winnings","Gifts above threshold","Other taxable receipts"],withholdingRate:void 0,notes:"Deduction rules vary based on specific income source"}};function Df(){return Object.entries(en).map(([e,t])=>({value:e,label:`${t.label} (${t.section})`}))}function Xf(e){const t=en[e.incomeType],n=qe[e.incomeType];if(n===0)return 0;const s=e.grossAmount*n;return e.incomeType==="salary_40_1"&&t.flatRateCap?Math.min(s,t.flatRateCap):s}function hl(e){const t=new Map;e.forEach(a=>{const i=t.get(a.incomeType)||{gross:0,deduction:0},o=Xf(a);t.set(a.incomeType,{gross:i.gross+a.grossAmount,deduction:i.deduction+o})});const n=t.get("salary_40_1");if(n){const a=qe.salary_40_1,i=n.gross*a;n.deduction=Math.min(i,Uf.SALARY_EXPENSE_CAP),t.set("salary_40_1",n)}const s=[];let l=0;return t.forEach((a,i)=>{s.push({incomeType:i,grossAmount:a.gross,rate:qe[i],deduction:a.deduction}),l+=a.deduction}),{total:l,breakdown:s}}function lm(e){const t=new Map;e.forEach(l=>{const a=t.get(l.category);a?t.set(l.category,{amount:a.amount+l.amount,hasReceipts:a.hasReceipts&&l.hasReceipt}):t.set(l.category,{amount:l.amount,hasReceipts:l.hasReceipt})});const n=[];let s=0;return t.forEach((l,a)=>{n.push({category:a,amount:l.amount,hasReceipts:l.hasReceipts}),s+=l.amount}),{total:s,breakdown:n}}function Vi(e,t,n=.2){const s=hl(e),l=lm(t),i=Math.abs(s.total-l.total)*n,o=s.total>=l.total?"flat":"actual";return{flatRateDeduction:s.total,actualDeduction:l.total,recommended:o,taxSavings:i,flatBreakdown:s.breakdown,actualBreakdown:l.breakdown}}function Kf(e,t,n){const s=Vi(e,t);switch(n){case"force_flat":return s.flatRateDeduction;case"force_actual":return s.actualDeduction;case"auto_compare":default:return Math.max(s.flatRateDeduction,s.actualDeduction)}}function qf(e){const t=new Map;return e.forEach(n=>{const s=t.get(n.incomeType)||0;t.set(n.incomeType,s+n.grossAmount)}),t}function am(e){return e.reduce((t,n)=>t+n.withholdingAmount,0)}function im(e){return e.reduce((t,n)=>t+n.grossAmount,0)}function Qf(e){return e<=15e4?0:e<=3e5?.05:e<=5e5?.1:e<=75e4?.15:e<=1e6?.2:e<=2e6?.25:e<=5e6?.3:.35}const Gf=["ltr_wealthy_global","ltr_wealthy_pensioner","ltr_work_from_thailand"];function Di(e){return Gf.includes(e)}function Jf(e){return e==="ltr_highly_skilled"}function Zf(e,t,n="regular"){if(!t)return{entry:e,isTaxable:!1,reason:"Not a Thai tax resident (less than 180 days in Thailand)",taxableAmount:0,foreignTaxCredit:0};if(Di(n))return{entry:e,isTaxable:!1,reason:"LTR visa holder - foreign income is tax exempt",taxableAmount:0,foreignTaxCredit:0};if(!e.dateEarned)return{entry:e,isTaxable:!1,reason:"Date earned not specified",taxableAmount:0,foreignTaxCredit:0};const s=new Date(e.dateEarned),l=new Date(Qt.FOREIGN_INCOME_TAX_YEAR_START);if(s<l)return{entry:e,isTaxable:!1,reason:"Income earned before January 1, 2024 - exempt under pre-2024 rules",taxableAmount:0,foreignTaxCredit:0};if(!e.dateRemitted)return{entry:e,isTaxable:!1,reason:"Income not remitted to Thailand - not taxable until remitted",taxableAmount:0,foreignTaxCredit:0};const a=ex(e);return{entry:e,isTaxable:!0,reason:"Income earned in 2024+ and remitted to Thailand - fully taxable",taxableAmount:e.amountThb,foreignTaxCredit:a}}function ex(e){return e.foreignTaxPaid<=0?0:e.foreignTaxPaid}function tx(e){const t=Di(e.visaType),n=e.foreignIncomeEntries.map(o=>Zf(o,e.isThaiResident,e.visaType)),s=n.reduce((o,u)=>o+u.entry.amountThb,0),l=n.reduce((o,u)=>o+u.taxableAmount,0),a=n.reduce((o,u)=>o+u.entry.foreignTaxPaid,0),i=n.reduce((o,u)=>o+u.foreignTaxCredit,0);return{entries:n,totalForeignIncome:s,taxableForeignIncome:l,totalForeignTaxPaid:a,totalForeignTaxCredit:i,ltrExemptionApplied:t}}function nx(e){return e>=Qt.THAI_RESIDENCY_DAYS}function rx(e){return nx(e)?{isResident:!0,status:"Thai Tax Resident",description:`With ${e} days in Thailand (180+ required), you are considered a Thai tax resident. Both Thai-sourced income and foreign income remitted to Thailand may be taxable.`}:{isResident:!1,status:"Non-Resident",description:`With ${e} days in Thailand (less than 180), you are not a Thai tax resident. Only income earned in Thailand is subject to Thai tax.`}}function sx(e){return e.filter(t=>{const n=sm.includes(t.incomeType),s=t.monthReceived>=1&&t.monthReceived<=6;return n&&s}).reduce((t,n)=>t+n.grossAmount,0)}function lx(e,t=6e4,n=0){const s=e*2,l=Math.min(s*.5,1e5),a=t+n,i=Math.max(0,s-l-a);let o=0,u=i;for(let p=0;p<jn.length;p++){const f=jn[p],m=p===0?0:jn[p-1].upTo,g=f.upTo-m,v=Math.min(u,g);if(o+=v*f.rate,u-=v,u<=0)break}return Math.round(o/2)}function om(e){const t=sx(e.thaiIncomeEntries),n=e.maritalStatus==="married"&&e.spouseHasNoIncome?Qt.PND94_MARRIED_SPOUSE_NO_INCOME:Qt.PND94_SINGLE,s=t>n,l=e.maritalStatus==="married"&&e.spouseHasNoIncome?6e4:0,a=s?lx(t,6e4,l):0,i=Wf.PND94_DUE_DATE;return{required:s,halfYearIncome:t,threshold:n,provisionalTax:a,dueDate:i}}function ax(e){return e.reduce((t,n)=>t+n.grossAmount,0)}function cm(e){const t=ax(e.thaiIncomeEntries),n=Qt.VAT_REGISTRATION,s=t>=n;return{required:s,turnover:t,threshold:n,mustRegisterWithinDays:s?30:0}}function ix(e){const t=om(e),n=cm(e),s=[];return t.required&&s.push(`PND94 filing due by ${t.dueDate}`),n.required&&s.push(`VAT registration required within ${n.mustRegisterWithinDays} days`),{pnd94:t,vat:n,hasAnyObligation:t.required||n.required,urgentItems:s}}const ox=.17;function Gt(e){let t=0;return e.forEach((n,s)=>{t+=E.CHILD_ALLOWANCE_BASE,s>=1&&n.birthYear>=E.CHILD_BONUS_BIRTH_YEAR&&(t+=E.CHILD_ALLOWANCE_BONUS)}),t}function cx(e){let t=E.PERSONAL_ALLOWANCE;e.maritalStatus==="married"&&e.spouseHasNoIncome&&(t+=E.SPOUSE_ALLOWANCE),e.isAge65OrOlder&&(t+=E.SENIOR_ALLOWANCE),t+=Gt(e.children);const n=Math.min(e.numberOfParents,E.MAX_PARENTS);return t+=n*E.PARENT_ALLOWANCE,t}function um(e){return Math.min(e*E.STANDARD_DEDUCTION_RATE,E.MAX_STANDARD_DEDUCTION)}function ux(e,t){return{standardDeduction:um(e.annualIncome),personalAllowance:E.PERSONAL_ALLOWANCE,spouseAllowance:e.maritalStatus==="married"&&e.spouseHasNoIncome?E.SPOUSE_ALLOWANCE:0,seniorAllowance:e.isAge65OrOlder?E.SENIOR_ALLOWANCE:0,childAllowance:Gt(e.children),parentAllowance:Math.min(e.numberOfParents,E.MAX_PARENTS)*E.PARENT_ALLOWANCE,socialSecurity:e.includeSocialSecurity?Math.min(e.socialSecurityContribution,E.MAX_SOCIAL_SECURITY):0,lifeInsurance:e.hasLifeInsurance?Math.min(e.lifeInsurance,E.MAX_LIFE_INSURANCE):0,healthInsurance:e.hasHealthInsurance?Math.min(e.healthInsurance,E.MAX_HEALTH_INSURANCE):0,pensionFund:e.hasPensionFund?Math.min(e.pensionFund,E.MAX_PENSION_FUND):0,providentFund:e.hasProvidentFund?Math.min(e.providentFund,E.MAX_PROVIDENT_FUND):0,rmf:e.hasRMF?Math.min(e.rmf,E.MAX_RMF):0,ssf:e.hasSSF?Math.min(e.ssf,E.MAX_SSF):0,donations:e.hasDonations?Math.min(e.donations,t*E.MAX_DONATION_PERCENT):0}}function dx(e){const t=um(e.annualIncome),n=cx(e),s=Math.max(0,e.annualIncome-t-n),l=ux(e,s),a=l.standardDeduction+l.socialSecurity+l.lifeInsurance+l.healthInsurance+l.pensionFund+l.providentFund+l.rmf+l.ssf+l.donations,i=Math.max(0,s-(a-l.standardDeduction)),o=Xs(i),u=e.taxWithheld-o,p=e.annualIncome>0?o/e.annualIncome*100:0;return{grossIncome:e.annualIncome,totalAllowances:n,totalDeductions:a,taxableIncome:i,taxOwed:o,taxWithheld:e.taxWithheld,refundOrOwed:u,effectiveRate:p,breakdown:l}}function M(e){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function dm(e){return`${e.toFixed(2)}%`}function mx(e){let t=E.PERSONAL_ALLOWANCE;e.maritalStatus==="married"&&e.spouseHasNoIncome&&(t+=E.SPOUSE_ALLOWANCE),e.isAge65OrOlder&&(t+=E.SENIOR_ALLOWANCE),t+=Gt(e.children);const n=Math.min(e.numberOfParents,E.MAX_PARENTS);return t+=n*E.PARENT_ALLOWANCE,t}function hx(e,t){let n=0;return e.includeSocialSecurity&&(n+=Math.min(e.socialSecurityContribution,E.MAX_SOCIAL_SECURITY)),e.hasLifeInsurance&&(n+=Math.min(e.lifeInsurance,E.MAX_LIFE_INSURANCE)),e.hasHealthInsurance&&(n+=Math.min(e.healthInsurance,E.MAX_HEALTH_INSURANCE)),e.hasPensionFund&&(n+=Math.min(e.pensionFund,E.MAX_PENSION_FUND)),e.hasProvidentFund&&(n+=Math.min(e.providentFund,E.MAX_PROVIDENT_FUND)),e.hasRMF&&(n+=Math.min(e.rmf,E.MAX_RMF)),e.hasSSF&&(n+=Math.min(e.ssf,E.MAX_SSF)),e.hasDonations&&(n+=Math.min(e.donations,t*E.MAX_DONATION_PERCENT)),n}function px(e){const t=Jf(e.visaType),n=Di(e.visaType),s=im(e.thaiIncomeEntries),l=am(e.thaiIncomeEntries),a=qf(e.thaiIncomeEntries),i=a.get("salary_40_1")||0,o=s-i,u=tx(e),p=u.totalForeignIncome,f=u.taxableForeignIncome,m=u.totalForeignTaxCredit,g=t?o+f:s+f,v=s+f,y=Kf(e.thaiIncomeEntries,e.actualExpenses,e.expenseMethod),N=e.expenseMethod==="auto_compare"||e.expenseMethod==="force_actual"?Vi(e.thaiIncomeEntries,e.actualExpenses,Qf(g-y)):void 0,x=mx(e),c=Math.max(0,g-y-x),d=hx(e,c),h=Math.max(0,c-d);let j,S=0;if(t&&i>0){S=i*ox;const ue=Xs(h);j=S+ue}else j=Xs(h);const k=f>0&&v>0?f/v*j:0,R=Math.min(m,k),w=l+R,I=Math.max(0,j-w),T=v>0?j/v*100:0,A=om(e),z=cm(e);return{grossIncome:v,thaiIncomeTotal:s,foreignIncomeTotal:p,taxableForeignIncome:f,expenseDeduction:y,expenseMethod:e.expenseMethod,totalAllowances:x,totalDeductions:y+d,taxableIncome:h,grossTaxBeforeCredits:j,withholdingCredits:l,foreignTaxCredits:R,netTaxPayable:I,effectiveRate:T,pnd94:A,vat:z,expenseComparison:N,foreignIncomeTaxability:u.entries,incomeByType:a,ltrBenefitApplied:t||n,ltrFlatRateTax:t?S:void 0,ltrForeignIncomeExempt:n}}const fc=({formData:e,goToStep:t,nextStep:n})=>{const s=f=>`${f.toLocaleString()}`,l=()=>{switch(e.employmentType){case"salaried":return"Salaried Employee";case"self-employed":return"Self-Employed / Freelancer";case"business":return"Business Owner";default:return"Not specified"}},a=()=>e.maritalStatus==="single"?"Single":e.maritalStatus==="married"?e.spouseHasNoIncome?"Married (spouse has no income)":"Married (spouse has income)":"Not specified",i=()=>{const f=[];if(e.hasLifeInsurance&&e.lifeInsurance>0&&f.push({label:"Life Insurance",amount:Math.min(e.lifeInsurance,E.MAX_LIFE_INSURANCE)}),e.hasHealthInsurance&&e.healthInsurance>0&&f.push({label:"Health Insurance",amount:Math.min(e.healthInsurance,E.MAX_HEALTH_INSURANCE)}),e.hasPensionFund&&e.pensionFund>0&&f.push({label:"Pension Fund",amount:Math.min(e.pensionFund,E.MAX_PENSION_FUND)}),e.hasProvidentFund&&e.providentFund>0&&f.push({label:"Provident Fund",amount:Math.min(e.providentFund,E.MAX_PROVIDENT_FUND)}),e.hasRMF&&e.rmf>0&&f.push({label:"RMF",amount:Math.min(e.rmf,E.MAX_RMF)}),e.hasSSF&&e.ssf>0&&f.push({label:"SSF",amount:Math.min(e.ssf,E.MAX_SSF)}),e.hasDonations&&e.donations>0){const m=e.annualIncome*E.MAX_DONATION_PERCENT;f.push({label:"Donations",amount:Math.min(e.donations,m)})}return f},o=E.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?E.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?E.SENIOR_ALLOWANCE:0)+Gt(e.children)+e.numberOfParents*E.PARENT_ALLOWANCE,u=i(),p=u.reduce((f,m)=>f+m.amount,0);return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Review Your Information"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Please verify your information before calculating your tax."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Employment Type"}),r.jsx("p",{className:"text-gray-800 mt-1",children:l()})]}),r.jsx("button",{onClick:()=>t(0),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Annual Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(e.annualIncome)}),e.includeSocialSecurity&&e.socialSecurityContribution>0&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Social Security: ",s(Math.min(e.socialSecurityContribution,E.MAX_SOCIAL_SECURITY))]})]}),r.jsx("button",{onClick:()=>t(1),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Marital Status"}),r.jsx("p",{className:"text-gray-800 mt-1",children:a()})]}),r.jsx("button",{onClick:()=>t(2),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Dependents & Allowances"}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal allowance:"}),r.jsx("span",{children:s(E.PERSONAL_ALLOWANCE)})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse allowance:"}),r.jsx("span",{children:s(E.SPOUSE_ALLOWANCE)})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior allowance (65+):"}),r.jsx("span",{children:s(E.SENIOR_ALLOWANCE)})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Children (",e.children.length,"):"]}),r.jsx("span",{children:s(Gt(e.children))})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Parents (",e.numberOfParents,"):"]}),r.jsx("span",{children:s(e.numberOfParents*E.PARENT_ALLOWANCE)})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total allowances:"}),r.jsx("span",{className:"text-green-600",children:s(o)})]})]})]}),r.jsx("button",{onClick:()=>t(3),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Deductions"}),u.length>0?r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[u.map(f=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[f.label,":"]}),r.jsx("span",{children:s(f.amount)})]},f.label)),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total deductions:"}),r.jsx("span",{className:"text-green-600",children:s(p)})]})]}):r.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"No deductions claimed"})]}),r.jsx("button",{onClick:()=>t(4),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Tax Already Withheld"}),r.jsx("p",{className:"text-gray-800 mt-1 font-semibold",children:s(e.taxWithheld)})]}),r.jsx("button",{onClick:()=>t(5),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})})]}),r.jsx("button",{onClick:()=>n(),className:"w-full mt-8 py-4 bg-green-500 text-white rounded-lg font-semibold text-lg hover:bg-green-600 transition-colors",children:"Calculate My Tax"})]})},xc=({formData:e,onStartOver:t})=>{const[n,s]=b.useState(!1),l=dx(e),a=l.refundOrOwed>0,i=a?"Tax Refund":"Additional Tax Owed",o=a?"text-green-600":"text-red-600",u=a?"bg-green-50 border-green-200":"bg-red-50 border-red-200",f=(()=>{const m=[];let g=l.taxableIncome,v=0;for(const y of jn){if(g<=0)break;const N=y.upTo-v,x=Math.min(g,N),c=x*y.rate;x>0&&m.push({label:y.label,rate:y.rate*100,taxableAmount:x,tax:c}),g-=x,v=y.upTo}return m})();return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Your Tax Calculation Results"}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Based on the information you provided"}),r.jsxs("div",{className:`${u} border-2 rounded-xl p-6 mb-6 text-center`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:i}),r.jsx("p",{className:`text-4xl font-bold ${o}`,children:M(Math.abs(l.refundOrOwed))}),a?r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"You've overpaid your taxes and may claim a refund"}):l.refundOrOwed<0?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"You owe additional tax beyond what was withheld"}):r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Your withholding matches your tax liability"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Gross Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(l.grossIncome)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Allowances"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(l.totalAllowances)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Deductions"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(l.totalDeductions)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Taxable Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(l.taxableIncome)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Owed"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(l.taxOwed)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Withheld"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(l.taxWithheld)})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Effective Tax Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:dm(l.effectiveRate)})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>s(!n),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":n,children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Detailed Breakdown"}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 animate-fadeIn",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Allowances"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Personal"}),r.jsx("span",{children:M(l.breakdown.personalAllowance)})]}),l.breakdown.spouseAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Spouse"}),r.jsx("span",{children:M(l.breakdown.spouseAllowance)})]}),l.breakdown.seniorAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Senior (65+)"}),r.jsx("span",{children:M(l.breakdown.seniorAllowance)})]}),l.breakdown.childAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Children"}),r.jsx("span",{children:M(l.breakdown.childAllowance)})]}),l.breakdown.parentAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Parents"}),r.jsx("span",{children:M(l.breakdown.parentAllowance)})]})]})]}),l.totalDeductions>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Deductions"}),r.jsxs("div",{className:"text-sm space-y-1",children:[l.breakdown.standardDeduction>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expense Deduction (50%)"}),r.jsx("span",{children:M(l.breakdown.standardDeduction)})]}),l.breakdown.socialSecurity>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Social Security"}),r.jsx("span",{children:M(l.breakdown.socialSecurity)})]}),l.breakdown.lifeInsurance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Life Insurance"}),r.jsx("span",{children:M(l.breakdown.lifeInsurance)})]}),l.breakdown.healthInsurance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Health Insurance"}),r.jsx("span",{children:M(l.breakdown.healthInsurance)})]}),l.breakdown.pensionFund>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Pension Fund"}),r.jsx("span",{children:M(l.breakdown.pensionFund)})]}),l.breakdown.providentFund>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Provident Fund"}),r.jsx("span",{children:M(l.breakdown.providentFund)})]}),l.breakdown.rmf>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"RMF"}),r.jsx("span",{children:M(l.breakdown.rmf)})]}),l.breakdown.ssf>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"SSF"}),r.jsx("span",{children:M(l.breakdown.ssf)})]}),l.breakdown.donations>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Donations"}),r.jsx("span",{children:M(l.breakdown.donations)})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tax by Bracket"}),r.jsxs("div",{className:"text-sm space-y-1",children:[f.map(m=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[m.label," (",m.rate,"%)"]}),r.jsx("span",{children:M(m.tax)})]},m.label)),r.jsxs("div",{className:"flex justify-between font-medium border-t border-gray-200 pt-1 mt-2",children:[r.jsx("span",{children:"Total Tax"}),r.jsx("span",{children:M(l.taxOwed)})]})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Disclaimer"}),r.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["This calculator provides an estimate only. Tax laws are complex and your actual tax liability may differ. Please consult with a qualified tax professional or the"," ",r.jsx("a",{href:"https://www.rd.go.th",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-900",children:"Thai Revenue Department"})," ","for official guidance."]})]})]})}),r.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Start Over"})]})},gc=[{value:"regular",label:"Regular visa / no special status",description:"Standard tax treatment"},{value:"ltr_wealthy_global",label:"LTR: Wealthy Global Citizen",description:"Foreign income tax exempt"},{value:"ltr_wealthy_pensioner",label:"LTR: Wealthy Pensioner",description:"Foreign income tax exempt"},{value:"ltr_work_from_thailand",label:"LTR: Work-from-Thailand Professional",description:"Foreign income tax exempt"},{value:"ltr_highly_skilled",label:"LTR: Highly Skilled Professional",description:"17% flat rate on Thai employment income"},{value:"thailand_privilege",label:"Thailand Privilege / Elite",description:"Standard tax treatment (no special benefits)"},{value:"other",label:"Other",description:"Standard tax treatment"}],yc=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(e.daysInThailand>0?e.daysInThailand.toString():""),[a,i]=b.useState(!1),o=parseInt(s,10)||0,u=o>=Qt.THAI_RESIDENCY_DAYS,p=o>=0&&o<=365;b.useEffect(()=>{p&&t({...e,daysInThailand:o,isThaiResident:u})},[o,u,p]);const f=c=>{const d=c.target.value;(d===""||/^\d+$/.test(d))&&l(d)},m=()=>{i(!0),o>365&&l("365")},g=c=>{t({...e,hasForeignIncome:c})},v=c=>{t({...e,visaType:c})},y=["ltr_wealthy_global","ltr_wealthy_pensioner","ltr_work_from_thailand"].includes(e.visaType),N=gc.find(c=>c.value===e.visaType),x=(a||n)&&(!p||o===0);return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tax Residency Status"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your tax residency determines how your income is taxed in Thailand."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"daysInThailand",className:"block text-sm font-medium text-gray-700 mb-2",children:"How many days did you spend in Thailand this tax year?"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"daysInThailand",type:"text",inputMode:"numeric",value:s,onChange:f,onBlur:m,placeholder:"e.g., 200",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${x?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,"aria-describedby":"days-help days-error"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"days"})]}),r.jsx("p",{id:"days-help",className:"mt-1 text-sm text-gray-500",children:"Enter the number of days from January 1 to December 31 (max 365)"}),x&&r.jsx("p",{id:"days-error",className:"mt-1 text-sm text-red-600",children:"Please enter a valid number of days (1-365)"})]}),o>0&&p&&r.jsx("div",{className:`p-4 rounded-lg border-2 mb-6 ${u?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${u?"bg-green-100":"bg-yellow-100"}`,children:u?r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold ${u?"text-green-800":"text-yellow-800"}`,children:u?"Thai Tax Resident":"Non-Resident"}),r.jsx("p",{className:`text-sm ${u?"text-green-700":"text-yellow-700"}`,children:u?`With ${o} days in Thailand, you are a tax resident (180+ days). Foreign income remitted to Thailand may be taxable.`:`With ${o} days in Thailand, you are a non-resident (less than 180 days). Only Thai-sourced income is taxable.`})]})]})}),u&&o>0&&r.jsxs("div",{className:"mb-6 animate-fadeIn",children:[r.jsx("label",{htmlFor:"visaType",className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of visa or residency status do you have?"}),r.jsx("select",{id:"visaType",value:e.visaType,onChange:c=>v(c.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:gc.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))}),N&&r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:N.description})]}),u&&y&&r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6 animate-fadeIn",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-purple-100",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-800",children:"LTR Tax Benefit Applied"}),r.jsxs("p",{className:"text-sm text-purple-700",children:["As an LTR visa holder (",N==null?void 0:N.label,"), your foreign income remitted to Thailand is ",r.jsx("strong",{children:"tax exempt"}),". You can still track foreign income for your records, but it will not be included in your taxable income calculation."]})]})]})}),u&&o>0&&!y&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-blue-700 mb-1",children:[r.jsx("strong",{children:"2024+ Rule:"})," As a Thai tax resident, foreign income earned on or after January 1, 2024, and remitted to Thailand is now taxable."]}),r.jsx("p",{className:"text-sm text-blue-600",children:"This includes income from overseas employment, investments, or business activities."})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-white rounded-lg border border-blue-100 hover:border-blue-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:e.hasForeignIncome,onChange:c=>g(c.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have foreign income that was remitted to Thailand"})]})]}),u&&y&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.hasForeignIncome,onChange:c=>g(c.target.checked),className:"w-5 h-5 rounded border-gray-300 text-gray-500 focus:ring-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"I want to track my foreign income (optional, for records only)"})]})}),!u&&o>0&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-gray-600",children:"As a non-resident, you only need to pay tax on income earned in Thailand. Foreign income is not taxable in Thailand for non-residents."})})]})},vc=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(null),[a,i]=b.useState({}),o=()=>({id:Yi(),amount:0,currency:"USD",amountThb:0,dateEarned:"",dateRemitted:null,foreignTaxPaid:0,description:"",country:""}),u=()=>{const x=o();t({...e,foreignIncomeEntries:[...e.foreignIncomeEntries,x]}),l(x.id)},p=x=>{t({...e,foreignIncomeEntries:e.foreignIncomeEntries.filter(d=>d.id!==x)});const c={...a};delete c[x],i(c)},f=(x,c,d)=>{t({...e,foreignIncomeEntries:e.foreignIncomeEntries.map(h=>h.id===x?{...h,[c]:d}:h)})},m=x=>{if(!x.dateEarned)return{taxable:!1,reason:"Date earned not specified"};const c=new Date(x.dateEarned),d=new Date(Qt.FOREIGN_INCOME_TAX_YEAR_START);return c<d?{taxable:!1,reason:"Earned before 2024 - not taxable under new rules"}:x.dateRemitted?{taxable:!0,reason:"Earned in 2024+ and remitted to Thailand"}:{taxable:!1,reason:"Not remitted to Thailand - not taxable"}},g=()=>{const x={};let c=!0;return e.foreignIncomeEntries.forEach(d=>{const h=[];d.amount<=0&&h.push("Amount must be greater than 0"),d.amountThb<=0&&h.push("THB amount must be greater than 0"),d.dateEarned||h.push("Date earned is required"),d.country.trim()||h.push("Country is required"),h.length>0&&(x[d.id]=h,c=!1)}),i(x),c},v=e.foreignIncomeEntries.reduce((x,c)=>x+c.amountThb,0),y=e.foreignIncomeEntries.reduce((x,c)=>x+(m(c).taxable?c.amountThb:0),0),N=e.foreignIncomeEntries.reduce((x,c)=>x+c.foreignTaxPaid,0);return b.useEffect(()=>{n&&e.hasForeignIncome&&e.foreignIncomeEntries.length>0&&g()},[n]),e.hasForeignIncome?r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Foreign Income Details"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add all foreign income that was remitted to Thailand during this tax year."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Foreign Income Tax Rules (2024+)"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Income earned on/after January 1, 2024 is taxable if remitted to Thailand"}),r.jsx("li",{children:"Foreign tax paid may be credited against Thai tax (limited to Thai tax rate)"}),r.jsx("li",{children:"Income earned before 2024 is not taxable even if remitted in 2024+"})]})]})]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.foreignIncomeEntries.map((x,c)=>{const d=m(x),h=a[x.id]||[],j=s===x.id;return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${h.length>0&&n?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${j?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:()=>l(j?null:x.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",c+1]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[x.country||"New Entry"," - ",x.currency," ",x.amount.toLocaleString()||"0"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["THB ",x.amountThb.toLocaleString(),d.taxable&&r.jsx("span",{className:"ml-2 text-green-600 font-medium",children:"Taxable"}),!d.taxable&&x.dateEarned&&r.jsx("span",{className:"ml-2 text-gray-400",children:"Not Taxable"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:S=>{S.stopPropagation(),p(x.id)},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove entry",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),j&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[h.length>0&&n&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:h.map((S,k)=>r.jsx("li",{children:S},k))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Income Source *"}),r.jsx("input",{type:"text",value:x.country,onChange:S=>f(x.id,"country",S.target.value),placeholder:"e.g., United States",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("select",{value:x.currency,onChange:S=>f(x.id,"currency",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:zf.map(S=>r.jsxs("option",{value:S.code,children:[S.code," - ",S.name]},S.code))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),r.jsx("input",{type:"number",value:x.amount||"",onChange:S=>f(x.id,"amount",parseFloat(S.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount in Thai Baht (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:x.amountThb||"",onChange:S=>f(x.id,"amountThb",parseFloat(S.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use the exchange rate on the date the income was received"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Earned *"}),r.jsx("input",{type:"date",value:x.dateEarned,onChange:S=>f(x.id,"dateEarned",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Remitted to Thailand"}),r.jsx("input",{type:"date",value:x.dateRemitted||"",onChange:S=>f(x.id,"dateRemitted",S.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foreign Tax Already Paid (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:x.foreignTaxPaid||"",onChange:S=>f(x.id,"foreignTaxPaid",parseFloat(S.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tax paid in the source country (may be used as a foreign tax credit)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("input",{type:"text",value:x.description,onChange:S=>f(x.id,"description",S.target.value),placeholder:"e.g., Freelance project payment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:`p-3 rounded-lg ${d.taxable?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[r.jsx("p",{className:`text-sm font-medium ${d.taxable?"text-green-700":"text-gray-600"}`,children:d.taxable?"This income is taxable in Thailand":"Not taxable"}),r.jsx("p",{className:`text-xs ${d.taxable?"text-green-600":"text-gray-500"}`,children:d.reason})]})]})]},x.id)})}),r.jsxs("button",{onClick:u,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Foreign Income Entry"]}),e.foreignIncomeEntries.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Foreign Income"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[v.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Taxable Amount"}),r.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[y.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Foreign Tax Paid"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[N.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Number of Entries"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e.foreignIncomeEntries.length})]})]})]})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Foreign Income"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),r.jsx("p",{className:"text-gray-600",children:"You indicated that you don't have foreign income remitted to Thailand."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click Next to proceed to the next step."})]})]})},fx=({entry:e,index:t,isExpanded:n,onToggle:s,onUpdate:l,onRemove:a,errors:i=[],showValidationErrors:o=!1})=>{var N;const[u,p]=b.useState({}),f=en[e.incomeType],m=Df(),g=x=>{p(c=>({...c,[x]:!0}))},v=o||Object.values(u).some(Boolean),y=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}];return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${i.length>0&&v?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${n?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:s,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[(f==null?void 0:f.shortLabel)||"New Income Source",e.payerName&&` - ${e.payerName}`]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsxs("span",{children:["",e.grossAmount.toLocaleString()]}),e.withholdingAmount>0&&r.jsxs("span",{className:"text-green-600",children:["WHT: ",e.withholdingAmount.toLocaleString()]}),e.monthReceived>0&&r.jsx("span",{children:(N=y.find(x=>x.value===e.monthReceived))==null?void 0:N.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:x=>{x.stopPropagation(),a()},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove entry",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[i.length>0&&v&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:i.map((x,c)=>r.jsx("li",{children:x},c))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Income Type *"}),r.jsx("select",{value:e.incomeType,onChange:x=>l("incomeType",x.target.value),onBlur:()=>g("incomeType"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:m.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))}),f&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.description})]}),f&&r.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Flat Rate Deduction:"})," ",(f.flatRate*100).toFixed(0),"%",f.flatRateCap&&` (capped at ${f.flatRateCap.toLocaleString()})`]}),f.notes&&r.jsx("p",{className:"text-blue-600 mt-1",children:f.notes})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Amount (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.grossAmount||"",onChange:x=>l("grossAmount",parseFloat(x.target.value)||0),onBlur:()=>g("grossAmount"),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total income before any deductions or withholding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withholding Tax Deducted (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.withholdingAmount||"",onChange:x=>l("withholdingAmount",parseFloat(x.target.value)||0),onBlur:()=>g("withholdingAmount"),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tax already withheld by the payer (shown on withholding certificate)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month Received *"}),r.jsxs("select",{value:e.monthReceived,onChange:x=>l("monthReceived",parseInt(x.target.value,10)),onBlur:()=>g("monthReceived"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:0,children:"Select month..."}),y.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for PND94 mid-year filing requirement (Jan-Jun income)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payer/Client Name"}),r.jsx("input",{type:"text",value:e.payerName,onChange:x=>l("payerName",x.target.value),onBlur:()=>g("payerName"),placeholder:"e.g., ABC Company Ltd.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("input",{type:"text",value:e.description,onChange:x=>l("description",x.target.value),onBlur:()=>g("description"),placeholder:"e.g., Consulting project, Software development",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.grossAmount>0&&f&&f.flatRate>0&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"Flat Rate Deduction Preview:"})," ","",Math.min(e.grossAmount*f.flatRate,f.flatRateCap||1/0).toLocaleString()," ","(",(f.flatRate*100).toFixed(0),"% of ",e.grossAmount.toLocaleString(),")"]})})]})]})},bc=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(null),[a,i]=b.useState({}),o=()=>({id:Yi(),grossAmount:0,incomeType:"business_sales_40_8",withholdingAmount:0,monthReceived:0,payerName:"",description:""}),u=()=>{const x=o();t({...e,thaiIncomeEntries:[...e.thaiIncomeEntries,x]}),l(x.id)},p=x=>{t({...e,thaiIncomeEntries:e.thaiIncomeEntries.filter(d=>d.id!==x)});const c={...a};delete c[x],i(c)},f=(x,c,d)=>{t({...e,thaiIncomeEntries:e.thaiIncomeEntries.map(h=>h.id===x?{...h,[c]:d}:h)})},m=()=>{const x={};let c=!0;return e.thaiIncomeEntries.length===0?!1:(e.thaiIncomeEntries.forEach(d=>{const h=[];d.grossAmount<=0&&h.push("Gross amount must be greater than 0"),d.monthReceived===0&&h.push("Month received is required"),d.withholdingAmount<0&&h.push("Withholding amount cannot be negative"),d.withholdingAmount>d.grossAmount&&h.push("Withholding cannot exceed gross amount"),h.length>0&&(x[d.id]=h,c=!1)}),i(x),c)},g=e.thaiIncomeEntries.reduce((x,c)=>x+c.grossAmount,0),v=e.thaiIncomeEntries.reduce((x,c)=>x+c.withholdingAmount,0),y=e.thaiIncomeEntries.filter(x=>x.monthReceived>=1&&x.monthReceived<=6).filter(x=>$f(x.incomeType)).reduce((x,c)=>x+c.grossAmount,0),N=e.thaiIncomeEntries.reduce((x,c)=>{const d=c.incomeType;return x[d]||(x[d]={total:0,withholding:0,count:0}),x[d].total+=c.grossAmount,x[d].withholding+=c.withholdingAmount,x[d].count+=1,x},{});return b.useEffect(()=>{n&&(e.thaiIncomeEntries.length===0?e.hasForeignIncome&&e.foreignIncomeEntries.length>0||i({_general:["Please add at least one income source"]}):m())},[n]),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thai Income Sources"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add all your income sources from Thailand for this tax year."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Track Each Income Source Separately"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Different income types have different flat-rate deduction percentages"}),r.jsx("li",{children:"Recording the month received helps calculate PND94 obligations"}),r.jsx("li",{children:"Withholding tax will be credited against your final tax liability"})]})]})]})}),a._general&&n&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-red-600",children:a._general[0]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.thaiIncomeEntries.map((x,c)=>r.jsx(fx,{entry:x,index:c,isExpanded:s===x.id,onToggle:()=>l(s===x.id?null:x.id),onUpdate:(d,h)=>f(x.id,d,h),onRemove:()=>p(x.id),errors:a[x.id],showValidationErrors:n},x.id))}),r.jsxs("button",{onClick:u,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Income Source"]}),e.thaiIncomeEntries.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Income Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Gross Income"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",g.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Withholding"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["",v.toLocaleString()]})]})]}),Object.keys(N).length>0&&r.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"By Income Type"}),r.jsx("div",{className:"space-y-2",children:Object.entries(N).map(([x,c])=>{const d=en[x];return r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600",children:(d==null?void 0:d.shortLabel)||x}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",c.count," ",c.count===1?"entry":"entries",")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"font-medium text-gray-800",children:["",c.total.toLocaleString()]}),r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",((d==null?void 0:d.flatRate)*100||0).toFixed(0),"% deduction)"]})]})]},x)})})]}),y>0&&r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-amber-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"text-amber-700 font-medium",children:["Jan-Jun Income: ",y.toLocaleString()]}),r.jsx("p",{className:"text-amber-600 text-xs",children:"This may trigger PND94 mid-year filing requirement (threshold: 60,000 single / 120,000 married)"})]})]})})]}),e.thaiIncomeEntries.length===0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No Thai income sources added yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:'Click "Add Income Source" above to add your freelance or business income'})]})]})},Nc=({formData:e,setFormData:t})=>{const n=hl(e.thaiIncomeEntries),s=[{value:"auto_compare",title:"Auto Compare (Recommended)",description:"We'll calculate both methods and automatically use whichever gives you the higher deduction (lower tax).",recommended:!0,icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{value:"force_flat",title:"Flat-Rate Deduction Only",description:"Use the standard percentage-based deduction. No receipts needed - simpler but may result in lower deductions.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},{value:"force_actual",title:"Actual Expenses Only",description:"Deduct your actual documented business expenses. Requires receipts but may result in higher deductions.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],l=a=>{t({...e,expenseMethod:a})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Expense Deduction Method"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to calculate your business expense deductions."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Thai Tax Law Allows Two Methods"}),r.jsx("p",{className:"text-blue-600",children:"You can choose between flat-rate deductions (percentage of income) or actual expenses. For most freelancers, the flat-rate method is simpler and often provides a good deduction."})]})]})}),n.breakdown.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Your Flat-Rate Deduction Preview"}),r.jsx("div",{className:"space-y-2 mb-3",children:n.breakdown.map(a=>{const i=en[a.incomeType];return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600",children:(i==null?void 0:i.shortLabel)||a.incomeType}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",(a.rate*100).toFixed(0),"% of ",a.grossAmount.toLocaleString(),")"]})]}),r.jsxs("span",{className:"font-medium text-gray-800",children:["",a.deduction.toLocaleString()]})]},a.incomeType)})}),r.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Total Flat-Rate Deduction"}),r.jsxs("span",{className:"font-semibold text-green-600 text-lg",children:["",n.total.toLocaleString()]})]})]}),r.jsx("div",{className:"space-y-3 mb-6",children:s.map(a=>r.jsx("button",{onClick:()=>l(a.value),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${e.expenseMethod===a.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${e.expenseMethod===a.value?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"}`,children:a.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:`font-semibold ${e.expenseMethod===a.value?"text-blue-700":"text-gray-800"}`,children:a.title}),a.recommended&&r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Recommended"})]}),r.jsx("p",{className:`text-sm mt-1 ${e.expenseMethod===a.value?"text-blue-600":"text-gray-500"}`,children:a.description})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${e.expenseMethod===a.value?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:e.expenseMethod===a.value&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})},a.value))}),e.expenseMethod==="force_actual"&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-amber-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-amber-700 font-medium",children:"Documentation Required"}),r.jsx("p",{className:"text-amber-600 mt-1",children:"Using actual expenses requires keeping receipts and invoices. You'll need to enter your expense details in the next step."})]})]})}),e.expenseMethod==="auto_compare"&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-green-700 font-medium",children:"Best of Both Worlds"}),r.jsx("p",{className:"text-green-600 mt-1",children:"We'll ask for your actual expenses in the next step, then compare both methods to find the one that saves you the most tax."})]})]})})]})},jc=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(null),[a,i]=b.useState({}),o=()=>({id:Yi(),category:"other",amount:0,hasReceipt:!0,description:""}),u=()=>{const x=o();t({...e,actualExpenses:[...e.actualExpenses,x]}),l(x.id)},p=x=>{t({...e,actualExpenses:e.actualExpenses.filter(d=>d.id!==x)});const c={...a};delete c[x],i(c)},f=(x,c,d)=>{t({...e,actualExpenses:e.actualExpenses.map(h=>h.id===x?{...h,[c]:d}:h)})},m=()=>{const x={};let c=!0;return e.actualExpenses.forEach(d=>{const h=[];d.amount<=0&&h.push("Amount must be greater than 0"),d.description.trim()||h.push("Description is required"),h.length>0&&(x[d.id]=h,c=!1)}),i(x),c},g=lm(e.actualExpenses),v=hl(e.thaiIncomeEntries),y=Vi(e.thaiIncomeEntries,e.actualExpenses),N=Object.entries(Yl).map(([x,c])=>({value:x,label:c}));return b.useEffect(()=>{n&&e.expenseMethod!=="force_flat"&&e.actualExpenses.length>0&&m()},[n]),e.expenseMethod==="force_flat"?r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Expense Tracking"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"You selected the flat-rate deduction method"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Your deduction of ",r.jsxs("span",{className:"font-semibold text-green-600",children:["",v.total.toLocaleString()]})," will be calculated automatically based on your income types."]})]})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Actual Business Expenses"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Enter your actual business expenses for the tax year.",e.expenseMethod==="auto_compare"&&" We'll compare with the flat-rate deduction."]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Deductible Business Expenses"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Only expenses directly related to generating income are deductible"}),r.jsx("li",{children:"Keep receipts and documentation for at least 5 years"}),r.jsx("li",{children:"Personal expenses are not deductible"})]})]})]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.actualExpenses.map((x,c)=>{const d=a[x.id]||[],h=s===x.id;return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${d.length>0&&n?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${h?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:()=>l(h?null:x.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-medium",children:c+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:Yl[x.category]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsxs("span",{children:["",x.amount.toLocaleString()]}),x.hasReceipt&&r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Receipt"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),p(x.id)},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove expense",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[d.length>0&&n&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:d.map((j,S)=>r.jsx("li",{children:j},S))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("select",{value:x.category,onChange:j=>f(x.id,"category",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:N.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:x.amount||"",onChange:j=>f(x.id,"amount",parseFloat(j.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("input",{type:"text",value:x.description,onChange:j=>f(x.id,"description",j.target.value),placeholder:"e.g., Laptop for work, Office rent payment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg",children:[r.jsx("input",{type:"checkbox",checked:x.hasReceipt,onChange:j=>f(x.id,"hasReceipt",j.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"I have a receipt/invoice"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Documentation is required if using actual expense method"})]})]})]})]},x.id)})}),r.jsxs("button",{onClick:u,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-purple-500 hover:text-purple-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Expense"]}),e.expenseMethod==="auto_compare"&&e.actualExpenses.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Deduction Comparison"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:`p-3 rounded-lg ${y.recommended==="flat"?"bg-green-100 border-2 border-green-300":"bg-white border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Flat-Rate"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",y.flatRateDeduction.toLocaleString()]}),y.recommended==="flat"&&r.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Recommended"})]}),r.jsxs("div",{className:`p-3 rounded-lg ${y.recommended==="actual"?"bg-green-100 border-2 border-green-300":"bg-white border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Actual Expenses"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",y.actualDeduction.toLocaleString()]}),y.recommended==="actual"&&r.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Recommended"})]})]}),r.jsxs("div",{className:`p-3 rounded-lg ${y.recommended==="flat"?"bg-green-50 border border-green-200":"bg-blue-50 border border-blue-200"}`,children:[r.jsx("p",{className:`text-sm ${y.recommended==="flat"?"text-green-700":"text-blue-700"}`,children:y.recommended==="flat"?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Flat-rate is better."})," It gives you a higher deduction by ",(y.flatRateDeduction-y.actualDeduction).toLocaleString(),"."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Actual expenses are better."})," They give you a higher deduction by ",(y.actualDeduction-y.flatRateDeduction).toLocaleString(),"."]})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Estimated tax savings: ~",y.taxSavings.toLocaleString()]})]})]}),e.expenseMethod==="force_actual"&&e.actualExpenses.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Expense Summary"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total Actual Expenses"}),r.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["",g.total.toLocaleString()]})]}),g.breakdown.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-1",children:g.breakdown.map(x=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:Yl[x.category]}),r.jsxs("span",{className:"text-gray-700",children:["",x.amount.toLocaleString()]})]},x.category))})]}),e.actualExpenses.length===0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No expenses added yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:e.expenseMethod==="auto_compare"?"Add your expenses to compare with the flat-rate deduction, or click Next to use flat-rate only.":'Click "Add Expense" to enter your business expenses.'})]})]})},wc=({formData:e,goToStep:t,nextStep:n})=>{const s=c=>`${c.toLocaleString()}`,l=rx(e.daysInThailand),a=im(e.thaiIncomeEntries),i=am(e.thaiIncomeEntries),o=e.foreignIncomeEntries.reduce((c,d)=>c+d.amountThb,0),u=hl(e.thaiIncomeEntries),p=e.actualExpenses.reduce((c,d)=>c+d.amount,0),f=()=>e.maritalStatus==="single"?"Single":e.maritalStatus==="married"?e.spouseHasNoIncome?"Married (spouse has no income)":"Married (spouse has income)":"Not specified",m=()=>{switch(e.expenseMethod){case"auto_compare":return"Auto Compare (Best of Both)";case"force_flat":return"Flat-Rate Only";case"force_actual":return"Actual Expenses Only";default:return"Not specified"}},g=()=>{const c=[];if(e.hasLifeInsurance&&e.lifeInsurance>0&&c.push({label:"Life Insurance",amount:Math.min(e.lifeInsurance,E.MAX_LIFE_INSURANCE)}),e.hasHealthInsurance&&e.healthInsurance>0&&c.push({label:"Health Insurance",amount:Math.min(e.healthInsurance,E.MAX_HEALTH_INSURANCE)}),e.hasPensionFund&&e.pensionFund>0&&c.push({label:"Pension Fund",amount:Math.min(e.pensionFund,E.MAX_PENSION_FUND)}),e.hasProvidentFund&&e.providentFund>0&&c.push({label:"Provident Fund",amount:Math.min(e.providentFund,E.MAX_PROVIDENT_FUND)}),e.hasRMF&&e.rmf>0&&c.push({label:"RMF",amount:Math.min(e.rmf,E.MAX_RMF)}),e.hasSSF&&e.ssf>0&&c.push({label:"SSF",amount:Math.min(e.ssf,E.MAX_SSF)}),e.hasDonations&&e.donations>0){const d=(a+o)*E.MAX_DONATION_PERCENT;c.push({label:"Donations",amount:Math.min(e.donations,d)})}return c},v=E.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?E.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?E.SENIOR_ALLOWANCE:0)+Gt(e.children)+e.numberOfParents*E.PARENT_ALLOWANCE,y=g(),N=y.reduce((c,d)=>c+d.amount,0),x={EMPLOYMENT:0,RESIDENCY:1,FOREIGN_INCOME:2,THAI_INCOME:3,EXPENSE_METHOD:4,MARITAL:6,DEPENDENTS:7,DEDUCTIONS:8,WITHHOLDING:9};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Review Your Information"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Please verify your information before calculating your tax."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Employment Type"}),r.jsx("p",{className:"text-gray-800 mt-1",children:"Self-Employed / Freelancer"})]}),r.jsx("button",{onClick:()=>t(x.EMPLOYMENT),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Tax Residency"}),r.jsx("p",{className:"text-gray-800 mt-1",children:l.status}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.daysInThailand," days in Thailand"]})]}),r.jsx("button",{onClick:()=>t(x.RESIDENCY),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),e.hasForeignIncome&&e.foreignIncomeEntries.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Foreign Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(o)}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.foreignIncomeEntries.length," ",e.foreignIncomeEntries.length===1?"entry":"entries"]})]}),r.jsx("button",{onClick:()=>t(x.FOREIGN_INCOME),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Thai Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(a)}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.thaiIncomeEntries.length," ",e.thaiIncomeEntries.length===1?"source":"sources"," | Withholding: ",s(i)]}),e.thaiIncomeEntries.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:Object.entries(e.thaiIncomeEntries.reduce((c,d)=>{const h=d.incomeType;return c[h]=(c[h]||0)+d.grossAmount,c},{})).map(([c,d])=>{var h;return r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:((h=en[c])==null?void 0:h.shortLabel)||c}),r.jsx("span",{children:s(d)})]},c)})})]}),r.jsx("button",{onClick:()=>t(x.THAI_INCOME),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Expense Deduction Method"}),r.jsx("p",{className:"text-gray-800 mt-1",children:m()}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Flat-rate deduction:"}),r.jsx("span",{children:s(u.total)})]}),e.expenseMethod!=="force_flat"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Actual expenses:"}),r.jsx("span",{children:s(p)})]})]})]}),r.jsx("button",{onClick:()=>t(x.EXPENSE_METHOD),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Marital Status"}),r.jsx("p",{className:"text-gray-800 mt-1",children:f()})]}),r.jsx("button",{onClick:()=>t(x.MARITAL),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Dependents & Allowances"}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal allowance:"}),r.jsx("span",{children:s(E.PERSONAL_ALLOWANCE)})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse allowance:"}),r.jsx("span",{children:s(E.SPOUSE_ALLOWANCE)})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior allowance (65+):"}),r.jsx("span",{children:s(E.SENIOR_ALLOWANCE)})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Children (",e.children.length,"):"]}),r.jsx("span",{children:s(Gt(e.children))})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Parents (",e.numberOfParents,"):"]}),r.jsx("span",{children:s(e.numberOfParents*E.PARENT_ALLOWANCE)})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total allowances:"}),r.jsx("span",{className:"text-green-600",children:s(v)})]})]})]}),r.jsx("button",{onClick:()=>t(x.DEPENDENTS),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Deductions"}),y.length>0?r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[y.map(c=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[c.label,":"]}),r.jsx("span",{children:s(c.amount)})]},c.label)),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total deductions:"}),r.jsx("span",{className:"text-green-600",children:s(N)})]})]}):r.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"No deductions claimed"})]}),r.jsx("button",{onClick:()=>t(x.DEDUCTIONS),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),e.taxWithheld>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Tax Withheld"}),r.jsx("p",{className:"text-gray-800 mt-1 font-semibold",children:s(e.taxWithheld)}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"(Beyond income entry withholdings)"})]}),r.jsx("button",{onClick:()=>t(x.WITHHOLDING),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-700 text-sm",children:"Total Tax Already Withheld"}),r.jsx("p",{className:"text-blue-800 text-lg font-semibold",children:s(i+e.taxWithheld)})]})})})]}),r.jsx("button",{onClick:()=>n(),className:"w-full mt-8 py-4 bg-green-500 text-white rounded-lg font-semibold text-lg hover:bg-green-600 transition-colors",children:"Calculate My Tax"})]})},xx=({result:e})=>e.required?r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"PND94 Mid-Year Filing Required"}),r.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your Jan-Jun qualifying income (",r.jsxs("span",{className:"font-medium",children:["",e.halfYearIncome.toLocaleString()]}),") exceeds ",e.threshold.toLocaleString(),"."]}),r.jsxs("div",{className:"mt-3 bg-white/50 rounded p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-amber-700",children:"Estimated Provisional Tax:"}),r.jsxs("span",{className:"font-medium text-amber-900",children:["",e.provisionalTax.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-amber-700",children:"Filing Deadline:"}),r.jsx("span",{className:"font-medium text-amber-900",children:e.dueDate})]})]}),r.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"PND94 requires filing for income types under Sections 40(5)-(8) of the Revenue Code, including rental, freelance, contractor, and business income."})]})]})}):r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"PND94 Not Required"}),r.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your Jan-Jun qualifying income (",r.jsxs("span",{className:"font-medium",children:["",e.halfYearIncome.toLocaleString()]}),") does not exceed the threshold of ",e.threshold.toLocaleString(),"."]})]})]})}),gx=({result:e})=>e.required?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-red-800",children:"VAT Registration Required"}),r.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Your annual turnover (",r.jsxs("span",{className:"font-medium",children:["",e.turnover.toLocaleString()]}),") exceeds the ",e.threshold.toLocaleString()," threshold."]}),r.jsx("div",{className:"mt-3 bg-white/50 rounded p-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-800",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("span",{children:["You must register within"," ",r.jsxs("span",{className:"font-medium",children:[e.mustRegisterWithinDays," days"]})," ","of exceeding the threshold"]})]})}),r.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Once registered, you must charge 7% VAT on all qualifying sales and file VAT returns monthly (PP.30)."})]})]})}):r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"VAT Registration Not Required"}),r.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your annual turnover (",r.jsxs("span",{className:"font-medium",children:["",e.turnover.toLocaleString()]}),") is below the ",e.threshold.toLocaleString()," threshold."]})]})]})}),yx=({result:e,showAll:t=!1})=>{const{pnd94:n,vat:s,hasAnyObligation:l}=e;return!l&&!t?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"No Additional Tax Obligations"}),r.jsx("p",{className:"text-sm text-green-700",children:"Based on your income, you don't have PND94 or VAT registration requirements."})]})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tax Obligations"}),l&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Important:"})," Based on your income, you have the following tax obligations to fulfill."]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(xx,{result:n}),r.jsx(gx,{result:s})]}),l&&r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Disclaimer:"})," This is an estimate based on the information provided. Consult with a tax professional for accurate assessment of your obligations."]})})]})},vx=({result:e})=>{const{pnd94:t,vat:n,hasAnyObligation:s,urgentItems:l}=e;return s?r.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Obligations"}),r.jsxs("ul",{className:"space-y-2",children:[t.required&&r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:["PND94 filing required - Est. tax:"," ",r.jsxs("span",{className:"font-medium",children:["",t.provisionalTax.toLocaleString()]})," ","by ",t.dueDate]})]}),n.required&&r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:["VAT registration required (turnover: ",n.turnover.toLocaleString(),")"]})]})]}),l.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Action items: ",l.join(", ")]})]}):null},Sc=({formData:e,onStartOver:t})=>{const[n,s]=b.useState(!1),[l,a]=b.useState(!1),i=px(e),o=ix(e),u=i.withholdingCredits+i.foreignTaxCredits,p=u-i.grossTaxBeforeCredits,f=p>0,m=f?"Tax Refund":"Additional Tax Owed",g=f?"text-green-600":"text-red-600",v=f?"bg-green-50 border-green-200":"bg-red-50 border-red-200",N=(()=>{const c=[];let d=i.taxableIncome,h=0;for(const j of jn){if(d<=0)break;const S=j.upTo-h,k=Math.min(d,S),R=k*j.rate;k>0&&c.push({label:j.label,rate:j.rate*100,taxableAmount:k,tax:R}),d-=k,h=j.upTo}return c})(),x=()=>{var c;switch(i.expenseMethod){case"auto_compare":return((c=i.expenseComparison)==null?void 0:c.recommended)==="actual"?"Actual Expenses (Auto-selected)":"Flat-Rate (Auto-selected)";case"force_flat":return"Flat-Rate Deduction";case"force_actual":return"Actual Expenses";default:return"Expense Deduction"}};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Your Tax Calculation Results"}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Based on your freelance/self-employment income"}),i.ltrBenefitApplied&&r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-purple-100",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-800",children:"LTR Visa Tax Benefits Applied"}),r.jsxs("ul",{className:"text-sm text-purple-700 mt-1 space-y-1",children:[i.ltrForeignIncomeExempt&&r.jsx("li",{children:" Foreign income is tax exempt under your LTR visa status"}),i.ltrFlatRateTax!==void 0&&i.ltrFlatRateTax>0&&r.jsxs("li",{children:[" 17% flat tax rate applied to employment income (",M(i.ltrFlatRateTax)," tax)"]})]})]})]})}),r.jsxs("div",{className:`${v} border-2 rounded-xl p-6 mb-6 text-center`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:m}),r.jsx("p",{className:`text-4xl font-bold ${g}`,children:M(Math.abs(p))}),f?r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"You've overpaid your taxes and may claim a refund"}):p<0?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"You owe additional tax beyond what was withheld"}):r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Your withholding matches your tax liability"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Gross Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(i.grossIncome)}),i.foreignIncomeTotal>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Thai: ",M(i.thaiIncomeTotal)," + Foreign: ",M(i.taxableForeignIncome)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Expense Deduction"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(i.expenseDeduction)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x()})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Allowances"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(i.totalAllowances)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Taxable Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(i.taxableIncome)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Owed"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(i.grossTaxBeforeCredits)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Credits"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(u)}),i.foreignTaxCredits>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Incl. foreign tax credit: ",M(i.foreignTaxCredits)]})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Effective Tax Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:dm(i.effectiveRate)})]}),i.expenseComparison&&r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Expense Comparison Result"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:`p-3 rounded ${i.expenseComparison.recommended==="flat"?"bg-purple-100":"bg-white"}`,children:[r.jsx("p",{className:"text-gray-600",children:"Flat-Rate"}),r.jsx("p",{className:"font-semibold text-purple-800",children:M(i.expenseComparison.flatRateDeduction)}),i.expenseComparison.recommended==="flat"&&r.jsx("span",{className:"text-xs text-purple-600",children:" Selected"})]}),r.jsxs("div",{className:`p-3 rounded ${i.expenseComparison.recommended==="actual"?"bg-purple-100":"bg-white"}`,children:[r.jsx("p",{className:"text-gray-600",children:"Actual Expenses"}),r.jsx("p",{className:"font-semibold text-purple-800",children:M(i.expenseComparison.actualDeduction)}),i.expenseComparison.recommended==="actual"&&r.jsx("span",{className:"text-xs text-purple-600",children:" Selected"})]})]}),r.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Tax savings from optimal choice: ~",M(i.expenseComparison.taxSavings)]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>a(!l),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":l,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Tax Obligations"}),o.hasAnyObligation&&r.jsx("span",{className:"bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full",children:"Action Required"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx(yx,{result:o,showAll:!0})}),!l&&o.hasAnyObligation&&r.jsx("div",{className:"px-4 pb-4",children:r.jsx(vx,{result:o})})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>s(!n),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":n,children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Detailed Breakdown"}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 animate-fadeIn",children:[i.incomeByType.size>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Income by Type"}),r.jsx("div",{className:"text-sm space-y-1",children:Array.from(i.incomeByType.entries()).map(([c,d])=>{var h;return r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:((h=en[c])==null?void 0:h.shortLabel)||c}),r.jsx("span",{children:M(d)})]},c)})})]}),i.foreignIncomeTaxability.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Foreign Income Analysis"}),i.ltrForeignIncomeExempt&&r.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded p-2 mb-2",children:r.jsxs("p",{className:"text-xs text-purple-700",children:[r.jsx("strong",{children:"LTR Visa Exemption:"})," All foreign income is tax exempt under your visa status."]})}),r.jsx("div",{className:"text-sm space-y-2",children:i.foreignIncomeTaxability.map((c,d)=>r.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[c.entry.country," - ",c.entry.description||"Foreign Income"]}),r.jsx("span",{className:c.isTaxable?"text-red-600":"text-green-600",children:c.isTaxable?"Taxable":"Exempt"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.reason}),c.isTaxable&&r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Taxable amount: ",M(c.taxableAmount),c.foreignTaxCredit>0&&` | Credit: ${M(c.foreignTaxCredit)}`]})]},d))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tax Calculation"}),r.jsxs("div",{className:"text-sm space-y-1",children:[i.ltrFlatRateTax!==void 0&&i.ltrFlatRateTax>0&&r.jsxs("div",{className:"flex justify-between text-purple-700 bg-purple-50 p-2 rounded mb-2",children:[r.jsx("span",{children:"Employment Income (LTR 17% flat rate)"}),r.jsx("span",{children:M(i.ltrFlatRateTax)})]}),N.length>0&&r.jsxs(r.Fragment,{children:[i.ltrFlatRateTax!==void 0&&i.ltrFlatRateTax>0&&r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Other income (progressive rates):"}),N.map(c=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[c.label," (",c.rate,"%)"]}),r.jsx("span",{children:M(c.tax)})]},c.label))]}),r.jsxs("div",{className:"flex justify-between font-medium border-t border-gray-200 pt-1 mt-2",children:[r.jsx("span",{children:"Total Tax"}),r.jsx("span",{children:M(i.grossTaxBeforeCredits)})]})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Important Disclaimer"}),r.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["This calculator provides an estimate for freelance/self-employment income. Tax laws for business income are complex and your actual tax liability may differ. Please consult with a qualified tax professional or the"," ",r.jsx("a",{href:"https://www.rd.go.th",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-900",children:"Thai Revenue Department"})," ","for official guidance."]}),i.expenseMethod!=="force_flat"&&r.jsxs("p",{className:"text-sm text-yellow-700 mt-2",children:[r.jsx("strong",{children:"Note:"})," If using actual expenses, you must keep proper documentation (receipts, invoices) to support your deductions."]})]})]})}),r.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Start Over"})]})},bx=[{value:"unregistered",label:"Not Registered",description:"Operating without formal business registration"},{value:"sole_proprietorship",label:"Registered Sole Proprietorship",description:"Registered with DBD as a sole proprietorship"},{value:"partnership",label:"Ordinary Partnership",description:"Unincorporated partnership ()"},{value:"other",label:"Other",description:"Other business structure"}],Nx=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState({businessName:!1,businessCategory:!1,registrationType:!1,yearsInOperation:!1}),a=e.businessProfile||nm(),[i,o]=b.useState(a.yearsInOperation>0?a.yearsInOperation.toString():""),u=y=>{t({...e,businessProfile:{...a,...y}})};b.useEffect(()=>{const y=parseInt(i,10)||0;y!==a.yearsInOperation&&u({yearsInOperation:y})},[i]);const p=y=>{const N=y.target.value;(N===""||/^\d+$/.test(N))&&o(N)},f=y=>{u({businessCategory:y}),l({...s,businessCategory:!0})},m=y=>{u({registrationType:y}),l({...s,registrationType:!0})},g=(s.businessName||n)&&a.businessName.trim().length===0,v=(s.businessCategory||n)&&!a.businessCategory;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Business Profile"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your business to determine the applicable tax deductions."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),r.jsx("input",{id:"businessName",type:"text",value:a.businessName,onChange:y=>u({businessName:y.target.value}),onBlur:()=>l({...s,businessName:!0}),placeholder:"e.g., My Consulting Services",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${g?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,"aria-describedby":"name-error"}),g&&r.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-600",children:"Please enter your business name"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Category"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select the category that best describes your business activities. This determines your flat-rate expense deduction."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Yf).map(([y,N])=>r.jsxs("button",{type:"button",onClick:()=>f(y),className:`p-3 border-2 rounded-lg text-left transition-all ${a.businessCategory===y?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"font-medium text-gray-800",children:N}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Vf[y]})]},y))}),v&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please select a business category"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration"}),r.jsx("div",{className:"space-y-2",children:bx.map(y=>r.jsxs("button",{type:"button",onClick:()=>m(y.value),className:`w-full p-3 border-2 rounded-lg text-left transition-all ${a.registrationType===y.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"font-medium text-gray-800",children:y.label}),r.jsx("div",{className:"text-xs text-gray-500",children:y.description})]},y.value))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"yearsInOperation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Operation (optional)"}),r.jsxs("div",{className:"relative max-w-xs",children:[r.jsx("input",{id:"yearsInOperation",type:"text",inputMode:"numeric",value:i,onChange:p,onBlur:()=>l({...s,yearsInOperation:!0}),placeholder:"e.g., 3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"years"})]})]}),r.jsxs("div",{className:"mb-6 space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:a.hasPhysicalLocation,onChange:y=>u({hasPhysicalLocation:y.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"Physical business location"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Do you have a shop, office, or other physical business premises?"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:e.hasInventory,onChange:y=>t({...e,hasInventory:y.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"Hold inventory"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Do you purchase and hold goods for resale?"})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Flat-rate vs. Actual Expenses"}),r.jsx("p",{children:"Based on your business category, you may be eligible for flat-rate expense deductions. We'll compare this with your actual expenses in the next steps to find the best option for you."})]})]})})]})},jx=[{value:"limited_company",label:"Private Limited Company",description:"Thai limited company ()"},{value:"public_company",label:"Public Limited Company",description:"Listed or public company ()"},{value:"partnership_limited",label:"Limited Partnership",description:"Limited partnership ()"},{value:"other",label:"Other",description:"Other corporate structure"}],wx=[{value:"thai_listed",label:"Thai Listed Company",description:"Dividends from SET-listed companies"},{value:"thai_unlisted",label:"Thai Unlisted Company",description:"Dividends from private Thai companies"},{value:"foreign",label:"Foreign Company",description:"Dividends from non-Thai companies"}],fe=e=>e.toLocaleString("en-US"),rs=e=>{const t=e.replace(/,/g,"").replace(/[^\d.]/g,"");return parseFloat(t)||0},Sx=({formData:e,setFormData:t,showValidationErrors:n})=>{var I;const[s,l]=b.useState({companyName:!1,companyType:!1,salaryFromCompany:!1,ownership:!1}),[a,i]=b.useState(e.salaryFromCompany>0?fe(e.salaryFromCompany):""),[o,u]=b.useState(e.directorFees>0?fe(e.directorFees):""),[p,f]=b.useState(e.otherCompanyBenefits>0?fe(e.otherCompanyBenefits):""),[m,g]=b.useState(((I=e.companyInfo)==null?void 0:I.ownershipPercentage)>0?e.companyInfo.ownershipPercentage.toString():"100"),[v,y]=b.useState(e.companyProfitAfterTax>0?fe(e.companyProfitAfterTax):""),N=e.companyInfo||rm(),x=T=>{t({...e,companyInfo:{...N,...T}})};b.useEffect(()=>{const T=rs(a);T!==e.salaryFromCompany&&t({...e,salaryFromCompany:T})},[a]),b.useEffect(()=>{const T=rs(o);T!==e.directorFees&&t({...e,directorFees:T})},[o]),b.useEffect(()=>{const T=rs(p);T!==e.otherCompanyBenefits&&t({...e,otherCompanyBenefits:T})},[p]),b.useEffect(()=>{const T=parseInt(m,10)||0,A=Math.min(100,Math.max(0,T));A!==N.ownershipPercentage&&x({ownershipPercentage:A})},[m]),b.useEffect(()=>{const T=rs(v);T!==e.companyProfitAfterTax&&t({...e,companyProfitAfterTax:T})},[v]);const c=()=>{const T={id:Ef(),amount:0,dividendType:"thai_unlisted",withholdingTax:0,companyName:N.companyName,dateReceived:"",includeInPIT:!1};t({...e,dividendEntries:[...e.dividendEntries,T]})},d=(T,A)=>{t({...e,dividendEntries:e.dividendEntries.map(z=>z.id===T?{...z,...A}:z)})},h=T=>{t({...e,dividendEntries:e.dividendEntries.filter(A=>A.id!==T)})};b.useEffect(()=>{if(e.dividendEntries.length>0&&e.dividendEntries.some(A=>A.withholdingTax!==A.amount*.1)){const A=e.dividendEntries.map(z=>({...z,withholdingTax:z.amount*.1}));t({...e,dividendEntries:A})}},[e.dividendEntries]);const j=e.salaryFromCompany+e.directorFees+e.otherCompanyBenefits,S=e.dividendEntries.reduce((T,A)=>T+A.amount,0),k=j+S,R=(s.companyName||n)&&N.companyName.trim().length===0,w=(s.salaryFromCompany||n)&&e.salaryFromCompany<=0;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Company Owner Income"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your income from the company you own, including salary and dividends."}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-amber-700",children:[r.jsx("p",{className:"font-medium",children:"For Thai Companies"}),r.jsx("p",{children:'This section is for income from Thai registered companies. If you receive salary or dividends from a foreign company, please use the "Self-Employed / Freelancer" option which handles foreign income reporting.'})]})]})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Company Information"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),r.jsx("input",{id:"companyName",type:"text",value:N.companyName,onChange:T=>x({companyName:T.target.value}),onBlur:()=>l({...s,companyName:!0}),placeholder:"e.g., ABC Company Ltd.",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${R?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),R&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Please enter the company name"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:jx.map(T=>r.jsxs("button",{type:"button",onClick:()=>x({companyType:T.value}),className:`p-3 border-2 rounded-lg text-left transition-all ${N.companyType===T.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-white"}`,children:[r.jsx("div",{className:"font-medium text-gray-800 text-sm",children:T.label}),r.jsx("div",{className:"text-xs text-gray-500",children:T.description})]},T.value))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"ownership",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ownership %"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"ownership",type:"text",inputMode:"numeric",value:m,onChange:T=>{const A=T.target.value.replace(/[^\d]/g,"");g(A)},onBlur:()=>l({...s,ownership:!0}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors pr-10"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]})]}),r.jsx("div",{className:"flex items-end pb-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:N.isDirector,onChange:T=>x({isDirector:T.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I am a director"})]})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Employment Income from Company"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Salary *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"salary",type:"text",inputMode:"numeric",value:a,onChange:T=>{const A=T.target.value.replace(/,/g,"");(A===""||/^\d+$/.test(A))&&i(A?fe(parseInt(A,10)):"")},onBlur:()=>l({...s,salaryFromCompany:!0}),placeholder:"0",className:`w-full px-4 py-3 pl-8 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`})]}),w&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Please enter your annual salary"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total salary received from your company in the tax year"})]}),N.isDirector&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"directorFees",className:"block text-sm font-medium text-gray-700 mb-2",children:"Director Fees & Bonuses"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"directorFees",type:"text",inputMode:"numeric",value:o,onChange:T=>{const A=T.target.value.replace(/,/g,"");(A===""||/^\d+$/.test(A))&&u(A?fe(parseInt(A,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Meeting fees, performance bonuses, and other director compensation"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"otherBenefits",className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Taxable Benefits"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"otherBenefits",type:"text",inputMode:"numeric",value:p,onChange:T=>{const A=T.target.value.replace(/,/g,"");(A===""||/^\d+$/.test(A))&&f(A?fe(parseInt(A,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Car allowance, housing benefit, or other taxable perks"})]}),j>0&&r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700 font-medium",children:"Total Employment Income"}),r.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",fe(j)]})]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Dividend Income"}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.hasDividends,onChange:T=>t({...e,hasDividends:T.target.checked,dividendEntries:T.target.checked?e.dividendEntries:[]}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-700",children:"I received dividends"})]})]}),e.hasDividends&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Thai Dividend Tax Options"}),r.jsx("p",{children:"Thai company dividends have 10% withholding tax. You can either: (1) Use this as final tax (don't include in PIT), or (2) Include in PIT and claim the withholding as a credit. Option 1 is usually better if your marginal tax rate is above 10%."})]})]})}),e.dividendEntries.map((T,A)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Dividend #",A+1]}),r.jsx("button",{type:"button",onClick:()=>h(T.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Amount (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),r.jsx("input",{type:"text",inputMode:"numeric",value:T.amount>0?fe(T.amount):"",onChange:z=>{const ue=z.target.value.replace(/,/g,"");(ue===""||/^\d+$/.test(ue))&&d(T.id,{amount:parseInt(ue,10)||0})},placeholder:"0",className:"w-full px-3 py-2 pl-7 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),r.jsx("select",{value:T.dividendType,onChange:z=>d(T.id,{dividendType:z.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:wx.map(z=>r.jsx("option",{value:z.value,children:z.label},z.value))})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Paying Company"}),r.jsx("input",{type:"text",value:T.companyName,onChange:z=>d(T.id,{companyName:z.target.value}),placeholder:"Company name",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),T.dividendType!=="foreign"&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include in PIT?"}),r.jsx("p",{className:"text-xs text-gray-500",children:"If no, 10% withholding tax is your final tax on this dividend"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:T.includeInPIT,onChange:z=>d(T.id,{includeInPIT:z.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),T.amount>0&&r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Withholding tax (10%): ",fe(T.amount*.1),T.includeInPIT?" - Will be credited against your tax":" - Final tax (not included in PIT)"]})]},T.id)),r.jsxs("button",{type:"button",onClick:c,className:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Dividend Entry"]}),S>0&&r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700 font-medium",children:"Total Dividends"}),r.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",fe(S)]})]})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Company Financial Info (Optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"This information helps us provide advice but doesn't affect your personal tax calculation."}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyProfit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Profit After Tax (Last Year)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"companyProfit",type:"text",inputMode:"numeric",value:v,onChange:T=>{const A=T.target.value.replace(/,/g,"");(A===""||/^\d+$/.test(A))&&y(A?fe(parseInt(A,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]}),k>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Income Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-700",children:"Employment Income"}),r.jsxs("span",{className:"font-medium text-blue-800",children:["",fe(j)]})]}),S>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-700",children:"Dividend Income"}),r.jsxs("span",{className:"font-medium text-blue-800",children:["",fe(S)]})]}),r.jsxs("div",{className:"border-t border-blue-200 pt-2 flex justify-between",children:[r.jsx("span",{className:"text-blue-800 font-medium",children:"Total Income"}),r.jsxs("span",{className:"font-bold text-blue-800",children:["",fe(k)]})]})]})]})]})},Vl="thai_tax_annual_wizard_data",Dl="thai_tax_annual_wizard_step",Tx=["Employment","Income","Marital Status","Dependents","Deductions","Withholding","Review","Results"],Ex=["Employment","Residency","Foreign Income","Thai Income","Expense Method","Actual Expenses","Marital Status","Dependents","Deductions","Withholding","Review","Results"],Cx=["Employment","Business","Residency","Foreign Income","Thai Income","Expense Method","Actual Expenses","Marital Status","Dependents","Deductions","Withholding","Review","Results"],kx=["Employment","Company Income","Marital Status","Dependents","Deductions","Withholding","Review","Results"];function ss(e){return e==="self-employed"||e==="freelancer"}function ls(e){return e==="sole_proprietor"||e==="business"}function as(e){return e==="company_owner"}function is(){return{employmentType:"",annualIncome:0,includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0}}const Rx=()=>{const e=Hi(),[t,n]=b.useState(!1),[s,l]=b.useState(()=>{const w=sessionStorage.getItem(Dl);return w?parseInt(w,10):0}),[a,i]=b.useState(()=>{const w=sessionStorage.getItem(Vl);if(w)try{const I=JSON.parse(w);return as(I.employmentType)?{...mc(),...I}:ls(I.employmentType)?{...dc(),...I}:ss(I.employmentType)?{...uc(),...I}:{...is(),...I}}catch(I){return console.error("Failed to parse saved form data:",I),is()}return is()}),o=ss(a.employmentType),u=ls(a.employmentType),p=as(a.employmentType),f=b.useMemo(()=>p?kx:u?Cx:o?Ex:Tx,[o,u,p]),m=f.length;b.useEffect(()=>{sessionStorage.setItem(Vl,JSON.stringify(a))},[a]),b.useEffect(()=>{sessionStorage.setItem(Dl,s.toString())},[s]);const g=w=>{if(as(w.employmentType)&&!as(a.employmentType)){const I={...mc(),...w,employmentType:w.employmentType};i(I)}else if(ls(w.employmentType)&&!ls(a.employmentType)){const I={...dc(),...w,employmentType:w.employmentType};i(I)}else if(ss(w.employmentType)&&!ss(a.employmentType)){const I={...uc(),...w,employmentType:w.employmentType};i(I)}else i(w)},v=w=>{const I=w||a;w&&g(w),R(I)?(n(!1),s<m-1&&l(s+1)):n(!0)},y=()=>{s>0&&(n(!1),l(s-1))},N=w=>{w>=0&&w<m&&l(w)},x=()=>{sessionStorage.removeItem(Vl),sessionStorage.removeItem(Dl),i(is()),l(0)},c=()=>{e("/")},d=()=>{const w={formData:a,setFormData:g,nextStep:v,showValidationErrors:t},I={formData:a,setFormData:g,nextStep:v,prevStep:y,showValidationErrors:t},T={formData:a,setFormData:g,nextStep:v,prevStep:y,showValidationErrors:t},A={formData:a,setFormData:g,nextStep:v,prevStep:y,showValidationErrors:t};if(p)switch(s){case 0:return r.jsx(ft,{...w});case 1:return r.jsx(Sx,{...A});case 2:return r.jsx(Jr,{...w});case 3:return r.jsx(es,{...w});case 4:return r.jsx(ts,{...w});case 5:return r.jsx(ns,{...w});case 6:return r.jsx(fc,{...w,goToStep:N});case 7:return r.jsx(xc,{formData:a,onStartOver:x});default:return r.jsx(ft,{...w})}else if(u)switch(s){case 0:return r.jsx(ft,{...w});case 1:return r.jsx(Nx,{...T});case 2:return r.jsx(yc,{...I});case 3:return r.jsx(vc,{...I});case 4:return r.jsx(bc,{...I});case 5:return r.jsx(Nc,{...I});case 6:return r.jsx(jc,{...I});case 7:return r.jsx(Jr,{...w});case 8:return r.jsx(es,{...w});case 9:return r.jsx(ts,{...w});case 10:return r.jsx(ns,{...w});case 11:return r.jsx(wc,{...I,goToStep:N});case 12:return r.jsx(Sc,{formData:a,onStartOver:x});default:return r.jsx(ft,{...w})}else if(o)switch(s){case 0:return r.jsx(ft,{...w});case 1:return r.jsx(yc,{...I});case 2:return r.jsx(vc,{...I});case 3:return r.jsx(bc,{...I});case 4:return r.jsx(Nc,{...I});case 5:return r.jsx(jc,{...I});case 6:return r.jsx(Jr,{...w});case 7:return r.jsx(es,{...w});case 8:return r.jsx(ts,{...w});case 9:return r.jsx(ns,{...w});case 10:return r.jsx(wc,{...I,goToStep:N});case 11:return r.jsx(Sc,{formData:a,onStartOver:x});default:return r.jsx(ft,{...w})}else switch(s){case 0:return r.jsx(ft,{...w});case 1:return r.jsx(Bf,{...w});case 2:return r.jsx(Jr,{...w});case 3:return r.jsx(es,{...w});case 4:return r.jsx(ts,{...w});case 5:return r.jsx(ns,{...w});case 6:return r.jsx(fc,{...w,goToStep:N});case 7:return r.jsx(xc,{formData:a,onStartOver:x});default:return r.jsx(ft,{...w})}},h=s===0,j=s===m-1,S=s===m-2,k=s<m-1,R=(w=a)=>{var A,z,ue,et,tn;const I=()=>[{has:w.hasLifeInsurance,amount:w.lifeInsurance},{has:w.hasHealthInsurance,amount:w.healthInsurance},{has:w.hasPensionFund,amount:w.pensionFund},{has:w.hasProvidentFund,amount:w.providentFund},{has:w.hasRMF,amount:w.rmf},{has:w.hasSSF,amount:w.ssf},{has:w.hasDonations,amount:w.donations}].every(ht=>!ht.has||ht.amount>0),T=()=>{const H=w.children.length===0||w.childrenEligibilityConfirmed,ht=w.numberOfParents===0||w.parentsEligibilityConfirmed;return H&&ht};if(p){const H=w;switch(s){case 0:return w.employmentType!=="";case 1:return((z=(A=H.companyInfo)==null?void 0:A.companyName)==null?void 0:z.trim().length)>0&&H.salaryFromCompany>0;case 2:return w.maritalStatus!=="";case 3:return T();case 4:return I();case 5:return!0;case 6:return!0;default:return!0}}else if(u){const H=w;switch(s){case 0:return w.employmentType!=="";case 1:return((et=(ue=H.businessProfile)==null?void 0:ue.businessName)==null?void 0:et.trim().length)>0&&((tn=H.businessProfile)==null?void 0:tn.businessCategory)!==void 0;case 2:return H.daysInThailand>0&&H.daysInThailand<=365;case 3:return!0;case 4:return H.thaiIncomeEntries.length>0||H.hasForeignIncome&&H.foreignIncomeEntries.length>0;case 5:return H.expenseMethod!==void 0;case 6:return!0;case 7:return w.maritalStatus!=="";case 8:return T();case 9:return I();case 10:return!0;case 11:return!0;default:return!0}}else if(o){const H=w;switch(s){case 0:return w.employmentType!=="";case 1:return H.daysInThailand>0&&H.daysInThailand<=365;case 2:return!0;case 3:return H.thaiIncomeEntries.length>0||H.hasForeignIncome&&H.foreignIncomeEntries.length>0;case 4:return H.expenseMethod!==void 0;case 5:return!0;case 6:return w.maritalStatus!=="";case 7:return T();case 8:return I();case 9:return!0;case 10:return!0;default:return!0}}else switch(s){case 0:return w.employmentType!=="";case 1:return w.annualIncome>0;case 2:return w.maritalStatus!=="";case 3:return T();case 4:return I();case 5:return!0;default:return!0}};return r.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center py-8 px-4",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 md:p-8 max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm","aria-label":"Go to home page",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),!j&&r.jsx("button",{onClick:x,className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Start over",children:"Start Over"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",s+1," of ",m,": ",f[s]]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((s+1)/m*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${(s+1)/m*100}%`},role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":m})}),r.jsx("div",{className:"flex justify-center items-center gap-2 mt-3",children:(()=>{const I=s>2,T=s<m-1-2;let A=Math.max(0,s-2),z=Math.min(m-1,s+2);z-A<2*2&&m>2*2&&(A===0?z=Math.min(m-1,2*2):z===m-1&&(A=Math.max(0,m-1-2*2)));const ue=f.slice(A,z+1);return r.jsxs(r.Fragment,{children:[I&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>N(0),className:"flex flex-col items-center group cursor-pointer","aria-label":`Go to Step 1: ${f[0]}`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 group-hover:bg-blue-600 transition-all"}),r.jsx("span",{className:"text-xs mt-1 text-gray-400 hidden md:block",children:f[0]})]}),r.jsx("span",{className:"text-gray-400 text-sm px-1",children:"..."})]}),ue.map((et,tn)=>{const H=A+tn;return r.jsxs("button",{onClick:()=>H<s&&N(H),disabled:H>=s,className:`flex flex-col items-center group ${H<s?"cursor-pointer":"cursor-default"}`,"aria-label":`${H<s?"Go to ":""}Step ${H+1}: ${et}`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${H<s?"bg-blue-500 group-hover:bg-blue-600":H===s?"bg-blue-500 ring-2 ring-blue-200":"bg-gray-300"}`}),r.jsx("span",{className:`text-xs mt-1 hidden md:block whitespace-nowrap ${H===s?"text-blue-600 font-medium":"text-gray-400"}`,children:et})]},`${et}-${H}`)}),T&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400 text-sm px-1",children:"..."}),r.jsxs("button",{onClick:()=>{},disabled:!0,className:"flex flex-col items-center group cursor-default","aria-label":`Step ${m}: ${f[m-1]}`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300 transition-all"}),r.jsx("span",{className:"text-xs mt-1 text-gray-400 hidden md:block",children:f[m-1]})]})]})]})})()})]}),s>0&&!j&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsx("span",{className:"text-sm text-blue-700",children:"Your progress has been saved. You can continue where you left off."})}),r.jsx("div",{className:"min-h-[300px]",children:d()}),k&&!h&&r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:y,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2","aria-label":"Go to previous step",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),!S&&r.jsxs("button",{onClick:()=>v(),disabled:!R(),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${R()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,"aria-label":"Go to next step",children:["Next",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})})},Ks=({article:e})=>r.jsx(ne,{to:`/articles/${e.slug}`,className:"block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden",children:r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-blue-500 bg-blue-50 px-2 py-1 rounded",children:e.category}),r.jsxs("span",{className:"text-xs text-gray-500",children:[e.readTime," min read"]})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.excerpt})]})}),Ix="ca-pub-4471962643516217",Ax={leaderboard:{width:728,height:90},rectangle:{width:300,height:250},"mobile-banner":{width:320,height:100}},In=({size:e,adSlot:t,className:n=""})=>{const s=b.useRef(null),l=b.useRef(!1),a=Ax[e];return b.useEffect(()=>{if(!l.current)try{s.current&&window.adsbygoogle&&(window.adsbygoogle.push({}),l.current=!0)}catch(i){console.error("AdSense error:",i)}},[]),r.jsx("div",{className:`flex items-center justify-center ${n}`,style:{maxWidth:a.width,minHeight:a.height,width:"100%"},"aria-label":"Advertisement",role:"complementary",children:r.jsx("ins",{ref:s,className:"adsbygoogle",style:{display:"block",width:a.width,height:a.height},"data-ad-client":Ix,"data-ad-slot":t})})},wr=[{slug:"understanding-thai-tax-residency",title:"Understanding Thai Tax Residency: The 180-Day Rule",excerpt:"Learn how Thailand determines your tax residency status and what it means for your tax obligations.",content:`
## What is Tax Residency?

Tax residency determines which country has the right to tax your income. In Thailand, the rules are straightforward but important to understand.

## The 180-Day Rule

Thailand uses a simple test to determine tax residency: if you spend 180 days or more in Thailand during a calendar year, you are considered a Thai tax resident.

### Key Points:
- Days are counted per calendar year (January to December)
- Partial days typically count as full days
- The days don't need to be consecutive

## Tax Implications

**As a Thai Tax Resident:**
- You are taxed on income earned in Thailand
- You may be taxed on foreign-sourced income brought into Thailand
- You must file an annual tax return if your income exceeds the filing threshold

**As a Non-Resident:**
- You are only taxed on income earned within Thailand
- Different withholding rates may apply
- You may still need to file depending on your income type

## Planning Tips

1. Keep records of your travel in and out of Thailand
2. Understand the timing of your income remittances
3. Consider tax treaties between Thailand and your home country
4. Consult with a tax professional for complex situations
    `,publishedAt:"2024-01-15",readTime:5,category:"Tax Basics"},{slug:"maximizing-tax-deductions-thailand",title:"Maximizing Your Tax Deductions in Thailand",excerpt:"A comprehensive guide to the allowances and deductions available to reduce your Thai tax liability.",content:`
## Personal Allowances

Thailand offers several personal allowances that reduce your taxable income:

### Standard Allowances:
- **Personal Allowance:** 60,000 THB
- **Spouse Allowance:** 60,000 THB (if spouse has no income)
- **Child Allowance:** 30,000 THB per child (legitimate children only)

## Common Deductions

### Social Security
Contributions to Thai social security are deductible up to the maximum contribution amount.

### Life Insurance
Life insurance premiums are deductible up to 100,000 THB annually.

### Health Insurance
Health insurance premiums are deductible up to 25,000 THB annually, increased from previous years.

### Retirement Funds
- **SSF (Super Savings Fund):** Up to 30% of income, max 200,000 THB
- **RMF (Retirement Mutual Fund):** Up to 30% of income, max 500,000 THB
- **Provident Fund:** Up to 15% of salary

### Housing Loan Interest
Interest on housing loans is deductible up to 100,000 THB annually.

## Tips for Maximizing Deductions

1. **Plan Early:** Many deductions require purchases before year-end
2. **Keep Documentation:** Maintain receipts and certificates
3. **Understand Limits:** Some deductions have combined caps
4. **Consider Timing:** Some investments have minimum holding periods
    `,publishedAt:"2024-02-01",readTime:7,category:"Deductions"},{slug:"thai-tax-brackets-explained",title:"Thai Tax Brackets Explained: 2024 Guide",excerpt:"Understand how progressive tax rates work in Thailand and calculate your effective tax rate.",content:`
## Progressive Tax System

Thailand uses a progressive tax system where higher income is taxed at higher rates. Only the income within each bracket is taxed at that rate.

## 2024 Tax Brackets

| Taxable Income (THB) | Tax Rate |
|---------------------|----------|
| 0 - 150,000 | Exempt |
| 150,001 - 300,000 | 5% |
| 300,001 - 500,000 | 10% |
| 500,001 - 750,000 | 15% |
| 750,001 - 1,000,000 | 20% |
| 1,000,001 - 2,000,000 | 25% |
| 2,000,001 - 5,000,000 | 30% |
| Over 5,000,000 | 35% |

## How It Works

The first 150,000 THB of taxable income is always exempt. Then each subsequent bracket applies only to the income within that range.

### Example Calculation

For a taxable income of 600,000 THB:
- First 150,000: 0 THB (exempt)
- 150,001 - 300,000: 7,500 THB (150,000  5%)
- 300,001 - 500,000: 20,000 THB (200,000  10%)
- 500,001 - 600,000: 15,000 THB (100,000  15%)
- **Total Tax: 42,500 THB**
- **Effective Rate: 7.08%**

## Key Takeaways

1. Your marginal rate applies only to income in that bracket
2. The effective rate is always lower than your top bracket
3. Deductions reduce your taxable income before applying brackets
4. Use our calculator to see your exact breakdown
    `,publishedAt:"2024-02-15",readTime:4,category:"Tax Basics"},{slug:"expat-guide-filing-thai-taxes",title:"Expat Guide: Filing Your Thai Tax Return",excerpt:"Step-by-step guide for expats on how to file annual tax returns in Thailand.",content:`
## Who Must File?

You must file a Thai tax return if:
- You are a Thai tax resident (180+ days in Thailand)
- Your annual income exceeds 120,000 THB (single) or 220,000 THB (married)
- You have Thai-sourced income subject to tax

## Filing Deadline

The deadline for filing your annual tax return is **March 31** of the following year. For example, 2024 income must be filed by March 31, 2025.

Online filing via the RD Smart Tax app may extend this deadline by 8 days.

## Required Documents

1. **Tax Certificates (Withholding Tax Certificates)**
   - From your employer (Form 50 Tawi)
   - From banks (interest income)
   - From other payers

2. **Personal Documents**
   - Thai ID or passport
   - Tax ID number

3. **Supporting Documents**
   - Marriage certificate (for spouse allowance)
   - Birth certificates (for child allowance)
   - Insurance premium receipts
   - Donation receipts

## Filing Methods

### Online (Recommended)
- RD Smart Tax app
- E-filing via rd.go.th
- Faster processing and longer deadline

### In Person
- Visit your local Revenue Department office
- Bring all original documents
- Submit before March 31

## Common Mistakes to Avoid

1. Missing the deadline
2. Forgetting to claim allowances
3. Not reporting all income sources
4. Incorrect calculations
5. Missing required attachments
    `,publishedAt:"2024-03-01",readTime:6,category:"Filing"},{slug:"foreign-income-thailand-tax",title:"Foreign Income and Thailand Tax: What You Need to Know",excerpt:"Understanding when and how foreign-sourced income is taxed in Thailand.",content:`
## The Remittance Rule

Thailand historically taxed foreign-sourced income only if:
1. You are a Thai tax resident
2. The income is remitted (brought) into Thailand
3. The income is remitted in the same year it was earned

## Recent Changes

The Revenue Department has announced changes to foreign income taxation. Starting from 2024, foreign-sourced income brought into Thailand may be taxable regardless of when it was earned.

### Key Changes:
- Income earned in prior years may now be taxable when remitted
- Stricter enforcement expected
- Some exemptions still apply

## Types of Foreign Income

### Employment Income
Income from work performed outside Thailand while employed by a foreign company.

### Investment Income
Dividends, interest, and capital gains from foreign investments.

### Rental Income
Income from properties located outside Thailand.

### Business Income
Profits from businesses operated outside Thailand.

## Tax Treaties

Thailand has tax treaties with many countries that may:
- Reduce withholding rates
- Provide exemptions for certain income types
- Allow foreign tax credits

### Common Treaty Partners:
- United States
- United Kingdom
- Australia
- Singapore
- Japan
- Germany

## Planning Strategies

1. **Timing:** Consider when to remit foreign income
2. **Documentation:** Keep records of income sources and dates
3. **Tax Credits:** Claim credits for taxes paid abroad
4. **Professional Advice:** Complex situations require expert guidance
    `,publishedAt:"2024-03-15",readTime:8,category:"International"},{slug:"social-security-contributions-thailand",title:"Social Security Contributions in Thailand Explained",excerpt:"Everything you need to know about Thai social security contributions and benefits.",content:`
## Overview

Thailand's social security system provides coverage for employees in companies with one or more employees. Contributions are shared between employer and employee.

## Contribution Rates

| Party | Contribution Rate | Maximum Monthly Contribution |
|-------|------------------|------------------------------|
| Employee | 5% | 750 THB |
| Employer | 5% | 750 THB |
| Government | 2.75% | - |

The maximum wage base for contributions is 15,000 THB per month.

## Coverage Benefits

### Medical Care
- Outpatient and inpatient treatment
- Dental care (limited)
- Maternity benefits

### Disability
- Monthly payments for work-related disabilities
- Non-work related disability coverage

### Death Benefits
- Funeral grant
- Survivor benefits

### Unemployment
- 30-50% of salary for up to 6 months
- Requires minimum contribution period

### Retirement
- Monthly pension after age 55
- Requires minimum 180 months of contributions

## Tax Treatment

Social security contributions are:
- Deductible from your taxable income
- Limited to actual contributions (max 9,000 THB annually)

## For Expats

- Mandatory for employees of Thai companies
- Exemptions may apply under bilateral agreements
- Benefits continue after leaving employment (subject to conditions)
    `,publishedAt:"2024-04-01",readTime:5,category:"Employment"},{slug:"freelancer-tax-guide-thailand",title:"Freelancer Tax Guide: Navigating Thai Taxes as a Self-Employed Professional",excerpt:"Complete guide to understanding your tax obligations as a freelancer or independent contractor in Thailand.",content:`
## Freelancing in Thailand

Whether you're a digital nomad, consultant, or independent professional, understanding your tax obligations is essential for compliance and financial planning.

## Income Categories for Freelancers

Thai tax law classifies income into categories under Section 40 of the Revenue Code. As a freelancer, your income likely falls under one of these:

### Section 40(2) - Employment-like Services
- Contract work resembling employment
- Fees for services with specific deliverables

### Section 40(6) - Liberal Professions
- Doctors, lawyers, accountants, engineers
- Architects, artists, and performers
- Flat-rate deduction: 30% (up to 60% for certain professions)

### Section 40(7) - Contractors
- Construction and installation work
- Project-based technical services
- Flat-rate deduction: 40%

### Section 40(8) - Business Income
- Trading, selling goods
- General services and consulting
- Flat-rate deduction: 60%

## Expense Deductions

You have two options for expense deductions:

### Flat-Rate Method
- Simple, no documentation required
- Fixed percentage based on income type
- Best for those with low actual expenses

### Actual Expense Method
- Requires detailed records and receipts
- Better if actual expenses exceed flat rate
- Must maintain proper accounting

## Filing Requirements

### PND90 (Annual Return)
- Due by March 31 (or April 8 online)
- Required if income exceeds 60,000 THB (single) or 120,000 THB (married)

### PND94 (Mid-Year Return)
- Due by September 30
- Required for income received January-June exceeding thresholds
- Acts as prepayment toward annual tax

## Tips for Freelancers

1. **Track Everything:** Keep receipts and records for all business expenses
2. **Set Aside Tax Money:** Reserve 10-20% of income for taxes
3. **Understand Withholding:** Clients may withhold 3% tax at source
4. **Consider Registration:** Formal business registration may offer benefits
    `,publishedAt:"2024-04-15",readTime:8,category:"Freelance"},{slug:"flat-rate-vs-actual-expenses",title:"Flat-Rate vs Actual Expenses: Which Deduction Method is Right for You?",excerpt:"Learn how to choose between flat-rate and actual expense deductions to minimize your Thai tax liability.",content:`
## Understanding Your Options

Thai tax law allows self-employed individuals and freelancers to choose between two expense deduction methods. Choosing wisely can significantly reduce your tax bill.

## Flat-Rate Deduction

### How It Works
The government allows a fixed percentage deduction based on your income type, no questions asked.

### Flat-Rate Percentages by Income Type

| Income Type | Section | Flat Rate |
|------------|---------|-----------|
| Liberal Professions (medical, legal) | 40(6) | 60% |
| Liberal Professions (other) | 40(6) | 30% |
| Contractors | 40(7) | 40% |
| Business/Trading | 40(8) | 60% |
| Rental Income | 40(5) | 30% |

### Pros:
- Simple, no documentation needed
- Guaranteed deduction percentage
- Less administrative burden

### Cons:
- May be lower than actual expenses
- One-size-fits-all approach
- Can't claim specific high expenses

## Actual Expense Deduction

### How It Works
Deduct your real business expenses with proper documentation.

### Eligible Expenses:
- Office rent and utilities
- Equipment and supplies
- Professional services (accounting, legal)
- Travel for business purposes
- Marketing and advertising
- Software and subscriptions
- Internet and phone (business portion)

### Pros:
- Potentially higher deductions
- Reflects true business costs
- Fair for high-expense businesses

### Cons:
- Requires meticulous record-keeping
- Subject to audit scrutiny
- More time-consuming

## How to Choose

### Use Flat-Rate When:
- Your actual expenses are below the flat rate
- You have poor expense documentation
- You want simplicity over optimization
- You're just starting out

### Use Actual Expenses When:
- Your expenses exceed the flat rate
- You have good accounting systems
- You have significant equipment costs
- You rent expensive office space

## Example Comparison

**Scenario:** Consultant earning 1,000,000 THB with 450,000 THB actual expenses

| Method | Deduction | Taxable Income |
|--------|-----------|----------------|
| Flat-Rate (40%) | 400,000 THB | 600,000 THB |
| Actual Expenses | 450,000 THB | 550,000 THB |

**Winner:** Actual expenses saves approximately 7,500 THB in tax.

## Our Calculator's Auto-Compare Feature

Our calculator automatically computes both methods and shows you which option results in lower taxes, taking the guesswork out of the decision.
    `,publishedAt:"2024-05-01",readTime:7,category:"Freelance"},{slug:"pnd94-mid-year-tax-filing",title:"PND94 Explained: Mid-Year Tax Filing for Freelancers",excerpt:"Understanding when and how to file your PND94 mid-year tax return as a self-employed individual in Thailand.",content:`
## What is PND94?

PND94 is a mid-year tax return required for individuals with income from certain categories, primarily self-employed and business income (Sections 40(5) through 40(8)).

## Who Must File PND94?

You must file PND94 if:
- You received income under Sections 40(5), 40(6), 40(7), or 40(8)
- Your income from January to June exceeds:
  - **60,000 THB** if single
  - **120,000 THB** if married filing jointly

## Filing Deadline

**September 30** of the same tax year.

For income received January-June 2024, file by September 30, 2024.

Online filing via RD Smart Tax may extend this by 8 days.

## How PND94 Works

### Step 1: Calculate Mid-Year Income
Total all qualifying income received from January 1 to June 30.

### Step 2: Estimate Annual Income
Project your full-year income (you can estimate the July-December portion).

### Step 3: Calculate Tax on Annual Estimate
Apply standard deductions and tax brackets to estimated annual income.

### Step 4: Pay Half the Estimated Tax
PND94 requires payment of 50% of your estimated annual tax liability.

## Example Calculation

**Mid-year income:** 400,000 THB
**Estimated annual income:** 800,000 THB
**Estimated annual tax:** 52,500 THB
**PND94 payment due:** 26,250 THB

## What Happens at Year-End?

When you file PND90 (annual return):
- Your actual annual income is calculated
- PND94 payment is credited against your total tax
- You either pay the difference or receive a refund

## Common Mistakes to Avoid

1. **Missing the deadline:** Penalties apply for late filing
2. **Underestimating income:** May result in penalty for underpayment
3. **Forgetting to file:** PND94 is separate from your annual return
4. **Not claiming deductions:** You can estimate deductions for mid-year filing

## Tips for Freelancers

- Set calendar reminders for September 30
- Keep running totals of income throughout the year
- Save money monthly for tax payments
- Consider quarterly estimated taxes if income is irregular
    `,publishedAt:"2024-05-15",readTime:6,category:"Freelance"},{slug:"withholding-tax-freelancers-thailand",title:"Withholding Tax for Freelancers: Getting Credit for Tax Already Paid",excerpt:"How to track, document, and claim credit for withholding tax deducted by your Thai clients.",content:`
## Understanding Withholding Tax

When Thai companies pay freelancers, they're often required to withhold tax at source and remit it to the Revenue Department on your behalf.

## Standard Withholding Rates

| Income Type | Withholding Rate |
|-------------|------------------|
| Service fees (40(2)) | 3% |
| Professional fees (40(6)) | 3% |
| Contractor payments (40(7)) | 3% |
| Advertising services | 2% |
| Transport services | 1% |
| Rental payments | 5% |

## How It Works

### Example:
You invoice a Thai company 100,000 THB for consulting services.

| Item | Amount |
|------|--------|
| Invoice total | 100,000 THB |
| Withholding tax (3%) | 3,000 THB |
| Amount received | 97,000 THB |

The company sends the 3,000 THB to the Revenue Department under your tax ID.

## Withholding Tax Certificates

### What to Collect
Request a **Withholding Tax Certificate (50 Tawi)** from every client who withholds tax.

### Information on the Certificate:
- Your name and tax ID
- Payer's name and tax ID
- Income amount
- Tax withheld
- Date of payment

### Why It Matters
Without certificates, you cannot claim credit for tax already paid!

## Claiming Your Credit

When filing your annual return:

1. **Total all withholding certificates**
2. **Enter total on PND90** in the withholding tax section
3. **Attach certificates** to your filing (or keep for records if filing online)
4. **Receive credit** against your calculated tax liability

## Refund Scenarios

If withholding tax exceeds your actual tax liability, you're entitled to a refund.

### Example:
- Annual income: 500,000 THB
- Tax withheld: 15,000 THB
- Actual tax owed: 12,500 THB
- **Refund due: 2,500 THB**

## Best Practices

1. **Request certificates immediately** after payment
2. **Verify tax ID** is correct on certificates
3. **Keep copies** of all certificates
4. **Track monthly** in a spreadsheet
5. **Reconcile annually** before filing

## What If a Client Won't Withhold?

Some clients, especially individuals or small businesses, may not withhold tax. In these cases:
- You're responsible for reporting full income
- No withholding credit available
- You'll pay full tax at filing time

## International Clients

Foreign clients typically don't withhold Thai tax. You must:
- Report full income received
- Pay tax at filing time
- No withholding credit applies
    `,publishedAt:"2024-06-01",readTime:7,category:"Freelance"},{slug:"vat-registration-freelancers",title:"VAT Registration for Freelancers: When 1.8 Million THB Changes Everything",excerpt:"Understanding VAT registration requirements, thresholds, and implications for high-earning freelancers in Thailand.",content:`
## VAT Basics

Value Added Tax (VAT) in Thailand is 7% and applies to the sale of goods and services. Most freelancers start exempt but must register once they exceed certain thresholds.

## The 1.8 Million THB Threshold

You **must register for VAT** if your annual turnover exceeds **1,800,000 THB**.

### What Counts as Turnover?
- Gross income from services
- Sales of goods
- Before any expense deductions

### Timeline:
Register within 30 days of exceeding the threshold.

## Voluntary Registration

You can register for VAT even below the threshold if:
- Your clients prefer working with VAT-registered suppliers
- You want to claim input VAT credits
- You're building toward the threshold

## How VAT Works for Freelancers

### Collecting VAT (Output Tax)
Add 7% VAT to your invoices:
- Service fee: 100,000 THB
- VAT (7%): 7,000 THB
- **Invoice total: 107,000 THB**

### Claiming VAT (Input Tax)
Recover VAT paid on business expenses:
- Office supplies: 10,700 THB (including 700 THB VAT)
- You can claim back the 700 THB

### Net VAT Payment
| Item | Amount |
|------|--------|
| VAT collected | 7,000 THB |
| VAT paid on expenses | 700 THB |
| **Net VAT due** | **6,300 THB** |

## Filing Requirements

### PP30 Monthly Return
- Due by the 15th of the following month
- Report all sales and purchases
- Pay net VAT due

### Record Keeping
- Maintain purchase and sales journals
- Keep tax invoices for 5 years
- Issue proper tax invoices to clients

## Implications of VAT Registration

### Pros:
- Claim input VAT on business purchases
- Professional image with corporate clients
- Required for government contracts

### Cons:
- Administrative burden
- Monthly filing requirements
- Cash flow impact (collect then remit)
- Penalties for non-compliance

## Avoiding Common Pitfalls

1. **Monitor your income** monthly to anticipate threshold
2. **Register on time** - late registration has penalties
3. **Issue proper invoices** with all required information
4. **File monthly** even if no transactions
5. **Keep immaculate records** for audits

## When to Get Help

Consider hiring an accountant if:
- You're approaching the threshold
- VAT calculations confuse you
- You have complex expense claims
- You want to focus on your work, not paperwork
    `,publishedAt:"2024-06-15",readTime:8,category:"Freelance"},{slug:"digital-nomad-taxes-thailand",title:"Digital Nomad Taxes in Thailand: Working Remotely for Foreign Clients",excerpt:"Tax considerations for digital nomads and remote workers earning foreign income while living in Thailand.",content:`
## The Digital Nomad Reality

Many remote workers live in Thailand while earning from foreign clients or employers. The tax implications can be complex.

## Key Questions to Answer

1. Are you a Thai tax resident? (180+ days)
2. Where is your income sourced?
3. Do you bring money into Thailand?
4. Do you have a valid work permit?

## Tax Residency Impact

### If You're a Thai Tax Resident (180+ Days):

**Pre-2024 Rule:**
Foreign income was taxable only if:
- Earned abroad AND
- Remitted to Thailand in the same year

**2024 Onwards:**
Foreign income remitted to Thailand is taxable regardless of when earned.

### If You're a Non-Resident (<180 Days):
- Only Thai-sourced income is taxable
- Foreign income generally not taxable in Thailand

## Common Scenarios

### Scenario 1: Remote Employee of Foreign Company
- Working from Thailand for a US company
- Paid into a US bank account
- **Thai tax:** Potentially taxable if remitted to Thailand as a resident

### Scenario 2: Freelancer with International Clients
- Multiple clients from various countries
- Paid via PayPal/Wise to Thai account
- **Thai tax:** Likely taxable as income brought into Thailand

### Scenario 3: Digital Nomad, <180 Days
- Moves between countries
- Not a Thai tax resident
- **Thai tax:** Generally no obligation for foreign income

## Practical Considerations

### Banking and Remittances
- Money transferred to Thai accounts = remittance
- ATM withdrawals from foreign cards = remittance
- Credit card payments in Thailand = grey area

### Documentation
- Track days in Thailand carefully
- Keep records of income sources
- Document when income was earned vs. remitted

## Tax Planning Strategies

### Legal Approaches:
1. **Stay under 180 days** if your situation allows
2. **Time remittances** strategically (pre-2024 income may be exempt)
3. **Use tax treaties** if your home country has one with Thailand
4. **Claim foreign tax credits** for taxes paid elsewhere

### What NOT to Do:
- Don't assume "no one checks" - enforcement is increasing
- Don't ignore filing requirements
- Don't mix earned years if you can document separately

## Work Permit Considerations

Technically, working remotely in Thailand requires a work permit. This is a legal grey area that many digital nomads navigate, but it's separate from tax obligations.

Tax obligations exist regardless of work permit status.

## Getting Professional Help

Given the complexity, consider consulting:
- A Thai tax accountant familiar with expat issues
- An international tax advisor
- Your home country's tax authority for treaty benefits

## The Bottom Line

Digital nomad taxation is evolving. Thailand is increasing enforcement on foreign income. Plan carefully, document thoroughly, and consider professional advice for your specific situation.
    `,publishedAt:"2024-07-01",readTime:9,category:"Freelance"},{slug:"freelancer-record-keeping-thailand",title:"Record Keeping for Thai Freelancers: Stay Organized, Stay Compliant",excerpt:"Essential record-keeping practices for freelancers to maximize deductions and survive a tax audit.",content:`
## Why Records Matter

Good record keeping helps you:
- Claim maximum legitimate deductions
- File accurate tax returns
- Survive a Revenue Department audit
- Make informed business decisions

## What to Keep

### Income Records
- Invoices issued to all clients
- Payment receipts and bank statements
- Withholding tax certificates (50 Tawi)
- Contracts and agreements

### Expense Records
- Receipts for all business purchases
- Tax invoices (for VAT purposes)
- Bank and credit card statements
- Utility bills (business portion)

### Supporting Documents
- Travel records and itineraries
- Meeting notes and project records
- Time tracking logs
- Mileage logs for vehicle expenses

## How Long to Keep Records

| Record Type | Retention Period |
|-------------|------------------|
| General tax records | 5 years |
| VAT records | 5 years |
| Asset purchase records | Life of asset + 5 years |
| Contracts | Duration + 5 years |

## Organizing Your Records

### Digital System (Recommended)
1. **Cloud storage** - Google Drive, Dropbox, or similar
2. **Folder structure:**
   \`\`\`
   2024/
    Income/
       Invoices/
       Withholding_Certificates/
    Expenses/
       Office/
       Equipment/
       Travel/
       Services/
    Banking/
   \`\`\`
3. **Scan receipts** immediately (use phone apps)
4. **Name files consistently** (YYYY-MM-DD_Vendor_Amount)

### Physical Records
- Keep originals in labeled folders
- Store in a safe, dry location
- Consider a fireproof safe for critical documents

## Monthly Routine

### Week 1: Collect
- Gather all receipts from the previous month
- Download bank statements
- Collect withholding certificates

### Week 2: Organize
- Scan and file physical receipts
- Categorize expenses
- Update your tracking spreadsheet

### Week 3: Reconcile
- Match bank transactions to receipts
- Identify missing documentation
- Follow up on outstanding invoices

### Week 4: Review
- Check income vs. expenses
- Estimate tax liability
- Adjust pricing or spending if needed

## Tools for Freelancers

### Accounting Software
- Wave (free)
- QuickBooks
- Xero
- Zoho Books

### Receipt Scanning
- Expensify
- Receipt Bank
- Adobe Scan (free)

### Spreadsheets
A simple Google Sheet can work:
| Date | Description | Category | Amount | VAT | Receipt |
|------|-------------|----------|--------|-----|---------|
| 2024-01-15 | Office supplies | Office | 500 | 33 | Yes |

## Audit Survival Tips

If the Revenue Department requests documentation:
1. **Stay calm** - audits are routine
2. **Respond promptly** to requests
3. **Provide organized records** - good organization shows professionalism
4. **Be honest** - never fabricate or alter documents
5. **Get help** - consider hiring an accountant for audit support

## Common Record-Keeping Mistakes

1. **Mixing personal and business** expenses
2. **Throwing away receipts** too soon
3. **Not backing up** digital records
4. **Waiting until tax time** to organize
5. **Keeping incomplete records** (missing dates, amounts, or purposes)
    `,publishedAt:"2024-07-15",readTime:8,category:"Freelance"},{slug:"ltr-visa-tax-benefits",title:"LTR Visa Tax Benefits: Thailand's Tax-Advantaged Residency for Expats",excerpt:"Discover how Thailand's Long-Term Resident visa offers significant tax benefits including foreign income exemptions and reduced tax rates.",content:`
## What is the LTR Visa?

The Long-Term Resident (LTR) visa is Thailand's premium residency program designed to attract wealthy individuals, skilled professionals, and remote workers. Launched by the Board of Investment (BOI), the LTR visa offers substantial tax benefits that can significantly reduce your tax burden compared to standard visa holders.

## The Four LTR Visa Categories

### 1. Wealthy Global Citizens
- **Requirements:** USD 1 million+ in assets (including USD 500,000 in Thai assets)
- **Tax Benefit:** Complete exemption from Thai tax on foreign income

### 2. Wealthy Pensioners
- **Requirements:** Age 50+, annual pension/passive income of USD 80,000+ (or USD 40,000+ with USD 250,000 in Thai assets)
- **Tax Benefit:** Complete exemption from Thai tax on foreign income

### 3. Work-from-Thailand Professionals
- **Requirements:** Work for established overseas company, USD 80,000+ annual income for past 2 years
- **Tax Benefit:** Complete exemption from Thai tax on foreign income

### 4. Highly Skilled Professionals
- **Requirements:** Work in BOI-targeted industries, 5+ years experience or PhD
- **Tax Benefit:** 17% flat tax rate on Thai employment income (vs. progressive rates up to 35%)

## How LTR Tax Benefits Compare

| Visa Type | Foreign Income | Thai Income | Effective Benefit |
|-----------|---------------|-------------|-------------------|
| Regular Visa | Taxable if remitted (up to 35%) | Progressive (up to 35%) | Standard treatment |
| Thailand Privilege | Taxable if remitted (up to 35%) | Progressive (up to 35%) | No tax benefit |
| LTR (3 categories) | **Tax Exempt** | Progressive (up to 35%) | Major savings on foreign income |
| LTR Highly Skilled | Taxable if remitted | **17% flat rate** | Lower tax on high Thai earnings |

## Understanding the 2024 Foreign Income Rule Change

Prior to 2024, foreign income was only taxable if remitted to Thailand in the same year it was earned. Starting January 1, 2024, all foreign income remitted to Thailand is taxable regardless of when earned.

**This makes the LTR visa exemption even more valuable.**

For regular visa holders, any money brought into Thailand from overseas is now potentially taxable. LTR visa holders (except Highly Skilled) are completely exempt from this rule.

## Example Tax Savings

**Scenario:** A remote worker earning USD 100,000 annually from a US company, living in Thailand

**Without LTR Visa:**
- If remitting full income: approximately 1.5-2.5 million THB in Thai tax
- Must carefully plan remittances to minimize tax exposure

**With LTR Work-from-Thailand Visa:**
- Thai tax on foreign income: 0 THB
- Complete freedom to remit funds without tax consequences

## Eligibility Requirements Overview

### Documentation Typically Required:
1. Proof of income/assets (bank statements, tax returns)
2. Health insurance coverage
3. Criminal background check
4. Passport validity

### Application Process:
1. Apply through BOI website (ltr.boi.go.th)
2. Pay application fee (50,000 THB)
3. Processing time: typically 20 working days
4. Visa valid for 10 years (renewable)

## Important Compliance Notes

To maintain LTR tax benefits:
- Must hold valid LTR visa throughout the tax year
- Must comply with BOI reporting requirements
- Benefits apply only while meeting category qualifications
- Must file Thai tax returns (even if tax-exempt income)

## LTR vs. Tax Treaties (DTAs)

Some expats wonder whether tax treaties provide similar benefits to the LTR visa. Here's the key difference:

- **Tax Treaties:** Prevent double taxation by allowing credits, but don't eliminate Thai tax
- **LTR Visa:** Actually exempts foreign income from Thai tax entirely (for qualifying categories)

## Who Should Consider LTR?

The LTR visa is particularly valuable for:
- Digital nomads and remote workers with substantial income
- Retirees with significant overseas pensions or investments
- Wealthy individuals planning to move assets to Thailand
- Skilled professionals offered positions in BOI-promoted industries

## Key Takeaways

1. **Three LTR categories offer complete foreign income tax exemption** - a unique benefit not available with any other Thai visa
2. **LTR Highly Skilled offers 17% flat rate** on Thai employment income - significant savings for high earners
3. **Post-2024 rules make LTR more valuable** - standard visa holders now face tax on all remitted foreign income
4. **Thailand Privilege/Elite visas don't offer tax benefits** - only LTR provides preferential tax treatment
5. **Proper compliance is essential** - maintain eligibility to keep your tax benefits

## Resources

- BOI LTR Visa Portal: ltr.boi.go.th
- Thai Revenue Department: rd.go.th
- Use our tax calculator to compare scenarios with and without LTR benefits
    `,publishedAt:"2026-02-17",readTime:10,category:"International"}];function _x(e){return wr.find(t=>t.slug===e)}function Lx(e,t=3){return wr.filter(n=>n.slug!==e).slice(0,t)}const Xi=[{name:"Tax Residency",items:[{question:"How is tax residency determined in Thailand?",answer:"You are considered a Thai tax resident if you spend 180 days or more in Thailand during a calendar year. The days do not need to be consecutive. Partial days are generally counted as full days."},{question:"What happens if I stay less than 180 days?",answer:"If you stay less than 180 days in a calendar year, you are a non-resident for tax purposes. Non-residents are only taxed on income earned within Thailand, typically at flat rates or through withholding tax."},{question:"Can I be a tax resident of both Thailand and another country?",answer:"Yes, dual tax residency is possible. In such cases, tax treaties between countries determine which country has primary taxing rights. You may need to claim foreign tax credits to avoid double taxation."}]},{name:"Deductions & Allowances",items:[{question:"What is the personal allowance in Thailand?",answer:"Every taxpayer receives a personal allowance of 60,000 THB. This amount is deducted from your assessable income before calculating tax. If your spouse has no income, you can also claim an additional 60,000 THB spouse allowance."},{question:"Can I deduct insurance premiums?",answer:"Yes. Life insurance premiums are deductible up to 100,000 THB annually. Health insurance premiums are deductible up to 25,000 THB. Parent health insurance premiums have a separate limit of 15,000 THB."},{question:"What are SSF and RMF funds?",answer:"SSF (Super Savings Fund) and RMF (Retirement Mutual Fund) are tax-advantaged investment funds. SSF contributions are deductible up to 30% of income (max 200,000 THB). RMF contributions are deductible up to 30% of income (max 500,000 THB). Combined limits apply."},{question:"How much can I deduct for children?",answer:"You can deduct 30,000 THB per legitimate child. An additional 2,000 THB per child is available if the child is studying in Thailand. There is no limit on the number of children you can claim."}]},{name:"Filing & Deadlines",items:[{question:"When is the tax filing deadline in Thailand?",answer:"The annual tax return (PND 90/91) must be filed by March 31 of the following year. For example, income earned in 2024 must be filed by March 31, 2025. Online filing may extend this deadline by 8 days."},{question:"Do I need to file if my employer withholds tax?",answer:"Yes, you should still file an annual return even if your employer withholds tax. Filing allows you to claim additional deductions and potentially receive a refund. It also ensures compliance with Thai tax law."},{question:"How do I file my tax return?",answer:"You can file online through the RD Smart Tax app or the Revenue Department website (rd.go.th), or in person at your local Revenue Department office. Online filing is recommended for faster processing."},{question:"What documents do I need to file?",answer:"You need your withholding tax certificates (Form 50 Tawi) from employers and banks, personal identification (Thai ID or passport), Tax ID number, and supporting documents for any deductions you claim (receipts, certificates)."}]},{name:"Income & Withholding",items:[{question:"How is monthly withholding tax calculated?",answer:"Employers estimate your annual income and calculate the annual tax liability. This amount is divided by 12 and withheld monthly. The calculation considers your allowances and deductions you have declared to your employer."},{question:"Is foreign income taxable in Thailand?",answer:"For Thai tax residents, foreign income brought into Thailand is taxable. Recent changes require foreign income remitted to Thailand to be declared regardless of when it was earned. Tax treaties may provide exemptions or credits."},{question:"What income is exempt from tax?",answer:"The first 150,000 THB of taxable income is exempt. Other exemptions include certain government payments, inheritance (subject to separate rules), and specific investment returns like those from certain government bonds."}]},{name:"Refunds & Payments",items:[{question:"How do I get a tax refund?",answer:"If you have overpaid tax (common if you have additional deductions not considered in withholding), you will receive a refund after filing your annual return. Refunds are typically processed within 3 months and deposited to your bank account."},{question:"What if I owe additional tax?",answer:"If your total tax liability exceeds the amount withheld, you must pay the difference when filing. Payment can be made at the Revenue Department office, through designated banks, or online through the RD Smart Tax app."},{question:"Are there penalties for late filing or payment?",answer:"Yes. Late filing incurs a penalty of up to 2,000 THB. Late payment incurs a surcharge of 1.5% per month on the outstanding amount. Interest also accrues on unpaid tax."}]}];function Px(e){const t=e.toLowerCase(),n=[];return Xi.forEach(s=>{s.items.forEach(l=>{(l.question.toLowerCase().includes(t)||l.answer.toLowerCase().includes(t))&&n.push(l)})}),n}const Mx=()=>{var n;const e=wr.slice(0,3),t=((n=Xi[0])==null?void 0:n.items.slice(0,3))||[];return r.jsxs("div",{className:"py-8",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Thai Tax Calculator"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Calculate your Thai tax obligation quickly and accurately"})]}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 mb-8",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(ne,{to:"/annual-tax",className:"block bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow p-6 border-2 border-transparent hover:border-blue-500",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Annual Tax Calculator"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Get a detailed breakdown of your annual tax liability and potential refund."})]})]})}),r.jsx(ne,{to:"/monthly-withholding",className:"block bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow p-6 border-2 border-transparent hover:border-blue-500",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Monthly Withholding"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Estimate how much tax should be deducted from your monthly salary."})]})]})})]})}),r.jsxs("div",{className:"flex justify-center mb-8 px-4",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(In,{size:"leaderboard",adSlot:"5959313072"})}),r.jsx("div",{className:"md:hidden",children:r.jsx(In,{size:"mobile-banner",adSlot:"6916229573"})})]}),r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Popular Questions"}),r.jsx("ul",{className:"space-y-3",children:t.map((s,l)=>r.jsx("li",{children:r.jsxs(ne,{to:"/faq",className:"flex items-start gap-2 text-gray-600 hover:text-blue-500 transition-colors",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"Q:"}),r.jsx("span",{className:"text-sm",children:s.question})]})},l))}),r.jsxs(ne,{to:"/faq",className:"inline-flex items-center gap-1 text-blue-500 hover:text-blue-600 mt-4 text-sm font-medium",children:["View all FAQ",r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Latest Articles"}),r.jsx("div",{className:"space-y-4",children:e.map(s=>r.jsx(Ks,{article:s},s.slug))}),r.jsxs(ne,{to:"/articles",className:"inline-flex items-center gap-1 text-blue-500 hover:text-blue-600 mt-4 text-sm font-medium",children:["View all articles",r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]})},Ox=()=>{const e=wr.slice(0,3),t=wr.slice(3);return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thai Tax Guides for Expats"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive guides to help you understand and navigate Thai taxation."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(n=>r.jsx(Ks,{article:n},n.slug))}),t.length>0&&r.jsxs("div",{className:"flex justify-center mb-8",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(In,{size:"leaderboard",adSlot:"5959313072"})}),r.jsx("div",{className:"md:hidden",children:r.jsx(In,{size:"rectangle",adSlot:"3447757856"})})]}),t.length>0&&r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(n=>r.jsx(Ks,{article:n},n.slug))}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 md:p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to calculate your tax?"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Use our free calculator to estimate your Thai tax liability."}),r.jsxs(ne,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:["Start Calculator",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},Fx=()=>{const{slug:e}=jp(),t=e?_x(e):void 0,n=e?Lx(e,3):[];if(!t)return r.jsx(Op,{to:"/articles",replace:!0});const s=t.content.split(`

`),l=Math.floor(s.length/2),a=s.slice(0,l).join(`

`),i=s.slice(l).join(`

`);return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[r.jsx("nav",{className:"mb-6",children:r.jsx(ne,{to:"/articles",className:"text-blue-500 hover:text-blue-600 text-sm",children:" Back to Articles"})}),r.jsxs("header",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-blue-500 bg-blue-50 px-3 py-1 rounded-full",children:t.category}),r.jsxs("span",{className:"text-sm text-gray-500",children:[t.readTime," min read"]})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:t.title}),r.jsxs("p",{className:"text-gray-500 text-sm",children:["Published: ",new Date(t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("article",{className:"prose prose-gray max-w-none mb-8",children:r.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:Tc(a)}})}),r.jsx("div",{className:"flex justify-center my-8",children:r.jsx(In,{size:"rectangle",adSlot:"3447757856"})}),r.jsx("article",{className:"prose prose-gray max-w-none mb-8",children:r.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:Tc(i)}})}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 text-center mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to calculate your tax?"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Put this knowledge to use with our free calculator."}),r.jsxs(ne,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:["Start Calculator",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Related Articles"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:n.map(o=>r.jsx(Ks,{article:o},o.slug))})]})]})})};function Tc(e){let t=e.replace(/^## (.+)$/gm,'<h2 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h2>').replace(/^### (.+)$/gm,'<h3 class="text-xl font-semibold text-gray-900 mt-6 mb-3">$1</h3>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\|(.+)\|/g,n=>{const s=n.split("|").filter(o=>o.trim());if(s.every(o=>o.trim().match(/^-+$/)))return"";const a=s.some(o=>o.includes("---"))?"th":"td";return`<tr>${s.map(o=>`<${a} class="border border-gray-200 px-4 py-2">${o.trim()}</${a}>`).join("")}</tr>`});return t=t.replace(/(^- .+$(\n- .+$)*)/gm,n=>`<ul class="list-disc list-inside mb-4 text-gray-600">${n.split(`
`).map(l=>`<li class="ml-4">${l.replace(/^- /,"")}</li>`).join("")}</ul>`),t=t.replace(/(^\d+\. .+$(\n\d+\. .+$)*)/gm,n=>`<ol class="list-decimal list-inside mb-4 text-gray-600">${n.split(`
`).map(l=>`<li class="ml-4">${l.replace(/^\d+\. /,"")}</li>`).join("")}</ol>`),t=t.replace(/\n\n/g,'</p><p class="mb-4 text-gray-600 leading-relaxed">').replace(/^/,'<p class="mb-4 text-gray-600 leading-relaxed">').replace(/$/,"</p>").replace(/<p class="mb-4 text-gray-600 leading-relaxed"><\/p>/g,""),t}const Ec=({question:e,answer:t,defaultOpen:n=!1})=>{const[s,l]=b.useState(n);return r.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[r.jsxs("button",{className:"w-full py-4 flex items-center justify-between text-left hover:text-blue-500 transition-colors",onClick:()=>l(!s),"aria-expanded":s,children:[r.jsx("span",{className:"font-medium text-gray-900 pr-4",children:e}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 flex-shrink-0 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"pb-4 text-gray-600 leading-relaxed",children:t})]})},Bx=()=>{const[e,t]=b.useState(""),n=e.length>=2?Px(e):[],s=e.length>=2;return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Find answers to common questions about Thai taxation."}),r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search FAQs...",value:e,onChange:l=>t(l.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-colors"}),r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:s?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Search Results (",n.length,")"]}),n.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:n.map((l,a)=>r.jsx(Ec,{question:l.question,answer:l.answer,defaultOpen:a===0},a))}):r.jsxs("p",{className:"text-gray-500",children:['No results found for "',e,'". Try a different search term.']})]}):r.jsx("div",{className:"space-y-6",children:Xi.map((l,a)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:l.name}),r.jsx("div",{className:"divide-y divide-gray-200",children:l.items.map((i,o)=>r.jsx(Ec,{question:i.question,answer:i.answer},o))})]},a))})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24 space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(In,{size:"rectangle",adSlot:"3447757856"})}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Calculate Your Tax"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Ready to estimate your Thai tax liability?"}),r.jsx(ne,{to:"/",className:"block text-center bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Start Calculator"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need More Help?"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"For complex tax situations, we recommend consulting with a qualified Thai tax professional."})]})]})})]})]})})},Hx=()=>r.jsx(Nf,{children:r.jsxs(Bp,{children:[r.jsx(Ht,{path:"/",element:r.jsx(Mx,{})}),r.jsx(Ht,{path:"/monthly-withholding",element:r.jsx(Of,{})}),r.jsx(Ht,{path:"/annual-tax",element:r.jsx(Rx,{})}),r.jsx(Ht,{path:"/articles",element:r.jsx(Ox,{})}),r.jsx(Ht,{path:"/articles/:slug",element:r.jsx(Fx,{})}),r.jsx(Ht,{path:"/faq",element:r.jsx(Bx,{})})]})});Xl.createRoot(document.getElementById("root")).render(r.jsx(km.StrictMode,{children:r.jsx(cf,{children:r.jsx(Hx,{})})}));
