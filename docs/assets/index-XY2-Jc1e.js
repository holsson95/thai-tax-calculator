(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ec={exports:{}},Ks={},Cc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=Symbol.for("react.element"),dm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),xm=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.memo"),bm=Symbol.for("react.lazy"),Di=Symbol.iterator;function Nm(e){return e===null||typeof e!="object"?null:(e=Di&&e[Di]||e["@@iterator"],typeof e=="function"?e:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tc=Object.assign,Ic={};function Rn(e,t,n){this.props=e,this.context=t,this.refs=Ic,this.updater=n||kc}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ac(){}Ac.prototype=Rn.prototype;function Wa(e,t,n){this.props=e,this.context=t,this.refs=Ic,this.updater=n||kc}var Ua=Wa.prototype=new Ac;Ua.constructor=Wa;Tc(Ua,Rn.prototype);Ua.isPureReactComponent=!0;var Ki=Array.isArray,Rc=Object.prototype.hasOwnProperty,$a={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Rc.call(t,s)&&!_c.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Sr,type:e,key:a,ref:i,props:l,_owner:$a.current}}function jm(e,t){return{$$typeof:Sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ya(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sr}function wm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qi=/\/+/g;function fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wm(""+e.key):t.toString(36)}function os(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Sr:case dm:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+fl(i,0):s,Ki(l)?(n="",e!=null&&(n=e.replace(Qi,"$&/")+"/"),os(l,t,n,"",function(h){return h})):l!=null&&(Ya(l)&&(l=jm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Qi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Ki(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+fl(a,o);i+=os(a,t,n,c,l)}else if(c=Nm(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+fl(a,o++),i+=os(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Lr(e,t,n){if(e==null)return e;var s=[],l=0;return os(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ve={current:null},cs={transition:null},Em={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:cs,ReactCurrentOwner:$a};function Pc(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Lr,forEach:function(e,t,n){Lr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!Ya(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Rn;z.Fragment=mm;z.Profiler=fm;z.PureComponent=Wa;z.StrictMode=hm;z.Suspense=ym;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;z.act=Pc;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Tc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=$a.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Rc.call(t,c)&&!_c.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];s.children=o}return{$$typeof:Sr,type:e.type,key:l,ref:a,props:s,_owner:i}};z.createContext=function(e){return e={$$typeof:xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pm,_context:e},e.Consumer=e};z.createElement=Lc;z.createFactory=function(e){var t=Lc.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:gm,render:e}};z.isValidElement=Ya;z.lazy=function(e){return{$$typeof:bm,_payload:{_status:-1,_result:e},_init:Sm}};z.memo=function(e,t){return{$$typeof:vm,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=cs.transition;cs.transition={};try{e()}finally{cs.transition=t}};z.unstable_act=Pc;z.useCallback=function(e,t){return ve.current.useCallback(e,t)};z.useContext=function(e){return ve.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return ve.current.useDeferredValue(e)};z.useEffect=function(e,t){return ve.current.useEffect(e,t)};z.useId=function(){return ve.current.useId()};z.useImperativeHandle=function(e,t,n){return ve.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return ve.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return ve.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return ve.current.useMemo(e,t)};z.useReducer=function(e,t,n){return ve.current.useReducer(e,t,n)};z.useRef=function(e){return ve.current.useRef(e)};z.useState=function(e){return ve.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return ve.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return ve.current.useTransition()};z.version="18.3.1";Cc.exports=z;var b=Cc.exports;const Cm=um(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=b,Tm=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),Am=Object.prototype.hasOwnProperty,Rm=km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_m={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Am.call(t,s)&&!_m.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Tm,type:e,key:a,ref:i,props:l,_owner:Rm.current}}Ks.Fragment=Im;Ks.jsx=Oc;Ks.jsxs=Oc;Ec.exports=Ks;var r=Ec.exports,Xl={},Mc={exports:{}},Ae={},Fc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,O){var B=_.length;_.push(O);e:for(;0<B;){var ee=B-1>>>1,ae=_[ee];if(0<l(ae,O))_[ee]=O,_[B]=ae,B=ee;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var O=_[0],B=_.pop();if(B!==O){_[0]=B;e:for(var ee=0,ae=_.length,Rr=ae>>>1;ee<Rr;){var Mt=2*(ee+1)-1,hl=_[Mt],Ft=Mt+1,_r=_[Ft];if(0>l(hl,B))Ft<ae&&0>l(_r,hl)?(_[ee]=_r,_[Ft]=B,ee=Ft):(_[ee]=hl,_[Mt]=B,ee=Mt);else if(Ft<ae&&0>l(_r,B))_[ee]=_r,_[Ft]=B,ee=Ft;else break e}}return O}function l(_,O){var B=_.sortIndex-O.sortIndex;return B!==0?B:_.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],h=[],p=1,f=null,x=3,v=!1,N=!1,j=!1,g=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(_){for(var O=n(h);O!==null;){if(O.callback===null)s(h);else if(O.startTime<=_)s(h),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(h)}}function y(_){if(j=!1,m(_),!N)if(n(c)!==null)N=!0,W(S);else{var O=n(h);O!==null&&ft(y,O.startTime-_)}}function S(_,O){N=!1,j&&(j=!1,u(w),w=-1),v=!0;var B=x;try{for(m(O),f=n(c);f!==null&&(!(f.expirationTime>O)||_&&!X());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,x=f.priorityLevel;var ae=ee(f.expirationTime<=O);O=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(c)&&s(c),m(O)}else s(c);f=n(c)}if(f!==null)var Rr=!0;else{var Mt=n(h);Mt!==null&&ft(y,Mt.startTime-O),Rr=!1}return Rr}finally{f=null,x=B,v=!1}}var C=!1,E=null,w=-1,I=5,P=-1;function X(){return!(e.unstable_now()-P<I)}function ze(){if(E!==null){var _=e.unstable_now();P=_;var O=!0;try{O=E(!0,_)}finally{O?A():(C=!1,E=null)}}else C=!1}var A;if(typeof d=="function")A=function(){d(ze)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=ze,A=function(){Q.postMessage(null)}}else A=function(){g(ze,0)};function W(_){E=_,C||(C=!0,A())}function ft(_,O){w=g(function(){_(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,W(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(x){case 1:case 2:case 3:var O=3;break;default:O=x}var B=x;x=O;try{return _()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var B=x;x=_;try{return O()}finally{x=B}},e.unstable_scheduleCallback=function(_,O,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,_){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,_={id:p++,callback:O,priorityLevel:_,startTime:B,expirationTime:ae,sortIndex:-1},B>ee?(_.sortIndex=B,t(h,_),n(c)===null&&_===n(h)&&(j?(u(w),w=-1):j=!0,ft(y,B-ee))):(_.sortIndex=ae,t(c,_),N||v||(N=!0,W(S))),_},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(_){var O=x;return function(){var B=x;x=O;try{return _.apply(this,arguments)}finally{x=B}}}})(Bc);Fc.exports=Bc;var Lm=Fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=b,Ie=Lm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zc=new Set,lr={};function Zt(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(lr[e]=t,e=0;e<t.length;e++)zc.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},qi={};function Mm(e){return Dl.call(qi,e)?!0:Dl.call(Gi,e)?!1:Om.test(e)?qi[e]=!0:(Gi[e]=!0,!1)}function Fm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bm(e,t,n,s){if(t===null||typeof t>"u"||Fm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Va=/[\-:]([a-z])/g;function Xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Va,Xa);de[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Va,Xa);de[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Va,Xa);de[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Da(e,t,n,s){var l=de.hasOwnProperty(t)?de[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bm(t,n,l,s)&&(n=null),s||l===null?Mm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ht=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),rn=Symbol.for("react.portal"),sn=Symbol.for("react.fragment"),Ka=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),Qa=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Uc=Symbol.for("react.offscreen"),Ji=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=Ji&&e[Ji]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,pl;function Xn(e){if(pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pl=t&&t[1]||""}return`
`+pl+e}var xl=!1;function gl(e,t){if(!e||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var s=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){s=h}e.call(t.prototype)}else{try{throw Error()}catch(h){s=h}e()}}catch(h){if(h&&s&&typeof h.stack=="string"){for(var l=h.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xn(e):""}function zm(e){switch(e.tag){case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return e=gl(e.type,!1),e;case 11:return e=gl(e.type.render,!1),e;case 1:return e=gl(e.type,!0),e;default:return""}}function ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sn:return"Fragment";case rn:return"Portal";case Kl:return"Profiler";case Ka:return"StrictMode";case Ql:return"Suspense";case Gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wc:return(e.displayName||"Context")+".Consumer";case Hc:return(e._context.displayName||"Context")+".Provider";case Qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return t=e.displayName||null,t!==null?t:ql(e.type)||"Memo";case gt:t=e._payload,e=e._init;try{return ql(e(t))}catch{}}return null}function Hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(t);case 8:return t===Ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wm(e){var t=$c(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Or(e){e._valueTracker||(e._valueTracker=Wm(e))}function Yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=$c(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jl(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zi(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Rt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vc(e,t){t=t.checked,t!=null&&Da(e,"checked",t,!1)}function Zl(e,t){Vc(e,t);var n=Rt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ea(e,t.type,n):t.hasOwnProperty("defaultValue")&&ea(e,t.type,Rt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ea(e,t,n){(t!=="number"||js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dn=Array.isArray;function xn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Rt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function to(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Dn(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rt(n)}}function Xc(e,t){var n=Rt(t.value),s=Rt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function no(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mr,Kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Um=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){Um.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function Qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function Gc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Qc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var $m=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,gn=null,yn=null;function ro(e){if(e=kr(e)){if(typeof aa!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Zs(t),aa(e.stateNode,e.type,t))}}function qc(e){gn?yn?yn.push(e):yn=[e]:gn=e}function Jc(){if(gn){var e=gn,t=yn;if(yn=gn=null,ro(e),t)for(e=0;e<t.length;e++)ro(t[e])}}function Zc(e,t){return e(t)}function eu(){}var yl=!1;function tu(e,t,n){if(yl)return e(t,n);yl=!0;try{return Zc(e,t,n)}finally{yl=!1,(gn!==null||yn!==null)&&(eu(),Jc())}}function ir(e,t){var n=e.stateNode;if(n===null)return null;var s=Zs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var ia=!1;if(ot)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){ia=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{ia=!1}function Ym(e,t,n,s,l,a,i,o,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var qn=!1,ws=null,Ss=!1,oa=null,Vm={onError:function(e){qn=!0,ws=e}};function Xm(e,t,n,s,l,a,i,o,c){qn=!1,ws=null,Ym.apply(Vm,arguments)}function Dm(e,t,n,s,l,a,i,o,c){if(Xm.apply(this,arguments),qn){if(qn){var h=ws;qn=!1,ws=null}else throw Error(T(198));Ss||(Ss=!0,oa=h)}}function en(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function so(e){if(en(e)!==e)throw Error(T(188))}function Km(e){var t=e.alternate;if(!t){if(t=en(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return so(l),e;if(a===s)return so(l),t;a=a.sibling}throw Error(T(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function ru(e){return e=Km(e),e!==null?su(e):null}function su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=su(e);if(t!==null)return t;e=e.sibling}return null}var lu=Ie.unstable_scheduleCallback,lo=Ie.unstable_cancelCallback,Qm=Ie.unstable_shouldYield,Gm=Ie.unstable_requestPaint,te=Ie.unstable_now,qm=Ie.unstable_getCurrentPriorityLevel,Ja=Ie.unstable_ImmediatePriority,au=Ie.unstable_UserBlockingPriority,Es=Ie.unstable_NormalPriority,Jm=Ie.unstable_LowPriority,iu=Ie.unstable_IdlePriority,Qs=null,Ze=null;function Zm(e){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Qs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:nh,eh=Math.log,th=Math.LN2;function nh(e){return e>>>=0,e===0?32:31-(eh(e)/th|0)|0}var Fr=64,Br=4194304;function Kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=Kn(o):(a&=i,a!==0&&(s=Kn(a)))}else i=n&~l,i!==0?s=Kn(i):a!==0&&(s=Kn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ye(t),l=1<<n,s|=e[n],t&=~l;return s}function rh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ye(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=rh(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ou(){var e=Fr;return Fr<<=1,!(Fr&4194240)&&(Fr=64),e}function vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=n}function lh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ye(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Za(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ye(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var U=0;function cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uu,ei,du,mu,hu,ua=!1,zr=[],wt=null,St=null,Et=null,or=new Map,cr=new Map,vt=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ao(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function zn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=kr(t),t!==null&&ei(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ih(e,t,n,s,l){switch(t){case"focusin":return wt=zn(wt,e,t,n,s,l),!0;case"dragenter":return St=zn(St,e,t,n,s,l),!0;case"mouseover":return Et=zn(Et,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return or.set(a,zn(or.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,cr.set(a,zn(cr.get(a)||null,e,t,n,s,l)),!0}return!1}function fu(e){var t=Wt(e.target);if(t!==null){var n=en(t);if(n!==null){if(t=n.tag,t===13){if(t=nu(n),t!==null){e.blockedOn=t,hu(e.priority,function(){du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);la=s,n.target.dispatchEvent(s),la=null}else return t=kr(n),t!==null&&ei(t),e.blockedOn=n,!1;t.shift()}return!0}function io(e,t,n){us(e)&&n.delete(t)}function oh(){ua=!1,wt!==null&&us(wt)&&(wt=null),St!==null&&us(St)&&(St=null),Et!==null&&us(Et)&&(Et=null),or.forEach(io),cr.forEach(io)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,ua||(ua=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,oh)))}function ur(e){function t(l){return Hn(l,e)}if(0<zr.length){Hn(zr[0],e);for(var n=1;n<zr.length;n++){var s=zr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wt!==null&&Hn(wt,e),St!==null&&Hn(St,e),Et!==null&&Hn(Et,e),or.forEach(t),cr.forEach(t),n=0;n<vt.length;n++)s=vt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<vt.length&&(n=vt[0],n.blockedOn===null);)fu(n),n.blockedOn===null&&vt.shift()}var vn=ht.ReactCurrentBatchConfig,ks=!0;function ch(e,t,n,s){var l=U,a=vn.transition;vn.transition=null;try{U=1,ti(e,t,n,s)}finally{U=l,vn.transition=a}}function uh(e,t,n,s){var l=U,a=vn.transition;vn.transition=null;try{U=4,ti(e,t,n,s)}finally{U=l,vn.transition=a}}function ti(e,t,n,s){if(ks){var l=da(e,t,n,s);if(l===null)Il(e,t,s,Ts,n),ao(e,s);else if(ih(l,e,t,n,s))s.stopPropagation();else if(ao(e,s),t&4&&-1<ah.indexOf(e)){for(;l!==null;){var a=kr(l);if(a!==null&&uu(a),a=da(e,t,n,s),a===null&&Il(e,t,s,Ts,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Il(e,t,s,null,n)}}var Ts=null;function da(e,t,n,s){if(Ts=null,e=qa(s),e=Wt(e),e!==null)if(t=en(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case Ja:return 1;case au:return 4;case Es:case Jm:return 16;case iu:return 536870912;default:return 16}default:return 16}}var Nt=null,ni=null,ds=null;function xu(){if(ds)return ds;var e,t=ni,n=t.length,s,l="value"in Nt?Nt.value:Nt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return ds=l.slice(e,1<s?1-s:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hr(){return!0}function oo(){return!1}function Re(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hr:oo,this.isPropagationStopped=oo,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Re(_n),Cr=J({},_n,{view:0,detail:0}),dh=Re(Cr),bl,Nl,Wn,Gs=J({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:si,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(bl=e.screenX-Wn.screenX,Nl=e.screenY-Wn.screenY):Nl=bl=0,Wn=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),co=Re(Gs),mh=J({},Gs,{dataTransfer:0}),hh=Re(mh),fh=J({},Cr,{relatedTarget:0}),jl=Re(fh),ph=J({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),xh=Re(ph),gh=J({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yh=Re(gh),vh=J({},_n,{data:0}),uo=Re(vh),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jh[e])?!!t[e]:!1}function si(){return wh}var Sh=J({},Cr,{key:function(e){if(e.key){var t=bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:si,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eh=Re(Sh),Ch=J({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=Re(Ch),kh=J({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:si}),Th=Re(kh),Ih=J({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=Re(Ih),Rh=J({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_h=Re(Rh),Lh=[9,13,27,32],li=ot&&"CompositionEvent"in window,Jn=null;ot&&"documentMode"in document&&(Jn=document.documentMode);var Ph=ot&&"TextEvent"in window&&!Jn,gu=ot&&(!li||Jn&&8<Jn&&11>=Jn),ho=" ",fo=!1;function yu(e,t){switch(e){case"keyup":return Lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function Oh(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(fo=!0,ho);case"textInput":return e=t.data,e===ho&&fo?null:e;default:return null}}function Mh(e,t){if(ln)return e==="compositionend"||!li&&yu(e,t)?(e=xu(),ds=ni=Nt=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fh[e.type]:t==="textarea"}function bu(e,t,n,s){qc(s),t=Is(t,"onChange"),0<t.length&&(n=new ri("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Zn=null,dr=null;function Bh(e){Ru(e,0)}function qs(e){var t=cn(e);if(Yc(t))return e}function zh(e,t){if(e==="change")return t}var Nu=!1;if(ot){var wl;if(ot){var Sl="oninput"in document;if(!Sl){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),Sl=typeof xo.oninput=="function"}wl=Sl}else wl=!1;Nu=wl&&(!document.documentMode||9<document.documentMode)}function go(){Zn&&(Zn.detachEvent("onpropertychange",ju),dr=Zn=null)}function ju(e){if(e.propertyName==="value"&&qs(dr)){var t=[];bu(t,dr,e,qa(e)),tu(Bh,t)}}function Hh(e,t,n){e==="focusin"?(go(),Zn=t,dr=n,Zn.attachEvent("onpropertychange",ju)):e==="focusout"&&go()}function Wh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qs(dr)}function Uh(e,t){if(e==="click")return qs(t)}function $h(e,t){if(e==="input"||e==="change")return qs(t)}function Yh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:Yh;function mr(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Dl.call(t,l)||!Xe(e[l],t[l]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vo(e,t){var n=yo(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yo(n)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Su(){for(var e=window,t=js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=js(e.document)}return t}function ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vh(e){var t=Su(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wu(n.ownerDocument.documentElement,n)){if(s!==null&&ai(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=vo(n,a);var i=vo(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xh=ot&&"documentMode"in document&&11>=document.documentMode,an=null,ma=null,er=null,ha=!1;function bo(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ha||an==null||an!==js(s)||(s=an,"selectionStart"in s&&ai(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),er&&mr(er,s)||(er=s,s=Is(ma,"onSelect"),0<s.length&&(t=new ri("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=an)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var on={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},El={},Eu={};ot&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Js(e){if(El[e])return El[e];if(!on[e])return e;var t=on[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eu)return El[e]=t[n];return e}var Cu=Js("animationend"),ku=Js("animationiteration"),Tu=Js("animationstart"),Iu=Js("transitionend"),Au=new Map,No="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lt(e,t){Au.set(e,t),Zt(t,[e])}for(var Cl=0;Cl<No.length;Cl++){var kl=No[Cl],Dh=kl.toLowerCase(),Kh=kl[0].toUpperCase()+kl.slice(1);Lt(Dh,"on"+Kh)}Lt(Cu,"onAnimationEnd");Lt(ku,"onAnimationIteration");Lt(Tu,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(Iu,"onTransitionEnd");wn("onMouseEnter",["mouseout","mouseover"]);wn("onMouseLeave",["mouseout","mouseover"]);wn("onPointerEnter",["pointerout","pointerover"]);wn("onPointerLeave",["pointerout","pointerover"]);Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function jo(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Dm(s,t,void 0,e),e.currentTarget=null}function Ru(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;jo(l,o,h),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,h=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;jo(l,o,h),a=c}}}if(Ss)throw e=oa,Ss=!1,oa=null,e}function Y(e,t){var n=t[ya];n===void 0&&(n=t[ya]=new Set);var s=e+"__bubble";n.has(s)||(_u(t,e,2,!1),n.add(s))}function Tl(e,t,n){var s=0;t&&(s|=4),_u(n,e,s,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function hr(e){if(!e[Ur]){e[Ur]=!0,zc.forEach(function(n){n!=="selectionchange"&&(Qh.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ur]||(t[Ur]=!0,Tl("selectionchange",!1,t))}}function _u(e,t,n,s){switch(pu(t)){case 1:var l=ch;break;case 4:l=uh;break;default:l=ti}n=l.bind(null,t,n,e),l=void 0,!ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Il(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Wt(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}tu(function(){var h=a,p=qa(n),f=[];e:{var x=Au.get(e);if(x!==void 0){var v=ri,N=e;switch(e){case"keypress":if(ms(n)===0)break e;case"keydown":case"keyup":v=Eh;break;case"focusin":N="focus",v=jl;break;case"focusout":N="blur",v=jl;break;case"beforeblur":case"afterblur":v=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Th;break;case Cu:case ku:case Tu:v=xh;break;case Iu:v=Ah;break;case"scroll":v=dh;break;case"wheel":v=_h;break;case"copy":case"cut":case"paste":v=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mo}var j=(t&4)!==0,g=!j&&e==="scroll",u=j?x!==null?x+"Capture":null:x;j=[];for(var d=h,m;d!==null;){m=d;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,u!==null&&(y=ir(d,u),y!=null&&j.push(fr(d,y,m)))),g)break;d=d.return}0<j.length&&(x=new v(x,N,null,n,p),f.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&n!==la&&(N=n.relatedTarget||n.fromElement)&&(Wt(N)||N[ct]))break e;if((v||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,v?(N=n.relatedTarget||n.toElement,v=h,N=N?Wt(N):null,N!==null&&(g=en(N),N!==g||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=h),v!==N)){if(j=co,y="onMouseLeave",u="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=mo,y="onPointerLeave",u="onPointerEnter",d="pointer"),g=v==null?x:cn(v),m=N==null?x:cn(N),x=new j(y,d+"leave",v,n,p),x.target=g,x.relatedTarget=m,y=null,Wt(p)===h&&(j=new j(u,d+"enter",N,n,p),j.target=m,j.relatedTarget=g,y=j),g=y,v&&N)t:{for(j=v,u=N,d=0,m=j;m;m=nn(m))d++;for(m=0,y=u;y;y=nn(y))m++;for(;0<d-m;)j=nn(j),d--;for(;0<m-d;)u=nn(u),m--;for(;d--;){if(j===u||u!==null&&j===u.alternate)break t;j=nn(j),u=nn(u)}j=null}else j=null;v!==null&&wo(f,x,v,j,!1),N!==null&&g!==null&&wo(f,g,N,j,!0)}}e:{if(x=h?cn(h):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var S=zh;else if(po(x))if(Nu)S=$h;else{S=Wh;var C=Hh}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=Uh);if(S&&(S=S(e,h))){bu(f,S,n,p);break e}C&&C(e,x,h),e==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&ea(x,"number",x.value)}switch(C=h?cn(h):window,e){case"focusin":(po(C)||C.contentEditable==="true")&&(an=C,ma=h,er=null);break;case"focusout":er=ma=an=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,bo(f,n,p);break;case"selectionchange":if(Xh)break;case"keydown":case"keyup":bo(f,n,p)}var E;if(li)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ln?yu(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(gu&&n.locale!=="ko"&&(ln||w!=="onCompositionStart"?w==="onCompositionEnd"&&ln&&(E=xu()):(Nt=p,ni="value"in Nt?Nt.value:Nt.textContent,ln=!0)),C=Is(h,w),0<C.length&&(w=new uo(w,e,null,n,p),f.push({event:w,listeners:C}),E?w.data=E:(E=vu(n),E!==null&&(w.data=E)))),(E=Ph?Oh(e,n):Mh(e,n))&&(h=Is(h,"onBeforeInput"),0<h.length&&(p=new uo("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:h}),p.data=E))}Ru(f,t)})}function fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=ir(e,n),a!=null&&s.unshift(fr(e,a,l)),a=ir(e,t),a!=null&&s.push(fr(e,a,l))),e=e.return}return s}function nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wo(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,h=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&h!==null&&(o=h,l?(c=ir(n,a),c!=null&&i.unshift(fr(n,c,o))):l||(c=ir(n,a),c!=null&&i.push(fr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function So(e){return(typeof e=="string"?e:""+e).replace(Gh,`
`).replace(qh,"")}function $r(e,t,n){if(t=So(t),So(e)!==t&&n)throw Error(T(425))}function As(){}var fa=null,pa=null;function xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ga=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,Eo=typeof Promise=="function"?Promise:void 0,Zh=typeof queueMicrotask=="function"?queueMicrotask:typeof Eo<"u"?function(e){return Eo.resolve(null).then(e).catch(e0)}:ga;function e0(e){setTimeout(function(){throw e})}function Al(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),ur(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);ur(t)}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Co(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),Je="__reactFiber$"+Ln,pr="__reactProps$"+Ln,ct="__reactContainer$"+Ln,ya="__reactEvents$"+Ln,t0="__reactListeners$"+Ln,n0="__reactHandles$"+Ln;function Wt(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ct]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Co(e);e!==null;){if(n=e[Je])return n;e=Co(e)}return t}e=n,n=e.parentNode}return null}function kr(e){return e=e[Je]||e[ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Zs(e){return e[pr]||null}var va=[],un=-1;function Pt(e){return{current:e}}function V(e){0>un||(e.current=va[un],va[un]=null,un--)}function $(e,t){un++,va[un]=e.current,e.current=t}var _t={},pe=Pt(_t),we=Pt(!1),Xt=_t;function Sn(e,t){var n=e.type.contextTypes;if(!n)return _t;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Se(e){return e=e.childContextTypes,e!=null}function Rs(){V(we),V(pe)}function ko(e,t,n){if(pe.current!==_t)throw Error(T(168));$(pe,t),$(we,n)}function Lu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(T(108,Hm(e)||"Unknown",l));return J({},n,s)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_t,Xt=pe.current,$(pe,e),$(we,we.current),!0}function To(e,t,n){var s=e.stateNode;if(!s)throw Error(T(169));n?(e=Lu(e,t,Xt),s.__reactInternalMemoizedMergedChildContext=e,V(we),V(pe),$(pe,e)):V(we),$(we,n)}var rt=null,el=!1,Rl=!1;function Pu(e){rt===null?rt=[e]:rt.push(e)}function r0(e){el=!0,Pu(e)}function Ot(){if(!Rl&&rt!==null){Rl=!0;var e=0,t=U;try{var n=rt;for(U=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}rt=null,el=!1}catch(l){throw rt!==null&&(rt=rt.slice(e+1)),lu(Ja,Ot),l}finally{U=t,Rl=!1}}return null}var dn=[],mn=0,Ls=null,Ps=0,Le=[],Pe=0,Dt=null,st=1,lt="";function Bt(e,t){dn[mn++]=Ps,dn[mn++]=Ls,Ls=e,Ps=t}function Ou(e,t,n){Le[Pe++]=st,Le[Pe++]=lt,Le[Pe++]=Dt,Dt=e;var s=st;e=lt;var l=32-Ye(s)-1;s&=~(1<<l),n+=1;var a=32-Ye(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,st=1<<32-Ye(t)+l|n<<l|s,lt=a+e}else st=1<<a|n<<l|s,lt=e}function ii(e){e.return!==null&&(Bt(e,1),Ou(e,1,0))}function oi(e){for(;e===Ls;)Ls=dn[--mn],dn[mn]=null,Ps=dn[--mn],dn[mn]=null;for(;e===Dt;)Dt=Le[--Pe],Le[Pe]=null,lt=Le[--Pe],Le[Pe]=null,st=Le[--Pe],Le[Pe]=null}var Te=null,ke=null,D=!1,$e=null;function Mu(e,t){var n=Oe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Io(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,ke=Ct(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dt!==null?{id:st,overflow:lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Te=e,ke=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Na(e){if(D){var t=ke;if(t){var n=t;if(!Io(e,t)){if(ba(e))throw Error(T(418));t=Ct(n.nextSibling);var s=Te;t&&Io(e,t)?Mu(s,n):(e.flags=e.flags&-4097|2,D=!1,Te=e)}}else{if(ba(e))throw Error(T(418));e.flags=e.flags&-4097|2,D=!1,Te=e}}}function Ao(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function Yr(e){if(e!==Te)return!1;if(!D)return Ao(e),D=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xa(e.type,e.memoizedProps)),t&&(t=ke)){if(ba(e))throw Fu(),Error(T(418));for(;t;)Mu(e,t),t=Ct(t.nextSibling)}if(Ao(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ke=Ct(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ke=null}}else ke=Te?Ct(e.stateNode.nextSibling):null;return!0}function Fu(){for(var e=ke;e;)e=Ct(e.nextSibling)}function En(){ke=Te=null,D=!1}function ci(e){$e===null?$e=[e]:$e.push(e)}var s0=ht.ReactCurrentBatchConfig;function Un(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Vr(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ro(e){var t=e._init;return t(e._payload)}function Bu(e){function t(u,d){if(e){var m=u.deletions;m===null?(u.deletions=[d],u.flags|=16):m.push(d)}}function n(u,d){if(!e)return null;for(;d!==null;)t(u,d),d=d.sibling;return null}function s(u,d){for(u=new Map;d!==null;)d.key!==null?u.set(d.key,d):u.set(d.index,d),d=d.sibling;return u}function l(u,d){return u=At(u,d),u.index=0,u.sibling=null,u}function a(u,d,m){return u.index=m,e?(m=u.alternate,m!==null?(m=m.index,m<d?(u.flags|=2,d):m):(u.flags|=2,d)):(u.flags|=1048576,d)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,d,m,y){return d===null||d.tag!==6?(d=Bl(m,u.mode,y),d.return=u,d):(d=l(d,m),d.return=u,d)}function c(u,d,m,y){var S=m.type;return S===sn?p(u,d,m.props.children,y,m.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gt&&Ro(S)===d.type)?(y=l(d,m.props),y.ref=Un(u,d,m),y.return=u,y):(y=vs(m.type,m.key,m.props,null,u.mode,y),y.ref=Un(u,d,m),y.return=u,y)}function h(u,d,m,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=zl(m,u.mode,y),d.return=u,d):(d=l(d,m.children||[]),d.return=u,d)}function p(u,d,m,y,S){return d===null||d.tag!==7?(d=Vt(m,u.mode,y,S),d.return=u,d):(d=l(d,m),d.return=u,d)}function f(u,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Bl(""+d,u.mode,m),d.return=u,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Pr:return m=vs(d.type,d.key,d.props,null,u.mode,m),m.ref=Un(u,null,d),m.return=u,m;case rn:return d=zl(d,u.mode,m),d.return=u,d;case gt:var y=d._init;return f(u,y(d._payload),m)}if(Dn(d)||Fn(d))return d=Vt(d,u.mode,m,null),d.return=u,d;Vr(u,d)}return null}function x(u,d,m,y){var S=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:o(u,d,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pr:return m.key===S?c(u,d,m,y):null;case rn:return m.key===S?h(u,d,m,y):null;case gt:return S=m._init,x(u,d,S(m._payload),y)}if(Dn(m)||Fn(m))return S!==null?null:p(u,d,m,y,null);Vr(u,m)}return null}function v(u,d,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return u=u.get(m)||null,o(d,u,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pr:return u=u.get(y.key===null?m:y.key)||null,c(d,u,y,S);case rn:return u=u.get(y.key===null?m:y.key)||null,h(d,u,y,S);case gt:var C=y._init;return v(u,d,m,C(y._payload),S)}if(Dn(y)||Fn(y))return u=u.get(m)||null,p(d,u,y,S,null);Vr(d,y)}return null}function N(u,d,m,y){for(var S=null,C=null,E=d,w=d=0,I=null;E!==null&&w<m.length;w++){E.index>w?(I=E,E=null):I=E.sibling;var P=x(u,E,m[w],y);if(P===null){E===null&&(E=I);break}e&&E&&P.alternate===null&&t(u,E),d=a(P,d,w),C===null?S=P:C.sibling=P,C=P,E=I}if(w===m.length)return n(u,E),D&&Bt(u,w),S;if(E===null){for(;w<m.length;w++)E=f(u,m[w],y),E!==null&&(d=a(E,d,w),C===null?S=E:C.sibling=E,C=E);return D&&Bt(u,w),S}for(E=s(u,E);w<m.length;w++)I=v(E,u,w,m[w],y),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?w:I.key),d=a(I,d,w),C===null?S=I:C.sibling=I,C=I);return e&&E.forEach(function(X){return t(u,X)}),D&&Bt(u,w),S}function j(u,d,m,y){var S=Fn(m);if(typeof S!="function")throw Error(T(150));if(m=S.call(m),m==null)throw Error(T(151));for(var C=S=null,E=d,w=d=0,I=null,P=m.next();E!==null&&!P.done;w++,P=m.next()){E.index>w?(I=E,E=null):I=E.sibling;var X=x(u,E,P.value,y);if(X===null){E===null&&(E=I);break}e&&E&&X.alternate===null&&t(u,E),d=a(X,d,w),C===null?S=X:C.sibling=X,C=X,E=I}if(P.done)return n(u,E),D&&Bt(u,w),S;if(E===null){for(;!P.done;w++,P=m.next())P=f(u,P.value,y),P!==null&&(d=a(P,d,w),C===null?S=P:C.sibling=P,C=P);return D&&Bt(u,w),S}for(E=s(u,E);!P.done;w++,P=m.next())P=v(E,u,w,P.value,y),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?w:P.key),d=a(P,d,w),C===null?S=P:C.sibling=P,C=P);return e&&E.forEach(function(ze){return t(u,ze)}),D&&Bt(u,w),S}function g(u,d,m,y){if(typeof m=="object"&&m!==null&&m.type===sn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Pr:e:{for(var S=m.key,C=d;C!==null;){if(C.key===S){if(S=m.type,S===sn){if(C.tag===7){n(u,C.sibling),d=l(C,m.props.children),d.return=u,u=d;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gt&&Ro(S)===C.type){n(u,C.sibling),d=l(C,m.props),d.ref=Un(u,C,m),d.return=u,u=d;break e}n(u,C);break}else t(u,C);C=C.sibling}m.type===sn?(d=Vt(m.props.children,u.mode,y,m.key),d.return=u,u=d):(y=vs(m.type,m.key,m.props,null,u.mode,y),y.ref=Un(u,d,m),y.return=u,u=y)}return i(u);case rn:e:{for(C=m.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(u,d.sibling),d=l(d,m.children||[]),d.return=u,u=d;break e}else{n(u,d);break}else t(u,d);d=d.sibling}d=zl(m,u.mode,y),d.return=u,u=d}return i(u);case gt:return C=m._init,g(u,d,C(m._payload),y)}if(Dn(m))return N(u,d,m,y);if(Fn(m))return j(u,d,m,y);Vr(u,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(u,d.sibling),d=l(d,m),d.return=u,u=d):(n(u,d),d=Bl(m,u.mode,y),d.return=u,u=d),i(u)):n(u,d)}return g}var Cn=Bu(!0),zu=Bu(!1),Os=Pt(null),Ms=null,hn=null,ui=null;function di(){ui=hn=Ms=null}function mi(e){var t=Os.current;V(Os),e._currentValue=t}function ja(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function bn(e,t){Ms=e,ui=hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(ui!==e)if(e={context:e,memoizedValue:t,next:null},hn===null){if(Ms===null)throw Error(T(308));hn=e,Ms.dependencies={lanes:0,firstContext:e}}else hn=hn.next=e;return t}var Ut=null;function hi(e){Ut===null?Ut=[e]:Ut.push(e)}function Hu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,hi(t)):(n.next=l.next,l.next=n),t.interleaved=n,ut(e,s)}function ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yt=!1;function fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,H&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ut(e,n)}return l=s.interleaved,l===null?(t.next=t,hi(s)):(t.next=l.next,l.next=t),s.interleaved=t,ut(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Za(e,n)}}function _o(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,s){var l=e.updateQueue;yt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,h=c.next;c.next=null,i===null?a=h:i.next=h,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=c))}if(a!==null){var f=l.baseState;i=0,p=h=c=null,o=a;do{var x=o.lane,v=o.eventTime;if((s&x)===x){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,j=o;switch(x=t,v=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){f=N.call(v,f,x);break e}f=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,x=typeof N=="function"?N.call(v,f,x):N,x==null)break e;f=J({},f,x);break e;case 2:yt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[o]:x.push(o))}else v={eventTime:v,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=v,c=f):p=p.next=v,i|=x;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;x=o,o=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(p===null&&(c=f),l.baseState=c,l.firstBaseUpdate=h,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Qt|=i,e.lanes=i,e.memoizedState=f}}function Lo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(T(191,l));l.call(s)}}}var Tr={},et=Pt(Tr),xr=Pt(Tr),gr=Pt(Tr);function $t(e){if(e===Tr)throw Error(T(174));return e}function pi(e,t){switch($(gr,t),$(xr,e),$(et,Tr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}V(et),$(et,t)}function kn(){V(et),V(xr),V(gr)}function Uu(e){$t(gr.current);var t=$t(et.current),n=na(t,e.type);t!==n&&($(xr,e),$(et,n))}function xi(e){xr.current===e&&(V(et),V(xr))}var G=Pt(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _l=[];function gi(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var fs=ht.ReactCurrentDispatcher,Ll=ht.ReactCurrentBatchConfig,Kt=0,q=null,re=null,ie=null,zs=!1,tr=!1,yr=0,l0=0;function me(){throw Error(T(321))}function yi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function vi(e,t,n,s,l,a){if(Kt=a,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=e===null||e.memoizedState===null?c0:u0,e=n(s,l),tr){a=0;do{if(tr=!1,yr=0,25<=a)throw Error(T(301));a+=1,ie=re=null,t.updateQueue=null,fs.current=d0,e=n(s,l)}while(tr)}if(fs.current=Hs,t=re!==null&&re.next!==null,Kt=0,ie=re=q=null,zs=!1,t)throw Error(T(300));return e}function bi(){var e=yr!==0;return yr=0,e}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?q.memoizedState=ie=e:ie=ie.next=e,ie}function Be(){if(re===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=ie===null?q.memoizedState:ie.next;if(t!==null)ie=t,re=e;else{if(e===null)throw Error(T(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?q.memoizedState=ie=e:ie=ie.next=e}return ie}function vr(e,t){return typeof t=="function"?t(e):t}function Pl(e){var t=Be(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var s=re,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,h=a;do{var p=h.lane;if((Kt&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),s=h.hasEagerState?h.eagerState:e(s,h.action);else{var f={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(o=c=f,i=s):c=c.next=f,q.lanes|=p,Qt|=p}h=h.next}while(h!==null&&h!==a);c===null?i=s:c.next=o,Xe(s,t.memoizedState)||(je=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,q.lanes|=a,Qt|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=Be(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Xe(a,t.memoizedState)||(je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function $u(){}function Yu(e,t){var n=q,s=Be(),l=t(),a=!Xe(s.memoizedState,l);if(a&&(s.memoizedState=l,je=!0),s=s.queue,Ni(Du.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,br(9,Xu.bind(null,n,s,l,t),void 0,null),oe===null)throw Error(T(349));Kt&30||Vu(n,t,l)}return l}function Vu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xu(e,t,n,s){t.value=n,t.getSnapshot=s,Ku(t)&&Qu(e)}function Du(e,t,n){return n(function(){Ku(t)&&Qu(e)})}function Ku(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function Qu(e){var t=ut(e,1);t!==null&&Ve(t,e,1,-1)}function Po(e){var t=Ge();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},t.queue=e,e=e.dispatch=o0.bind(null,q,e),[t.memoizedState,e]}function br(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Gu(){return Be().memoizedState}function ps(e,t,n,s){var l=Ge();q.flags|=e,l.memoizedState=br(1|t,n,void 0,s===void 0?null:s)}function tl(e,t,n,s){var l=Be();s=s===void 0?null:s;var a=void 0;if(re!==null){var i=re.memoizedState;if(a=i.destroy,s!==null&&yi(s,i.deps)){l.memoizedState=br(t,n,a,s);return}}q.flags|=e,l.memoizedState=br(1|t,n,a,s)}function Oo(e,t){return ps(8390656,8,e,t)}function Ni(e,t){return tl(2048,8,e,t)}function qu(e,t){return tl(4,2,e,t)}function Ju(e,t){return tl(4,4,e,t)}function Zu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ed(e,t,n){return n=n!=null?n.concat([e]):null,tl(4,4,Zu.bind(null,t,e),n)}function ji(){}function td(e,t){var n=Be();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&yi(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function nd(e,t){var n=Be();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&yi(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function rd(e,t,n){return Kt&21?(Xe(n,t)||(n=ou(),q.lanes|=n,Qt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function a0(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var s=Ll.transition;Ll.transition={};try{e(!1),t()}finally{U=n,Ll.transition=s}}function sd(){return Be().memoizedState}function i0(e,t,n){var s=It(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},ld(e))ad(t,n);else if(n=Hu(e,t,n,s),n!==null){var l=ye();Ve(n,e,s,l),id(n,t,s)}}function o0(e,t,n){var s=It(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(ld(e))ad(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,Xe(o,i)){var c=t.interleaved;c===null?(l.next=l,hi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hu(e,t,l,s),n!==null&&(l=ye(),Ve(n,e,s,l),id(n,t,s))}}function ld(e){var t=e.alternate;return e===q||t!==null&&t===q}function ad(e,t){tr=zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function id(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Za(e,n)}}var Hs={readContext:Fe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},c0={readContext:Fe,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ps(4194308,4,Zu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return ps(4,2,e,t)},useMemo:function(e,t){var n=Ge();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ge();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=i0.bind(null,q,e),[s.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:Po,useDebugValue:ji,useDeferredValue:function(e){return Ge().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=a0.bind(null,e[1]),Ge().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=q,l=Ge();if(D){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),oe===null)throw Error(T(349));Kt&30||Vu(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Oo(Du.bind(null,s,a,e),[e]),s.flags|=2048,br(9,Xu.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ge(),t=oe.identifierPrefix;if(D){var n=lt,s=st;n=(s&~(1<<32-Ye(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u0={readContext:Fe,useCallback:td,useContext:Fe,useEffect:Ni,useImperativeHandle:ed,useInsertionEffect:qu,useLayoutEffect:Ju,useMemo:nd,useReducer:Pl,useRef:Gu,useState:function(){return Pl(vr)},useDebugValue:ji,useDeferredValue:function(e){var t=Be();return rd(t,re.memoizedState,e)},useTransition:function(){var e=Pl(vr)[0],t=Be().memoizedState;return[e,t]},useMutableSource:$u,useSyncExternalStore:Yu,useId:sd,unstable_isNewReconciler:!1},d0={readContext:Fe,useCallback:td,useContext:Fe,useEffect:Ni,useImperativeHandle:ed,useInsertionEffect:qu,useLayoutEffect:Ju,useMemo:nd,useReducer:Ol,useRef:Gu,useState:function(){return Ol(vr)},useDebugValue:ji,useDeferredValue:function(e){var t=Be();return re===null?t.memoizedState=e:rd(t,re.memoizedState,e)},useTransition:function(){var e=Ol(vr)[0],t=Be().memoizedState;return[e,t]},useMutableSource:$u,useSyncExternalStore:Yu,useId:sd,unstable_isNewReconciler:!1};function We(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:J({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nl={isMounted:function(e){return(e=e._reactInternals)?en(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ye(),l=It(e),a=at(s,l);a.payload=t,n!=null&&(a.callback=n),t=kt(e,a,l),t!==null&&(Ve(t,e,l,s),hs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ye(),l=It(e),a=at(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=kt(e,a,l),t!==null&&(Ve(t,e,l,s),hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),s=It(e),l=at(n,s);l.tag=2,t!=null&&(l.callback=t),t=kt(e,l,s),t!==null&&(Ve(t,e,s,n),hs(t,e,s))}};function Mo(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!mr(n,s)||!mr(l,a):!0}function od(e,t,n){var s=!1,l=_t,a=t.contextType;return typeof a=="object"&&a!==null?a=Fe(a):(l=Se(t)?Xt:pe.current,s=t.contextTypes,a=(s=s!=null)?Sn(e,l):_t),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function Sa(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},fi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Fe(a):(a=Se(t)?Xt:pe.current,l.context=Sn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&nl.enqueueReplaceState(l,l.state,null),Fs(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Tn(e,t){try{var n="",s=t;do n+=zm(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function cd(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Us||(Us=!0,Oa=s),Ea(e,t)},n}function ud(e,t,n){n=at(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Ea(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof s!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Bo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new m0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=C0.bind(null,e,t,n),t.then(e,e))}function zo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ho(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,kt(n,t,1))),n.lanes|=1),e)}var h0=ht.ReactCurrentOwner,je=!1;function ge(e,t,n,s){t.child=e===null?zu(t,null,n,s):Cn(t,e.child,n,s)}function Wo(e,t,n,s,l){n=n.render;var a=t.ref;return bn(t,l),s=vi(e,t,n,s,a,l),n=bi(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(D&&n&&ii(t),t.flags|=1,ge(e,t,s,l),t.child)}function Uo(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ai(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,dd(e,t,a,s,l)):(e=vs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:mr,n(i,s)&&e.ref===t.ref)return dt(e,t,l)}return t.flags|=1,e=At(a,s),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(mr(a,s)&&e.ref===t.ref)if(je=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,dt(e,t,l)}return Ca(e,t,n,s,l)}function md(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(pn,Ce),Ce|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$(pn,Ce),Ce|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,$(pn,Ce),Ce|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,$(pn,Ce),Ce|=s;return ge(e,t,l,n),t.child}function hd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,s,l){var a=Se(n)?Xt:pe.current;return a=Sn(t,a),bn(t,l),n=vi(e,t,n,s,a,l),s=bi(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(D&&s&&ii(t),t.flags|=1,ge(e,t,n,l),t.child)}function $o(e,t,n,s,l){if(Se(n)){var a=!0;_s(t)}else a=!1;if(bn(t,l),t.stateNode===null)xs(e,t),od(t,n,s),Sa(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,h=n.contextType;typeof h=="object"&&h!==null?h=Fe(h):(h=Se(n)?Xt:pe.current,h=Sn(t,h));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==h)&&Fo(t,i,s,h),yt=!1;var x=t.memoizedState;i.state=x,Fs(t,s,i,l),c=t.memoizedState,o!==s||x!==c||we.current||yt?(typeof p=="function"&&(wa(t,n,p,s),c=t.memoizedState),(o=yt||Mo(t,n,o,s,x,c,h))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=h,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Wu(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:We(t.type,o),i.props=h,f=t.pendingProps,x=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fe(c):(c=Se(n)?Xt:pe.current,c=Sn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||x!==c)&&Fo(t,i,s,c),yt=!1,x=t.memoizedState,i.state=x,Fs(t,s,i,l);var N=t.memoizedState;o!==f||x!==N||we.current||yt?(typeof v=="function"&&(wa(t,n,v,s),N=t.memoizedState),(h=yt||Mo(t,n,h,s,x,N,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,N,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,N,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),i.props=s,i.state=N,i.context=c,s=h):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return ka(e,t,n,s,a,l)}function ka(e,t,n,s,l,a){hd(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&To(t,n,!1),dt(e,t,a);s=t.stateNode,h0.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Cn(t,e.child,null,a),t.child=Cn(t,null,o,a)):ge(e,t,o,a),t.memoizedState=s.state,l&&To(t,n,!0),t.child}function fd(e){var t=e.stateNode;t.pendingContext?ko(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ko(e,t.context,!1),pi(e,t.containerInfo)}function Yo(e,t,n,s,l){return En(),ci(l),t.flags|=256,ge(e,t,n,s),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,n){var s=t.pendingProps,l=G.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),$(G,l&1),e===null)return Na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ll(i,s,0,null),e=Vt(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ia(n),t.memoizedState=Ta,e):wi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return f0(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=At(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=At(o,a):(a=Vt(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ia(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ta,s}return a=e.child,e=a.sibling,s=At(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function wi(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,s){return s!==null&&ci(s),Cn(t,e.child,null,n),e=wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f0(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=Ml(Error(T(422))),Xr(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=ll({mode:"visible",children:s.children},l,0,null),a=Vt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Cn(t,e.child,null,i),t.child.memoizedState=Ia(i),t.memoizedState=Ta,a);if(!(t.mode&1))return Xr(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(T(419)),s=Ml(a,s,void 0),Xr(e,t,i,s)}if(o=(i&e.childLanes)!==0,je||o){if(s=oe,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ut(e,l),Ve(s,e,l,-1))}return Ii(),s=Ml(Error(T(421))),Xr(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=k0.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,ke=Ct(l.nextSibling),Te=t,D=!0,$e=null,e!==null&&(Le[Pe++]=st,Le[Pe++]=lt,Le[Pe++]=Dt,st=e.id,lt=e.overflow,Dt=t),t=wi(t,s.children),t.flags|=4096,t)}function Vo(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ja(e.return,t,n)}function Fl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function xd(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(ge(e,t,s.children,n),s=G.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($(G,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Fl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Bs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Fl(t,!0,n,null,a);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=At(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=At(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p0(e,t,n){switch(t.tag){case 3:fd(t),En();break;case 5:Uu(t);break;case 1:Se(t.type)&&_s(t);break;case 4:pi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;$(Os,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?pd(e,t,n):($(G,G.current&1),e=dt(e,t,n),e!==null?e.sibling:null);$(G,G.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return xd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),$(G,G.current),s)break;return null;case 22:case 23:return t.lanes=0,md(e,t,n)}return dt(e,t,n)}var gd,Aa,yd,vd;gd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Aa=function(){};yd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,$t(et.current);var a=null;switch(n){case"input":l=Jl(e,l),s=Jl(e,s),a=[];break;case"select":l=J({},l,{value:void 0}),s=J({},s,{value:void 0}),a=[];break;case"textarea":l=ta(e,l),s=ta(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=As)}ra(n,s);var i;n=null;for(h in l)if(!s.hasOwnProperty(h)&&l.hasOwnProperty(h)&&l[h]!=null)if(h==="style"){var o=l[h];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(lr.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in s){var c=s[h];if(o=l!=null?l[h]:void 0,s.hasOwnProperty(h)&&c!==o&&(c!=null||o!=null))if(h==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(lr.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Y("scroll",e),a||o===c||(a=[])):(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};vd=function(e,t,n,s){n!==s&&(t.flags|=4)};function $n(e,t){if(!D)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function x0(e,t,n){var s=t.pendingProps;switch(oi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return Se(t.type)&&Rs(),he(t),null;case 3:return s=t.stateNode,kn(),V(we),V(pe),gi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$e!==null&&(Ba($e),$e=null))),Aa(e,t),he(t),null;case 5:xi(t);var l=$t(gr.current);if(n=t.type,e!==null&&t.stateNode!=null)yd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(T(166));return he(t),null}if(e=$t(et.current),Yr(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Je]=t,s[pr]=a,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",s),Y("close",s);break;case"iframe":case"object":case"embed":Y("load",s);break;case"video":case"audio":for(l=0;l<Qn.length;l++)Y(Qn[l],s);break;case"source":Y("error",s);break;case"img":case"image":case"link":Y("error",s),Y("load",s);break;case"details":Y("toggle",s);break;case"input":Zi(s,a),Y("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Y("invalid",s);break;case"textarea":to(s,a),Y("invalid",s)}ra(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&$r(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$r(s.textContent,o,e),l=["children",""+o]):lr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Y("scroll",s)}switch(n){case"input":Or(s),eo(s,a,!0);break;case"textarea":Or(s),no(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=As)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Je]=t,e[pr]=s,gd(e,t,!1,!1),t.stateNode=e;e:{switch(i=sa(n,s),n){case"dialog":Y("cancel",e),Y("close",e),l=s;break;case"iframe":case"object":case"embed":Y("load",e),l=s;break;case"video":case"audio":for(l=0;l<Qn.length;l++)Y(Qn[l],e);l=s;break;case"source":Y("error",e),l=s;break;case"img":case"image":case"link":Y("error",e),Y("load",e),l=s;break;case"details":Y("toggle",e),l=s;break;case"input":Zi(e,s),l=Jl(e,s),Y("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=J({},s,{value:void 0}),Y("invalid",e);break;case"textarea":to(e,s),l=ta(e,s),Y("invalid",e);break;default:l=s}ra(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Gc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ar(e,c):typeof c=="number"&&ar(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Y("scroll",e):c!=null&&Da(e,a,c,i))}switch(n){case"input":Or(e),eo(e,s,!1);break;case"textarea":Or(e),no(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Rt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?xn(e,!!s.multiple,a,!1):s.defaultValue!=null&&xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(T(166));if(n=$t(gr.current),$t(et.current),Yr(t)){if(s=t.stateNode,n=t.memoizedProps,s[Je]=t,(a=s.nodeValue!==n)&&(e=Te,e!==null))switch(e.tag){case 3:$r(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$r(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Je]=t,t.stateNode=s}return he(t),null;case 13:if(V(G),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(D&&ke!==null&&t.mode&1&&!(t.flags&128))Fu(),En(),t.flags|=98560,a=!1;else if(a=Yr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[Je]=t}else En(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),a=!1}else $e!==null&&(Ba($e),$e=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?le===0&&(le=3):Ii())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return kn(),Aa(e,t),e===null&&hr(t.stateNode.containerInfo),he(t),null;case 10:return mi(t.type._context),he(t),null;case 17:return Se(t.type)&&Rs(),he(t),null;case 19:if(V(G),a=t.memoizedState,a===null)return he(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)$n(a,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bs(e),i!==null){for(t.flags|=128,$n(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $(G,G.current&1|2),t.child}e=e.sibling}a.tail!==null&&te()>In&&(t.flags|=128,s=!0,$n(a,!1),t.lanes=4194304)}else{if(!s)if(e=Bs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$n(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!D)return he(t),null}else 2*te()-a.renderingStartTime>In&&n!==1073741824&&(t.flags|=128,s=!0,$n(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,n=G.current,$(G,s?n&1|2:n&1),t):(he(t),null);case 22:case 23:return Ti(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ce&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function g0(e,t){switch(oi(t),t.tag){case 1:return Se(t.type)&&Rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),V(we),V(pe),gi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xi(t),null;case 13:if(V(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(G),null;case 4:return kn(),null;case 10:return mi(t.type._context),null;case 22:case 23:return Ti(),null;case 24:return null;default:return null}}var Dr=!1,fe=!1,y0=typeof WeakSet=="function"?WeakSet:Set,R=null;function fn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Z(e,t,s)}else n.current=null}function Ra(e,t,n){try{n()}catch(s){Z(e,t,s)}}var Xo=!1;function v0(e,t){if(fa=ks,e=Su(),ai(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,h=0,p=0,f=e,x=null;t:for(;;){for(var v;f!==n||l!==0&&f.nodeType!==3||(o=i+l),f!==a||s!==0&&f.nodeType!==3||(c=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)x=f,f=v;for(;;){if(f===e)break t;if(x===n&&++h===l&&(o=i),x===a&&++p===s&&(c=i),(v=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pa={focusedElem:e,selectionRange:n},ks=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,g=N.memoizedState,u=t.stateNode,d=u.getSnapshotBeforeUpdate(t.elementType===t.type?j:We(t.type,j),g);u.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(y){Z(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return N=Xo,Xo=!1,N}function nr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ra(t,n,a)}l=l.next}while(l!==s)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function _a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Je],delete t[pr],delete t[ya],delete t[t0],delete t[n0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nd(e){return e.tag===5||e.tag===3||e.tag===4}function Do(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=As));else if(s!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}function Pa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Pa(e,t,n),e=e.sibling;e!==null;)Pa(e,t,n),e=e.sibling}var ce=null,Ue=!1;function pt(e,t,n){for(n=n.child;n!==null;)jd(e,t,n),n=n.sibling}function jd(e,t,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Qs,n)}catch{}switch(n.tag){case 5:fe||fn(n,t);case 6:var s=ce,l=Ue;ce=null,pt(e,t,n),ce=s,Ue=l,ce!==null&&(Ue?(e=ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(Ue?(e=ce,n=n.stateNode,e.nodeType===8?Al(e.parentNode,n):e.nodeType===1&&Al(e,n),ur(e)):Al(ce,n.stateNode));break;case 4:s=ce,l=Ue,ce=n.stateNode.containerInfo,Ue=!0,pt(e,t,n),ce=s,Ue=l;break;case 0:case 11:case 14:case 15:if(!fe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ra(n,t,i),l=l.next}while(l!==s)}pt(e,t,n);break;case 1:if(!fe&&(fn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Z(n,t,o)}pt(e,t,n);break;case 21:pt(e,t,n);break;case 22:n.mode&1?(fe=(s=fe)||n.memoizedState!==null,pt(e,t,n),fe=s):pt(e,t,n);break;default:pt(e,t,n)}}function Ko(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y0),t.forEach(function(s){var l=T0.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function He(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ce=o.stateNode,Ue=!1;break e;case 3:ce=o.stateNode.containerInfo,Ue=!0;break e;case 4:ce=o.stateNode.containerInfo,Ue=!0;break e}o=o.return}if(ce===null)throw Error(T(160));jd(a,i,l),ce=null,Ue=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(h){Z(l,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wd(t,e),t=t.sibling}function wd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(He(t,e),Qe(e),s&4){try{nr(3,e,e.return),rl(3,e)}catch(j){Z(e,e.return,j)}try{nr(5,e,e.return)}catch(j){Z(e,e.return,j)}}break;case 1:He(t,e),Qe(e),s&512&&n!==null&&fn(n,n.return);break;case 5:if(He(t,e),Qe(e),s&512&&n!==null&&fn(n,n.return),e.flags&32){var l=e.stateNode;try{ar(l,"")}catch(j){Z(e,e.return,j)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Vc(l,a),sa(o,i);var h=sa(o,a);for(i=0;i<c.length;i+=2){var p=c[i],f=c[i+1];p==="style"?Gc(l,f):p==="dangerouslySetInnerHTML"?Kc(l,f):p==="children"?ar(l,f):Da(l,p,f,h)}switch(o){case"input":Zl(l,a);break;case"textarea":Xc(l,a);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?xn(l,!!a.multiple,v,!1):x!==!!a.multiple&&(a.defaultValue!=null?xn(l,!!a.multiple,a.defaultValue,!0):xn(l,!!a.multiple,a.multiple?[]:"",!1))}l[pr]=a}catch(j){Z(e,e.return,j)}}break;case 6:if(He(t,e),Qe(e),s&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){Z(e,e.return,j)}}break;case 3:if(He(t,e),Qe(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(j){Z(e,e.return,j)}break;case 4:He(t,e),Qe(e);break;case 13:He(t,e),Qe(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ci=te())),s&4&&Ko(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(fe=(h=fe)||p,He(t,e),fe=h):He(t,e),Qe(e),s&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(R=e,p=e.child;p!==null;){for(f=R=p;R!==null;){switch(x=R,v=x.child,x.tag){case 0:case 11:case 14:case 15:nr(4,x,x.return);break;case 1:fn(x,x.return);var N=x.stateNode;if(typeof N.componentWillUnmount=="function"){s=x,n=x.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){Z(s,n,j)}}break;case 5:fn(x,x.return);break;case 22:if(x.memoizedState!==null){Go(f);continue}}v!==null?(v.return=x,R=v):Go(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,h?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Qc("display",i))}catch(j){Z(e,e.return,j)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(j){Z(e,e.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:He(t,e),Qe(e),s&4&&Ko(e);break;case 21:break;default:He(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nd(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(ar(l,""),s.flags&=-33);var a=Do(e);Pa(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Do(e);La(e,o,i);break;default:throw Error(T(161))}}catch(c){Z(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b0(e,t,n){R=e,Sd(e)}function Sd(e,t,n){for(var s=(e.mode&1)!==0;R!==null;){var l=R,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Dr;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||fe;o=Dr;var h=fe;if(Dr=i,(fe=c)&&!h)for(R=l;R!==null;)i=R,c=i.child,i.tag===22&&i.memoizedState!==null?qo(l):c!==null?(c.return=i,R=c):qo(l);for(;a!==null;)R=a,Sd(a),a=a.sibling;R=l,Dr=o,fe=h}Qo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,R=a):Qo(e)}}function Qo(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||rl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:We(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lo(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ur(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}fe||t.flags&512&&_a(t)}catch(x){Z(t,t.return,x)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Go(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function qo(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(c){Z(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){Z(t,l,c)}}var a=t.return;try{_a(t)}catch(c){Z(t,a,c)}break;case 5:var i=t.return;try{_a(t)}catch(c){Z(t,i,c)}}}catch(c){Z(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var N0=Math.ceil,Ws=ht.ReactCurrentDispatcher,Si=ht.ReactCurrentOwner,Me=ht.ReactCurrentBatchConfig,H=0,oe=null,ne=null,ue=0,Ce=0,pn=Pt(0),le=0,Nr=null,Qt=0,sl=0,Ei=0,rr=null,Ne=null,Ci=0,In=1/0,nt=null,Us=!1,Oa=null,Tt=null,Kr=!1,jt=null,$s=0,sr=0,Ma=null,gs=-1,ys=0;function ye(){return H&6?te():gs!==-1?gs:gs=te()}function It(e){return e.mode&1?H&2&&ue!==0?ue&-ue:s0.transition!==null?(ys===0&&(ys=ou()),ys):(e=U,e!==0||(e=window.event,e=e===void 0?16:pu(e.type)),e):1}function Ve(e,t,n,s){if(50<sr)throw sr=0,Ma=null,Error(T(185));Er(e,n,s),(!(H&2)||e!==oe)&&(e===oe&&(!(H&2)&&(sl|=n),le===4&&bt(e,ue)),Ee(e,s),n===1&&H===0&&!(t.mode&1)&&(In=te()+500,el&&Ot()))}function Ee(e,t){var n=e.callbackNode;sh(e,t);var s=Cs(e,e===oe?ue:0);if(s===0)n!==null&&lo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&lo(n),t===1)e.tag===0?r0(Jo.bind(null,e)):Pu(Jo.bind(null,e)),Zh(function(){!(H&6)&&Ot()}),n=null;else{switch(cu(s)){case 1:n=Ja;break;case 4:n=au;break;case 16:n=Es;break;case 536870912:n=iu;break;default:n=Es}n=_d(n,Ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ed(e,t){if(gs=-1,ys=0,H&6)throw Error(T(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var s=Cs(e,e===oe?ue:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ys(e,s);else{t=s;var l=H;H|=2;var a=kd();(oe!==e||ue!==t)&&(nt=null,In=te()+500,Yt(e,t));do try{S0();break}catch(o){Cd(e,o)}while(!0);di(),Ws.current=a,H=l,ne!==null?t=0:(oe=null,ue=0,t=le)}if(t!==0){if(t===2&&(l=ca(e),l!==0&&(s=l,t=Fa(e,l))),t===1)throw n=Nr,Yt(e,0),bt(e,s),Ee(e,te()),n;if(t===6)bt(e,s);else{if(l=e.current.alternate,!(s&30)&&!j0(l)&&(t=Ys(e,s),t===2&&(a=ca(e),a!==0&&(s=a,t=Fa(e,a))),t===1))throw n=Nr,Yt(e,0),bt(e,s),Ee(e,te()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(T(345));case 2:zt(e,Ne,nt);break;case 3:if(bt(e,s),(s&130023424)===s&&(t=Ci+500-te(),10<t)){if(Cs(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ye(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ga(zt.bind(null,e,Ne,nt),t);break}zt(e,Ne,nt);break;case 4:if(bt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-Ye(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=te()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*N0(s/1960))-s,10<s){e.timeoutHandle=ga(zt.bind(null,e,Ne,nt),s);break}zt(e,Ne,nt);break;case 5:zt(e,Ne,nt);break;default:throw Error(T(329))}}}return Ee(e,te()),e.callbackNode===n?Ed.bind(null,e):null}function Fa(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&(Yt(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&Ba(t)),e}function Ba(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function j0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!Xe(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bt(e,t){for(t&=~Ei,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ye(t),s=1<<n;e[n]=-1,t&=~s}}function Jo(e){if(H&6)throw Error(T(327));Nn();var t=Cs(e,0);if(!(t&1))return Ee(e,te()),null;var n=Ys(e,t);if(e.tag!==0&&n===2){var s=ca(e);s!==0&&(t=s,n=Fa(e,s))}if(n===1)throw n=Nr,Yt(e,0),bt(e,t),Ee(e,te()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zt(e,Ne,nt),Ee(e,te()),null}function ki(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(In=te()+500,el&&Ot())}}function Gt(e){jt!==null&&jt.tag===0&&!(H&6)&&Nn();var t=H;H|=1;var n=Me.transition,s=U;try{if(Me.transition=null,U=1,e)return e()}finally{U=s,Me.transition=n,H=t,!(H&6)&&Ot()}}function Ti(){Ce=pn.current,V(pn)}function Yt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jh(n)),ne!==null)for(n=ne.return;n!==null;){var s=n;switch(oi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Rs();break;case 3:kn(),V(we),V(pe),gi();break;case 5:xi(s);break;case 4:kn();break;case 13:V(G);break;case 19:V(G);break;case 10:mi(s.type._context);break;case 22:case 23:Ti()}n=n.return}if(oe=e,ne=e=At(e.current,null),ue=Ce=t,le=0,Nr=null,Ei=sl=Qt=0,Ne=rr=null,Ut!==null){for(t=0;t<Ut.length;t++)if(n=Ut[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}Ut=null}return e}function Cd(e,t){do{var n=ne;try{if(di(),fs.current=Hs,zs){for(var s=q.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}zs=!1}if(Kt=0,ie=re=q=null,tr=!1,yr=0,Si.current=null,n===null||n.return===null){le=1,Nr=t,ne=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=ue,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=o,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=zo(i);if(v!==null){v.flags&=-257,Ho(v,i,o,a,t),v.mode&1&&Bo(a,h,t),t=v,c=h;var N=t.updateQueue;if(N===null){var j=new Set;j.add(c),t.updateQueue=j}else N.add(c);break e}else{if(!(t&1)){Bo(a,h,t),Ii();break e}c=Error(T(426))}}else if(D&&o.mode&1){var g=zo(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Ho(g,i,o,a,t),ci(Tn(c,o));break e}}a=c=Tn(c,o),le!==4&&(le=2),rr===null?rr=[a]:rr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var u=cd(a,c,t);_o(a,u);break e;case 1:o=c;var d=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Tt===null||!Tt.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=ud(a,o,t);_o(a,y);break e}}a=a.return}while(a!==null)}Id(n)}catch(S){t=S,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function kd(){var e=Ws.current;return Ws.current=Hs,e===null?Hs:e}function Ii(){(le===0||le===3||le===2)&&(le=4),oe===null||!(Qt&268435455)&&!(sl&268435455)||bt(oe,ue)}function Ys(e,t){var n=H;H|=2;var s=kd();(oe!==e||ue!==t)&&(nt=null,Yt(e,t));do try{w0();break}catch(l){Cd(e,l)}while(!0);if(di(),H=n,Ws.current=s,ne!==null)throw Error(T(261));return oe=null,ue=0,le}function w0(){for(;ne!==null;)Td(ne)}function S0(){for(;ne!==null&&!Qm();)Td(ne)}function Td(e){var t=Rd(e.alternate,e,Ce);e.memoizedProps=e.pendingProps,t===null?Id(e):ne=t,Si.current=null}function Id(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=g0(n,t),n!==null){n.flags&=32767,ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ne=null;return}}else if(n=x0(n,t,Ce),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);le===0&&(le=5)}function zt(e,t,n){var s=U,l=Me.transition;try{Me.transition=null,U=1,E0(e,t,n,s)}finally{Me.transition=l,U=s}return null}function E0(e,t,n,s){do Nn();while(jt!==null);if(H&6)throw Error(T(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(lh(e,a),e===oe&&(ne=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kr||(Kr=!0,_d(Es,function(){return Nn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Me.transition,Me.transition=null;var i=U;U=1;var o=H;H|=4,Si.current=null,v0(e,n),wd(n,e),Vh(pa),ks=!!fa,pa=fa=null,e.current=n,b0(n),Gm(),H=o,U=i,Me.transition=a}else e.current=n;if(Kr&&(Kr=!1,jt=e,$s=l),a=e.pendingLanes,a===0&&(Tt=null),Zm(n.stateNode),Ee(e,te()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Us)throw Us=!1,e=Oa,Oa=null,e;return $s&1&&e.tag!==0&&Nn(),a=e.pendingLanes,a&1?e===Ma?sr++:(sr=0,Ma=e):sr=0,Ot(),null}function Nn(){if(jt!==null){var e=cu($s),t=Me.transition,n=U;try{if(Me.transition=null,U=16>e?16:e,jt===null)var s=!1;else{if(e=jt,jt=null,$s=0,H&6)throw Error(T(331));var l=H;for(H|=4,R=e.current;R!==null;){var a=R,i=a.child;if(R.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var h=o[c];for(R=h;R!==null;){var p=R;switch(p.tag){case 0:case 11:case 15:nr(8,p,a)}var f=p.child;if(f!==null)f.return=p,R=f;else for(;R!==null;){p=R;var x=p.sibling,v=p.return;if(bd(p),p===h){R=null;break}if(x!==null){x.return=v,R=x;break}R=v}}}var N=a.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var g=j.sibling;j.sibling=null,j=g}while(j!==null)}}R=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,R=i;else e:for(;R!==null;){if(a=R,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nr(9,a,a.return)}var u=a.sibling;if(u!==null){u.return=a.return,R=u;break e}R=a.return}}var d=e.current;for(R=d;R!==null;){i=R;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,R=m;else e:for(i=d;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rl(9,o)}}catch(S){Z(o,o.return,S)}if(o===i){R=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,R=y;break e}R=o.return}}if(H=l,Ot(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Qs,e)}catch{}s=!0}return s}finally{U=n,Me.transition=t}}return!1}function Zo(e,t,n){t=Tn(n,t),t=cd(e,t,1),e=kt(e,t,1),t=ye(),e!==null&&(Er(e,1,t),Ee(e,t))}function Z(e,t,n){if(e.tag===3)Zo(e,e,n);else for(;t!==null;){if(t.tag===3){Zo(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Tt===null||!Tt.has(s))){e=Tn(n,e),e=ud(t,e,1),t=kt(t,e,1),e=ye(),t!==null&&(Er(t,1,e),Ee(t,e));break}}t=t.return}}function C0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(ue&n)===n&&(le===4||le===3&&(ue&130023424)===ue&&500>te()-Ci?Yt(e,0):Ei|=n),Ee(e,t)}function Ad(e,t){t===0&&(e.mode&1?(t=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):t=1);var n=ye();e=ut(e,t),e!==null&&(Er(e,t,n),Ee(e,n))}function k0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ad(e,n)}function T0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(t),Ad(e,n)}var Rd;Rd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||we.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,p0(e,t,n);je=!!(e.flags&131072)}else je=!1,D&&t.flags&1048576&&Ou(t,Ps,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xs(e,t),e=t.pendingProps;var l=Sn(t,pe.current);bn(t,n),l=vi(null,t,s,e,l,n);var a=bi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(s)?(a=!0,_s(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fi(t),l.updater=nl,t.stateNode=l,l._reactInternals=t,Sa(t,s,e,n),t=ka(null,t,s,!0,a,n)):(t.tag=0,D&&a&&ii(t),ge(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(xs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=A0(s),e=We(s,e),l){case 0:t=Ca(null,t,s,e,n);break e;case 1:t=$o(null,t,s,e,n);break e;case 11:t=Wo(null,t,s,e,n);break e;case 14:t=Uo(null,t,s,We(s.type,e),n);break e}throw Error(T(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),Ca(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),$o(e,t,s,l,n);case 3:e:{if(fd(t),e===null)throw Error(T(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Wu(e,t),Fs(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Tn(Error(T(423)),t),t=Yo(e,t,s,n,l);break e}else if(s!==l){l=Tn(Error(T(424)),t),t=Yo(e,t,s,n,l);break e}else for(ke=Ct(t.stateNode.containerInfo.firstChild),Te=t,D=!0,$e=null,n=zu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(En(),s===l){t=dt(e,t,n);break e}ge(e,t,s,n)}t=t.child}return t;case 5:return Uu(t),e===null&&Na(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,xa(s,l)?i=null:a!==null&&xa(s,a)&&(t.flags|=32),hd(e,t),ge(e,t,i,n),t.child;case 6:return e===null&&Na(t),null;case 13:return pd(e,t,n);case 4:return pi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Cn(t,null,s,n):ge(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),Wo(e,t,s,l,n);case 7:return ge(e,t,t.pendingProps,n),t.child;case 8:return ge(e,t,t.pendingProps.children,n),t.child;case 12:return ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,$(Os,s._currentValue),s._currentValue=i,a!==null)if(Xe(a.value,i)){if(a.children===l.children&&!we.current){t=dt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=at(-1,n&-n),c.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ja(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(T(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),ja(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ge(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,bn(t,n),l=Fe(l),s=s(l),t.flags|=1,ge(e,t,s,n),t.child;case 14:return s=t.type,l=We(s,t.pendingProps),l=We(s.type,l),Uo(e,t,s,l,n);case 15:return dd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),xs(e,t),t.tag=1,Se(s)?(e=!0,_s(t)):e=!1,bn(t,n),od(t,s,l),Sa(t,s,l,n),ka(null,t,s,!0,e,n);case 19:return xd(e,t,n);case 22:return md(e,t,n)}throw Error(T(156,t.tag))};function _d(e,t){return lu(e,t)}function I0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,s){return new I0(e,t,n,s)}function Ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A0(e){if(typeof e=="function")return Ai(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qa)return 11;if(e===Ga)return 14}return 2}function At(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vs(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Ai(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case sn:return Vt(n.children,l,a,t);case Ka:i=8,l|=8;break;case Kl:return e=Oe(12,n,t,l|2),e.elementType=Kl,e.lanes=a,e;case Ql:return e=Oe(13,n,t,l),e.elementType=Ql,e.lanes=a,e;case Gl:return e=Oe(19,n,t,l),e.elementType=Gl,e.lanes=a,e;case Uc:return ll(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hc:i=10;break e;case Wc:i=9;break e;case Qa:i=11;break e;case Ga:i=14;break e;case gt:i=16,s=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Oe(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function Vt(e,t,n,s){return e=Oe(7,e,s,t),e.lanes=n,e}function ll(e,t,n,s){return e=Oe(22,e,s,t),e.elementType=Uc,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R0(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ri(e,t,n,s,l,a,i,o,c){return e=new R0(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Oe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fi(a),e}function _0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ld(e){if(!e)return _t;e=e._reactInternals;e:{if(en(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Se(n))return Lu(e,n,t)}return t}function Pd(e,t,n,s,l,a,i,o,c){return e=Ri(n,s,!0,e,l,a,i,o,c),e.context=Ld(null),n=e.current,s=ye(),l=It(n),a=at(s,l),a.callback=t??null,kt(n,a,l),e.current.lanes=l,Er(e,l,s),Ee(e,s),e}function al(e,t,n,s){var l=t.current,a=ye(),i=It(l);return n=Ld(n),t.context===null?t.context=n:t.pendingContext=n,t=at(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=kt(l,t,i),e!==null&&(Ve(e,l,i,a),hs(e,l,i)),i}function Vs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _i(e,t){ec(e,t),(e=e.alternate)&&ec(e,t)}function L0(){return null}var Od=typeof reportError=="function"?reportError:function(e){console.error(e)};function Li(e){this._internalRoot=e}il.prototype.render=Li.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));al(e,t,null,null)};il.prototype.unmount=Li.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gt(function(){al(null,e,null,null)}),t[ct]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=mu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vt.length&&t!==0&&t<vt[n].priority;n++);vt.splice(n,0,e),n===0&&fu(e)}};function Pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tc(){}function P0(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var h=Vs(i);a.call(h)}}var i=Pd(t,s,e,0,null,!1,!1,"",tc);return e._reactRootContainer=i,e[ct]=i.current,hr(e.nodeType===8?e.parentNode:e),Gt(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var h=Vs(c);o.call(h)}}var c=Ri(e,0,!1,null,null,!1,!1,"",tc);return e._reactRootContainer=c,e[ct]=c.current,hr(e.nodeType===8?e.parentNode:e),Gt(function(){al(t,c,n,s)}),c}function cl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=Vs(i);o.call(c)}}al(t,i,e,l)}else i=P0(n,t,e,l,s);return Vs(i)}uu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kn(t.pendingLanes);n!==0&&(Za(t,n|1),Ee(t,te()),!(H&6)&&(In=te()+500,Ot()))}break;case 13:Gt(function(){var s=ut(e,1);if(s!==null){var l=ye();Ve(s,e,1,l)}}),_i(e,1)}};ei=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var n=ye();Ve(t,e,134217728,n)}_i(e,134217728)}};du=function(e){if(e.tag===13){var t=It(e),n=ut(e,t);if(n!==null){var s=ye();Ve(n,e,t,s)}_i(e,t)}};mu=function(){return U};hu=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};aa=function(e,t,n){switch(t){case"input":if(Zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Zs(s);if(!l)throw Error(T(90));Yc(s),Zl(s,l)}}}break;case"textarea":Xc(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};Zc=ki;eu=Gt;var O0={usingClientEntryPoint:!1,Events:[kr,cn,Zs,qc,Jc,ki]},Yn={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M0={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qr.isDisabled&&Qr.supportsFiber)try{Qs=Qr.inject(M0),Ze=Qr}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;Ae.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pi(t))throw Error(T(200));return _0(e,t,null,n)};Ae.createRoot=function(e,t){if(!Pi(e))throw Error(T(299));var n=!1,s="",l=Od;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ri(e,1,!1,null,null,n,!1,s,l),e[ct]=t.current,hr(e.nodeType===8?e.parentNode:e),new Li(t)};Ae.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e};Ae.flushSync=function(e){return Gt(e)};Ae.hydrate=function(e,t,n){if(!ol(t))throw Error(T(200));return cl(null,e,t,!0,n)};Ae.hydrateRoot=function(e,t,n){if(!Pi(e))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Od;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Pd(t,null,e,1,n??null,l,!1,a,i),e[ct]=t.current,hr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new il(t)};Ae.render=function(e,t,n){if(!ol(t))throw Error(T(200));return cl(null,e,t,!1,n)};Ae.unmountComponentAtNode=function(e){if(!ol(e))throw Error(T(40));return e._reactRootContainer?(Gt(function(){cl(null,null,e,!1,function(){e._reactRootContainer=null,e[ct]=null})}),!0):!1};Ae.unstable_batchedUpdates=ki;Ae.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ol(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return cl(e,t,n,!1,s)};Ae.version="18.3.1-next-f1338f8080-20240426";function Md(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Md)}catch(e){console.error(e)}}Md(),Mc.exports=Ae;var F0=Mc.exports,nc=F0;Xl.createRoot=nc.createRoot,Xl.hydrateRoot=nc.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rc="popstate";function B0(e={}){function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return za("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:jr(l)}return H0(t,n,null,e)}function K(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function De(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z0(){return Math.random().toString(36).substring(2,10)}function sc(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pn(t):t,state:n,key:t&&t.key||s||z0()}}function jr({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function H0(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o="POP",c=null,h=p();h==null&&(h=0,i.replaceState({...i.state,idx:h},""));function p(){return(i.state||{idx:null}).idx}function f(){o="POP";let g=p(),u=g==null?null:g-h;h=g,c&&c({action:o,location:j.location,delta:u})}function x(g,u){o="PUSH";let d=za(j.location,g,u);h=p()+1;let m=sc(d,h),y=j.createHref(d);try{i.pushState(m,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;l.location.assign(y)}a&&c&&c({action:o,location:j.location,delta:1})}function v(g,u){o="REPLACE";let d=za(j.location,g,u);h=p();let m=sc(d,h),y=j.createHref(d);i.replaceState(m,"",y),a&&c&&c({action:o,location:j.location,delta:0})}function N(g){return W0(g)}let j={get action(){return o},get location(){return e(l,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(rc,f),c=g,()=>{l.removeEventListener(rc,f),c=null}},createHref(g){return t(l,g)},createURL:N,encodeLocation(g){let u=N(g);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:x,replace:v,go(g){return i.go(g)}};return j}function W0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),K(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:jr(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Fd(e,t,n="/"){return U0(e,t,n,!1)}function U0(e,t,n,s){let l=typeof t=="string"?Pn(t):t,a=mt(l.pathname||"/",n);if(a==null)return null;let i=Bd(e);$0(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let h=ef(a);o=J0(i[c],h,s)}return o}function Bd(e,t=[],n=[],s="",l=!1){let a=(i,o,c=l,h)=>{let p={relativePath:h===void 0?i.path||"":h,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&c)return;K(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let f=it([s,p.relativePath]),x=n.concat(p);i.children&&i.children.length>0&&(K(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Bd(i.children,t,x,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:G0(f,i.index),routesMeta:x})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let h of zd(i.path))a(i,o,!0,h)}),t}function zd(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=zd(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function $0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:q0(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Y0=/^:[\w-]+$/,V0=3,X0=2,D0=1,K0=10,Q0=-2,lc=e=>e==="*";function G0(e,t){let n=e.split("/"),s=n.length;return n.some(lc)&&(s+=Q0),t&&(s+=X0),n.filter(l=>!lc(l)).reduce((l,a)=>l+(Y0.test(a)?V0:a===""?D0:K0),s)}function q0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function J0(e,t,n=!1){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],h=o===s.length-1,p=a==="/"?t:t.slice(a.length)||"/",f=Xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),x=c.route;if(!f&&h&&n&&!s[s.length-1].route.index&&(f=Xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(l,f.params),i.push({params:l,pathname:it([a,f.pathname]),pathnameBase:sf(it([a,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(a=it([a,f.pathnameBase]))}return i}function Xs(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Z0(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:f},x)=>{if(p==="*"){let N=o[x]||"";i=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const v=o[x];return f&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:i,pattern:e}}function Z0(e,t=!1,n=!0){De(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function ef(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return De(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var tf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function nf(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?Pn(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=ac(n.substring(1),"/"):a=ac(n,t)):a=t,{pathname:a,search:lf(s),hash:af(l)}}function ac(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Hl(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rf(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oi(e){let t=rf(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Mi(e,t,n,s=!1){let l;typeof e=="string"?l=Pn(e):(l={...e},K(!l.pathname||!l.pathname.includes("?"),Hl("?","pathname","search",l)),K(!l.pathname||!l.pathname.includes("#"),Hl("#","pathname","hash",l)),K(!l.search||!l.search.includes("#"),Hl("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let f=t.length-1;if(!s&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),f-=1;l.pathname=x.join("/")}o=f>=0?t[f]:"/"}let c=nf(l,o),h=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var it=e=>e.join("/").replace(/\/\/+/g,"/"),sf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lf=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,af=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,of=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uf(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wd(e,t){let n=e;if(typeof n!="string"||!tf.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(Hd)try{let a=new URL(window.location.href),i=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=mt(i.pathname,t);i.origin===a.origin&&o!=null?n=o+i.search+i.hash:l=!0}catch{De(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ud=["POST","PUT","PATCH","DELETE"];new Set(Ud);var df=["GET",...Ud];new Set(df);var On=b.createContext(null);On.displayName="DataRouter";var ul=b.createContext(null);ul.displayName="DataRouterState";var mf=b.createContext(!1),$d=b.createContext({isTransitioning:!1});$d.displayName="ViewTransition";var hf=b.createContext(new Map);hf.displayName="Fetchers";var ff=b.createContext(null);ff.displayName="Await";var _e=b.createContext(null);_e.displayName="Navigation";var Ir=b.createContext(null);Ir.displayName="Location";var Ke=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ke.displayName="Route";var Fi=b.createContext(null);Fi.displayName="RouteError";var Yd="REACT_ROUTER_ERROR",pf="REDIRECT",xf="ROUTE_ERROR_RESPONSE";function gf(e){if(e.startsWith(`${Yd}:${pf}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function yf(e){if(e.startsWith(`${Yd}:${xf}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new of(t.status,t.statusText,t.data)}catch{}}function vf(e,{relative:t}={}){K(Mn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=b.useContext(_e),{hash:l,pathname:a,search:i}=Ar(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:it([n,a])),s.createHref({pathname:o,search:i,hash:l})}function Mn(){return b.useContext(Ir)!=null}function tt(){return K(Mn(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ir).location}var Vd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xd(e){b.useContext(_e).static||b.useLayoutEffect(e)}function Bi(){let{isDataRoute:e}=b.useContext(Ke);return e?Lf():bf()}function bf(){K(Mn(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(On),{basename:t,navigator:n}=b.useContext(_e),{matches:s}=b.useContext(Ke),{pathname:l}=tt(),a=JSON.stringify(Oi(s)),i=b.useRef(!1);return Xd(()=>{i.current=!0}),b.useCallback((c,h={})=>{if(De(i.current,Vd),!i.current)return;if(typeof c=="number"){n.go(c);return}let p=Mi(c,JSON.parse(a),l,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:it([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,l,e])}b.createContext(null);function Nf(){let{matches:e}=b.useContext(Ke),t=e[e.length-1];return t?t.params:{}}function Ar(e,{relative:t}={}){let{matches:n}=b.useContext(Ke),{pathname:s}=tt(),l=JSON.stringify(Oi(n));return b.useMemo(()=>Mi(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function jf(e,t){return Dd(e,t)}function Dd(e,t,n,s,l){var d;K(Mn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(_e),{matches:i}=b.useContext(Ke),o=i[i.length-1],c=o?o.params:{},h=o?o.pathname:"/",p=o?o.pathnameBase:"/",f=o&&o.route;{let m=f&&f.path||"";Qd(h,!f||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let x=tt(),v;if(t){let m=typeof t=="string"?Pn(t):t;K(p==="/"||((d=m.pathname)==null?void 0:d.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${m.pathname}" was given in the \`location\` prop.`),v=m}else v=x;let N=v.pathname||"/",j=N;if(p!=="/"){let m=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=Fd(e,{pathname:j});De(f||g!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),De(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let u=kf(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:it([p,a.encodeLocation?a.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?p:it([p,a.encodeLocation?a.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),i,n,s,l);return t&&u?b.createElement(Ir.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},u):u}function wf(){let e=_f(),t=cf(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:l},n):null,i)}var Sf=b.createElement(wf,null),Kd=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=yf(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(Ke.Provider,{value:this.props.routeContext},b.createElement(Fi.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(Ef,{error:e},t):t}};Kd.contextType=mf;var Wl=new WeakMap;function Ef({children:e,error:t}){let{basename:n}=b.useContext(_e);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=gf(t.digest);if(s){let l=Wl.get(t);if(l)throw l;let a=Wd(s.location,n);if(Hd&&!Wl.get(t))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Wl.set(t,i),i}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function Cf({routeContext:e,match:t,children:n}){let s=b.useContext(On);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ke.Provider,{value:e},n)}function kf(e,t=[],n=null,s=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);K(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let o=!1,c=-1;if(n)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:x,errors:v}=n,N=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||N){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let h=n&&s?(p,f)=>{var x,v;s(p,{location:n.location,params:((v=(x=n.matches)==null?void 0:x[0])==null?void 0:v.params)??{},unstable_pattern:uf(n.matches),errorInfo:f})}:void 0;return a.reduceRight((p,f,x)=>{let v,N=!1,j=null,g=null;n&&(v=i&&f.route.id?i[f.route.id]:void 0,j=f.route.errorElement||Sf,o&&(c<0&&x===0?(Qd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,g=null):c===x&&(N=!0,g=f.route.hydrateFallbackElement||null)));let u=t.concat(a.slice(0,x+1)),d=()=>{let m;return v?m=j:N?m=g:f.route.Component?m=b.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=p,b.createElement(Cf,{match:f,routeContext:{outlet:p,matches:u,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?b.createElement(Kd,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0},onError:h}):d()},null)}function zi(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tf(e){let t=b.useContext(On);return K(t,zi(e)),t}function If(e){let t=b.useContext(ul);return K(t,zi(e)),t}function Af(e){let t=b.useContext(Ke);return K(t,zi(e)),t}function Hi(e){let t=Af(e),n=t.matches[t.matches.length-1];return K(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Rf(){return Hi("useRouteId")}function _f(){var s;let e=b.useContext(Fi),t=If("useRouteError"),n=Hi("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function Lf(){let{router:e}=Tf("useNavigate"),t=Hi("useNavigate"),n=b.useRef(!1);return Xd(()=>{n.current=!0}),b.useCallback(async(l,a={})=>{De(n.current,Vd),n.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...a}))},[e,t])}var ic={};function Qd(e,t,n){!t&&!ic[e]&&(ic[e]=!0,De(!1,n))}b.memo(Pf);function Pf({routes:e,future:t,state:n,onError:s}){return Dd(e,void 0,n,s,t)}function Of({to:e,replace:t,state:n,relative:s}){K(Mn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=b.useContext(_e);De(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(Ke),{pathname:i}=tt(),o=Bi(),c=Mi(e,Oi(a),i,s==="path"),h=JSON.stringify(c);return b.useEffect(()=>{o(JSON.parse(h),{replace:t,state:n,relative:s})},[o,h,s,t,n]),null}function Ht(e){K(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mf({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:a=!1,unstable_useTransitions:i}){K(!Mn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:o,navigator:l,static:a,unstable_useTransitions:i,future:{}}),[o,l,a,i]);typeof n=="string"&&(n=Pn(n));let{pathname:h="/",search:p="",hash:f="",state:x=null,key:v="default"}=n,N=b.useMemo(()=>{let j=mt(h,o);return j==null?null:{location:{pathname:j,search:p,hash:f,state:x,key:v},navigationType:s}},[o,h,p,f,x,v,s]);return De(N!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:b.createElement(_e.Provider,{value:c},b.createElement(Ir.Provider,{children:t,value:N}))}function Ff({children:e,location:t}){return jf(Ha(e),t)}function Ha(e,t=[]){let n=[];return b.Children.forEach(e,(s,l)=>{if(!b.isValidElement(s))return;let a=[...t,l];if(s.type===b.Fragment){n.push.apply(n,Ha(s.props.children,a));return}K(s.type===Ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),K(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Ha(s.props.children,a)),n.push(i)}),n}var bs="get",Ns="application/x-www-form-urlencoded";function dl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Bf(e){return dl(e)&&e.tagName.toLowerCase()==="button"}function zf(e){return dl(e)&&e.tagName.toLowerCase()==="form"}function Hf(e){return dl(e)&&e.tagName.toLowerCase()==="input"}function Wf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uf(e,t){return e.button===0&&(!t||t==="_self")&&!Wf(e)}var Gr=null;function $f(){if(Gr===null)try{new FormData(document.createElement("form"),0),Gr=!1}catch{Gr=!0}return Gr}var Yf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ul(e){return e!=null&&!Yf.has(e)?(De(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ns}"`),null):e}function Vf(e,t){let n,s,l,a,i;if(zf(e)){let o=e.getAttribute("action");s=o?mt(o,t):null,n=e.getAttribute("method")||bs,l=Ul(e.getAttribute("enctype"))||Ns,a=new FormData(e)}else if(Bf(e)||Hf(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?mt(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||bs,l=Ul(e.getAttribute("formenctype"))||Ul(o.getAttribute("enctype"))||Ns,a=new FormData(o,e),!$f()){let{name:h,type:p,value:f}=e;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,f)}}else{if(dl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bs,s=null,l=Ns,i=e}return a&&l==="text/plain"&&(i=a,a=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xf(e,t,n,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:t&&mt(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Df(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kf(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qf(e,t,n){let s=await Promise.all(e.map(async l=>{let a=t.routes[l.route.id];if(a){let i=await Df(a,n);return i.links?i.links():[]}return[]}));return Zf(s.flat(1).filter(Kf).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function oc(e,t,n,s,l,a){let i=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,o=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,h)=>i(c,h)||o(c,h)):a==="data"?t.filter((c,h)=>{var f;let p=s.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(i(c,h)||o(c,h))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Gf(e,t,{includeHydrateFallback:n}={}){return qf(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let a=[l.module];return l.clientActionModule&&(a=a.concat(l.clientActionModule)),l.clientLoaderModule&&(a=a.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(a=a.concat(l.hydrateFallbackModule)),l.imports&&(a=a.concat(l.imports)),a}).flat(1))}function qf(e){return[...new Set(e)]}function Jf(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function Zf(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let a=JSON.stringify(Jf(l));return n.has(a)||(n.add(a),s.push({key:a,link:l})),s},[])}function Gd(){let e=b.useContext(On);return Wi(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ep(){let e=b.useContext(ul);return Wi(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ui=b.createContext(void 0);Ui.displayName="FrameworkContext";function qd(){let e=b.useContext(Ui);return Wi(e,"You must render this element inside a <HydratedRouter> element"),e}function tp(e,t){let n=b.useContext(Ui),[s,l]=b.useState(!1),[a,i]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=t,x=b.useRef(null);b.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let j=u=>{u.forEach(d=>{i(d.isIntersecting)})},g=new IntersectionObserver(j,{threshold:.5});return x.current&&g.observe(x.current),()=>{g.disconnect()}}},[e]),b.useEffect(()=>{if(s){let j=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(j)}}},[s]);let v=()=>{l(!0)},N=()=>{l(!1),i(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:Vn(o,v),onBlur:Vn(c,N),onMouseEnter:Vn(h,v),onMouseLeave:Vn(p,N),onTouchStart:Vn(f,v)}]:[!1,x,{}]}function Vn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function np({page:e,...t}){let{router:n}=Gd(),s=b.useMemo(()=>Fd(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?b.createElement(sp,{page:e,matches:s,...t}):null}function rp(e){let{manifest:t,routeModules:n}=qd(),[s,l]=b.useState([]);return b.useEffect(()=>{let a=!1;return Qf(e,t,n).then(i=>{a||l(i)}),()=>{a=!0}},[e,t,n]),s}function sp({page:e,matches:t,...n}){let s=tt(),{future:l,manifest:a,routeModules:i}=qd(),{basename:o}=Gd(),{loaderData:c,matches:h}=ep(),p=b.useMemo(()=>oc(e,t,h,a,s,"data"),[e,t,h,a,s]),f=b.useMemo(()=>oc(e,t,h,a,s,"assets"),[e,t,h,a,s]),x=b.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,g=!1;if(t.forEach(d=>{var y;let m=a.routes[d.route.id];!m||!m.hasLoader||(!p.some(S=>S.route.id===d.route.id)&&d.route.id in c&&((y=i[d.route.id])!=null&&y.shouldRevalidate)||m.hasClientLoader?g=!0:j.add(d.route.id))}),j.size===0)return[];let u=Xf(e,o,l.unstable_trailingSlashAwareDataRequests,"data");return g&&j.size>0&&u.searchParams.set("_routes",t.filter(d=>j.has(d.route.id)).map(d=>d.route.id).join(",")),[u.pathname+u.search]},[o,l.unstable_trailingSlashAwareDataRequests,c,s,a,p,t,e,i]),v=b.useMemo(()=>Gf(f,a),[f,a]),N=rp(f);return b.createElement(b.Fragment,null,x.map(j=>b.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),v.map(j=>b.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),N.map(({key:j,link:g})=>b.createElement("link",{key:j,nonce:n.nonce,...g,crossOrigin:g.crossOrigin??n.crossOrigin})))}function lp(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ap&&(window.__reactRouterVersion="7.13.0")}catch{}function ip({basename:e,children:t,unstable_useTransitions:n,window:s}){let l=b.useRef();l.current==null&&(l.current=B0({window:s,v5Compat:!0}));let a=l.current,[i,o]=b.useState({action:a.action,location:a.location}),c=b.useCallback(h=>{n===!1?o(h):b.startTransition(()=>o(h))},[n]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(Mf,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a,unstable_useTransitions:n})}var Jd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=b.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:a,replace:i,state:o,target:c,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x,...v},N){let{basename:j,unstable_useTransitions:g}=b.useContext(_e),u=typeof h=="string"&&Jd.test(h),d=Wd(h,j);h=d.to;let m=vf(h,{relative:l}),[y,S,C]=tp(s,v),E=dp(h,{replace:i,state:o,target:c,preventScrollReset:p,relative:l,viewTransition:f,unstable_defaultShouldRevalidate:x,unstable_useTransitions:g});function w(P){t&&t(P),P.defaultPrevented||E(P)}let I=b.createElement("a",{...v,...C,href:d.absoluteURL||m,onClick:d.isExternal||a?t:w,ref:lp(N,S),target:c,"data-discover":!u&&n==="render"?"true":void 0});return y&&!u?b.createElement(b.Fragment,null,I,b.createElement(np,{page:m})):I});se.displayName="Link";var op=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:a,to:i,viewTransition:o,children:c,...h},p){let f=Ar(i,{relative:h.relative}),x=tt(),v=b.useContext(ul),{navigator:N,basename:j}=b.useContext(_e),g=v!=null&&xp(f)&&o===!0,u=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,d=x.pathname,m=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(d=d.toLowerCase(),m=m?m.toLowerCase():null,u=u.toLowerCase()),m&&j&&(m=mt(m,j)||m);const y=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let S=d===u||!l&&d.startsWith(u)&&d.charAt(y)==="/",C=m!=null&&(m===u||!l&&m.startsWith(u)&&m.charAt(u.length)==="/"),E={isActive:S,isPending:C,isTransitioning:g},w=S?t:void 0,I;typeof s=="function"?I=s(E):I=[s,S?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(E):a;return b.createElement(se,{...h,"aria-current":w,className:I,ref:p,style:P,to:i,viewTransition:o},typeof c=="function"?c(E):c)});op.displayName="NavLink";var cp=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:a,method:i=bs,action:o,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x,...v},N)=>{let{unstable_useTransitions:j}=b.useContext(_e),g=fp(),u=pp(o,{relative:h}),d=i.toLowerCase()==="get"?"get":"post",m=typeof o=="string"&&Jd.test(o),y=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let C=S.nativeEvent.submitter,E=(C==null?void 0:C.getAttribute("formmethod"))||i,w=()=>g(C||S.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:l,state:a,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x});j&&n!==!1?b.startTransition(()=>w()):w()};return b.createElement("form",{ref:N,method:d,action:u,onSubmit:s?c:y,...v,"data-discover":!m&&e==="render"?"true":void 0})});cp.displayName="Form";function up(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zd(e){let t=b.useContext(On);return K(t,up(e)),t}function dp(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let h=Bi(),p=tt(),f=Ar(e,{relative:a});return b.useCallback(x=>{if(Uf(x,t)){x.preventDefault();let v=n!==void 0?n:jr(p)===jr(f),N=()=>h(e,{replace:v,state:s,preventScrollReset:l,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o});c?b.startTransition(()=>N()):N()}},[p,h,f,n,s,t,e,l,a,i,o,c])}var mp=0,hp=()=>`__${String(++mp)}__`;function fp(){let{router:e}=Zd("useSubmit"),{basename:t}=b.useContext(_e),n=Rf(),s=e.fetch,l=e.navigate;return b.useCallback(async(a,i={})=>{let{action:o,method:c,encType:h,formData:p,body:f}=Vf(a,t);if(i.navigate===!1){let x=i.fetcherKey||hp();await s(x,n,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:p,body:f,formMethod:i.method||c,formEncType:i.encType||h,flushSync:i.flushSync})}else await l(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:p,body:f,formMethod:i.method||c,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,l,t,n])}function pp(e,{relative:t}={}){let{basename:n}=b.useContext(_e),s=b.useContext(Ke);K(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),a={...Ar(e||".",{relative:t})},i=tt();if(e==null){a.search=i.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(p=>p==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let p=o.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:it([n,a.pathname])),jr(a)}function xp(e,{relative:t}={}){let n=b.useContext($d);K(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zd("useViewTransitionState"),l=Ar(e,{relative:t});if(!n.isTransitioning)return!1;let a=mt(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=mt(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xs(l.pathname,i)!=null||Xs(l.pathname,a)!=null}const gp=()=>{const[e,t]=b.useState(!1),n=tt();if(n.pathname==="/annual-tax"||n.pathname==="/monthly-withholding")return null;const l=[{path:"/",label:"Calculator"},{path:"/articles",label:"Articles"},{path:"/faq",label:"FAQ"}],a=i=>i==="/"?n.pathname==="/":n.pathname.startsWith(i);return r.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx(se,{to:"/",className:"flex items-center gap-2",children:r.jsx("span",{className:"text-xl font-bold text-blue-500",children:"Thai Tax Calculator"})}),r.jsx("nav",{className:"hidden md:flex items-center gap-6",children:l.map(i=>r.jsx(se,{to:i.path,className:`font-medium transition-colors ${a(i.path)?"text-blue-500":"text-gray-600 hover:text-blue-500"}`,children:i.label},i.path))}),r.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-900",onClick:()=>t(!e),"aria-label":e?"Close menu":"Open menu","aria-expanded":e,children:e?r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&r.jsx("nav",{className:"md:hidden py-4 border-t border-gray-100",children:r.jsx("div",{className:"flex flex-col gap-2",children:l.map(i=>r.jsx(se,{to:i.path,onClick:()=>t(!1),className:`py-2 px-4 rounded-lg font-medium transition-colors ${a(i.path)?"bg-blue-50 text-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:i.label},i.path))})})]})})},yp=()=>{const e=tt();return e.pathname==="/annual-tax"||e.pathname==="/monthly-withholding"?null:r.jsx("footer",{className:"bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("div",{className:"text-gray-600 text-sm",children:[new Date().getFullYear()," Thai Tax Calculator. For informational purposes only."]}),r.jsxs("nav",{className:"flex gap-6 text-sm",children:[r.jsx(se,{to:"/",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Calculator"}),r.jsx(se,{to:"/articles",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Articles"}),r.jsx(se,{to:"/faq",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"FAQ"})]})]}),r.jsx("div",{className:"mt-4 text-center text-xs text-gray-500",children:"This calculator provides estimates only. Consult a qualified tax professional for official advice."})]})})},vp=({children:e})=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[r.jsx(gp,{}),r.jsx("main",{className:"flex-grow",children:e}),r.jsx(yp,{})]}),bp=[{value:"basic",label:"Basic Estimate",description:"Quick calculation without deductions",icon:""},{value:"detailed",label:"Detailed Estimate",description:"Include deductions for a more accurate result",icon:""}],Np=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{t({...e,estimateType:l}),n()};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Choose your estimate type"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You can choose a quick estimate without deductions, or a more detailed estimate where deductions are included."}),r.jsx("div",{className:"space-y-4",children:bp.map(l=>r.jsx("button",{onClick:()=>s(l.value),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.estimateType===l.value?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.estimateType===l.value,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]})},l.value))})]})},jp=[{value:"fixed",label:"Fixed Monthly Income",description:"Same salary every month",icon:""},{value:"variable",label:"Variable Monthly Income",description:"Different income each month (bonuses, allowances, etc.)",icon:""}],wp=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{t({...e,incomeType:l}),n()};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"How do you receive your income?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Choose based on whether your monthly income is consistent or varies throughout the year."}),r.jsx("div",{className:"space-y-4",children:jp.map(l=>r.jsx("button",{onClick:()=>s(l.value),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.incomeType===l.value?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.incomeType===l.value,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]})},l.value))})]})};function cc(){return{employmentType:"freelancer",daysInThailand:0,isThaiResident:!1,hasForeignIncome:!1,foreignIncomeEntries:[],thaiIncomeEntries:[],includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0,expenseMethod:"auto_compare",actualExpenses:[]}}function $i(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function em(){return{businessName:"",businessCategory:"service_business",registrationType:"unregistered",yearsInOperation:0,hasPhysicalLocation:!1,numberOfEmployees:0}}function uc(){return{employmentType:"sole_proprietor",daysInThailand:0,isThaiResident:!1,hasForeignIncome:!1,foreignIncomeEntries:[],thaiIncomeEntries:[],includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0,expenseMethod:"auto_compare",actualExpenses:[],businessProfile:em(),hasBusinessExpenses:!1,hasInventory:!1,usesSimplifiedBookkeeping:!0}}function tm(){return{companyName:"",companyType:"limited_company",ownershipPercentage:100,isDirector:!0,hasOtherShareholders:!1}}function dc(){return{employmentType:"company_owner",companyInfo:tm(),salaryFromCompany:0,directorFees:0,otherCompanyBenefits:0,hasDividends:!1,dividendEntries:[],companyProfitAfterTax:0,salaryWithholdingTax:0,taxWithheld:0,includeSocialSecurity:!1,socialSecurityContribution:0,companySocialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0}}function Sp(){return`div-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const L={STANDARD_DEDUCTION_RATE:.5,MAX_STANDARD_DEDUCTION:1e5,MAX_SOCIAL_SECURITY:10500,PERSONAL_ALLOWANCE:6e4,SPOUSE_ALLOWANCE:6e4,SENIOR_ALLOWANCE:19e4,CHILD_ALLOWANCE_BASE:3e4,CHILD_ALLOWANCE_BONUS:3e4,CHILD_BONUS_BIRTH_YEAR:2018,PARENT_ALLOWANCE:3e4,MAX_PARENTS:4,MAX_LIFE_INSURANCE:1e5,MAX_HEALTH_INSURANCE:25e3,MAX_PENSION_FUND:5e5,MAX_PROVIDENT_FUND:5e5,MAX_RMF:5e5,MAX_SSF:2e5,MAX_DONATION_PERCENT:.1},k={STANDARD_DEDUCTION_RATE:.5,MAX_STANDARD_DEDUCTION:1e5,MAX_SOCIAL_SECURITY:9e3,PERSONAL_ALLOWANCE:6e4,SPOUSE_ALLOWANCE:6e4,SENIOR_ALLOWANCE:19e4,CHILD_ALLOWANCE_BASE:3e4,CHILD_ALLOWANCE_BONUS:3e4,PARENT_ALLOWANCE:3e4,MAX_PARENTS:4,MAX_LIFE_INSURANCE:1e5,MAX_HEALTH_INSURANCE:25e3,MAX_PENSION_FUND:5e5,MAX_PROVIDENT_FUND:5e5,MAX_RMF:5e5,MAX_SSF:2e5,MAX_DONATION_PERCENT:.1,CHILD_BONUS_BIRTH_YEAR:2018},jn=[{upTo:15e4,rate:0,label:"0-150k"},{upTo:3e5,rate:.05,label:"150k-300k"},{upTo:5e5,rate:.1,label:"300k-500k"},{upTo:75e4,rate:.15,label:"500k-750k"},{upTo:1e6,rate:.2,label:"750k-1M"},{upTo:2e6,rate:.25,label:"1M-2M"},{upTo:5e6,rate:.3,label:"2M-5M"},{upTo:1/0,rate:.35,label:"5M+"}],Ep=({formData:e,setFormData:t})=>{const[n,s]=b.useState(e.monthlySalary?e.monthlySalary.toString():""),[l,a]=b.useState(e.annualBonus?e.annualBonus.toString():""),[i,o]=b.useState(e.annualOtherIncome?e.annualOtherIncome.toString():""),[c,h]=b.useState(e.includeSocialSecurity||!1),[p,f]=b.useState(e.socialSecurityContribution?e.socialSecurityContribution.toString():"");b.useEffect(()=>{const u=parseFloat(n.replace(/,/g,""))||0,d=parseFloat(l.replace(/,/g,""))||0,m=parseFloat(i.replace(/,/g,""))||0,y=c?Math.min(parseFloat(p.replace(/,/g,""))||0,L.MAX_SOCIAL_SECURITY):0;t({...e,monthlySalary:u,annualBonus:d,annualOtherIncome:m,includeSocialSecurity:c,socialSecurityContribution:y})},[n,l,i,c,p]);const x=u=>{const d=u.target.value.replace(/[^0-9]/g,"");s(d)},v=u=>{const d=u.target.value.replace(/[^0-9]/g,"");a(d)},N=u=>{const d=u.target.value.replace(/[^0-9]/g,"");o(d)},j=u=>{const d=u.target.value.replace(/[^0-9]/g,"");(parseInt(d)||0)<=L.MAX_SOCIAL_SECURITY&&f(d)},g=u=>{const d=parseInt(u.replace(/,/g,""))||0;return d>0?d.toLocaleString():""};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Assessable Income"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your income details below. Include your regular monthly salary, plus any bonus or other income you expect to receive this year."}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary per month (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:g(n),onChange:x,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bonus per year (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:g(l),onChange:v,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Expected annual bonus amount"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other income per year (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:g(i),onChange:N,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Housing allowance, overtime, commissions, etc."})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c,onChange:u=>h(u.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Include Social Security Contributions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Social security contributions are tax-deductible up to 10,500 per year (2026 limit)."})]})]}),c&&r.jsxs("div",{className:"mt-4 ml-8",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated annual contribution (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:g(p),onChange:j,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",L.MAX_SOCIAL_SECURITY.toLocaleString()," per year"]})]})]})]})},Cp=["January","February","March","April","May","June","July","August","September","October","November","December"],kp=()=>({salary:0,bonus:0,housingAllowance:0,otherIncome:0}),Tp=({formData:e,setFormData:t})=>{var j;const[n,s]=b.useState(((j=e.variableIncome)==null?void 0:j.length)===12?e.variableIncome:Array(12).fill(null).map(()=>kp())),[l,a]=b.useState(e.includeSocialSecurity||!1),[i,o]=b.useState(e.socialSecurityContribution?e.socialSecurityContribution.toString():""),[c,h]=b.useState(null);b.useEffect(()=>{const g=l?Math.min(parseFloat(i.replace(/,/g,""))||0,L.MAX_SOCIAL_SECURITY):0;t({...e,variableIncome:n,includeSocialSecurity:l,socialSecurityContribution:g})},[n,l,i]);const p=(g,u,d)=>{const m=parseFloat(d.replace(/[^0-9]/g,""))||0,y=[...n];y[g]={...y[g],[u]:m},s(y)},f=g=>{const u=g.target.value.replace(/[^0-9]/g,"");(parseInt(u)||0)<=L.MAX_SOCIAL_SECURITY&&o(u)},x=g=>g.salary+g.bonus+g.housingAllowance+g.otherIncome,v=()=>n.reduce((g,u)=>g+x(u),0),N=g=>g>0?g.toLocaleString():"";return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Enter your monthly income"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your income for each month. All taxable income including bonuses and housing allowances by the company should be included."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Total Annual Income"}),r.jsxs("span",{className:"text-xl font-bold text-blue-700",children:["",v().toLocaleString()]})]})}),r.jsx("div",{className:"space-y-2 mb-6 max-h-80 overflow-y-auto",children:Cp.map((g,u)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>h(c===u?null:u),className:"w-full px-4 py-3 flex justify-between items-center bg-gray-50 hover:bg-gray-100",children:[r.jsx("span",{className:"font-medium text-gray-800",children:g}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-gray-600",children:["",x(n[u]).toLocaleString()]}),r.jsx("span",{className:"text-gray-400",children:c===u?"":""})]})]}),c===u&&r.jsxs("div",{className:"p-4 space-y-3 bg-white",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Salary"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:N(n[u].salary),onChange:d=>p(u,"salary",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Bonus"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:N(n[u].bonus),onChange:d=>p(u,"bonus",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Housing Allowance"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:N(n[u].housingAllowance),onChange:d=>p(u,"housingAllowance",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Other Taxable Income"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:""}),r.jsx("input",{type:"text",value:N(n[u].otherIncome),onChange:d=>p(u,"otherIncome",d.target.value),className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]})]},g))}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l,onChange:g=>a(g.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Include Social Security Contributions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Social security contributions are tax-deductible up to 10,500 per year (2026 limit)."})]})]}),l&&r.jsxs("div",{className:"mt-4 ml-8",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated annual contribution (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",value:i?parseInt(i).toLocaleString():"",onChange:f,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",L.MAX_SOCIAL_SECURITY.toLocaleString()," per year"]})]})]})]})},Ip=({formData:e,setFormData:t,nextStep:n})=>{const[s,l]=b.useState(e.maritalStatus==="married"),a=o=>{o==="single"?(t({...e,maritalStatus:o,spouseHasNoIncome:!1}),l(!1),n()):(t({...e,maritalStatus:o}),l(!0))},i=o=>{t({...e,spouseHasNoIncome:o})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"What is your marital status?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your marital status affects your tax allowances."}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>a("single"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="single"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="single",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Single"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Not married or legally separated"})]})]})}),r.jsx("button",{onClick:()=>a("married"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="married"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="married",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Married"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Legally married"})]})]})})]}),s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-blue-700",children:["You can claim a ",L.SPOUSE_ALLOWANCE.toLocaleString()," spouse allowance only if your spouse has no income during the tax year."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.spouseHasNoIncome,onChange:o=>i(o.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"My spouse has no income"})]})]})]})},qr=new Date().getFullYear(),Ap=({formData:e,setFormData:t,showValidationErrors:n=!1})=>{const[s,l]=b.useState(e.childrenEligibilityConfirmed||e.children.length>0),[a,i]=b.useState(e.parentsEligibilityConfirmed||e.numberOfParents>0),o=u=>qr-u,c=u=>{const d=o(u);return d>=20&&d<=25},h=(u,d)=>{let m=L.CHILD_ALLOWANCE_BASE;return d>=1&&u.birthYear>=L.CHILD_BONUS_BIRTH_YEAR&&(m+=L.CHILD_ALLOWANCE_BONUS),m},p=()=>e.children.reduce((u,d,m)=>u+h(d,m),0),f=()=>{const u=[...e.children,{birthYear:qr-10,isStudent:!1}];t({...e,children:u})},x=()=>{if(e.children.length>0){const u=e.children.slice(0,-1);t({...e,children:u})}},v=(u,d)=>{const m=[...e.children];m[u]={...m[u],birthYear:d},c(d)||(m[u].isStudent=!1),t({...e,children:m})},N=(u,d)=>{const m=[...e.children];m[u]={...m[u],isStudent:d},t({...e,children:m})},j=u=>{const d=Math.max(0,Math.min(L.MAX_PARENTS,e.numberOfParents+u));t({...e,numberOfParents:d})},g=L.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?L.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?L.SENIOR_ALLOWANCE:0)+p()+e.numberOfParents*L.PARENT_ALLOWANCE;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Dependents & Allowances"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your dependents to calculate your allowances."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Children"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Under 20 years old, OR under 25 and studying, OR legally incompetent"}),r.jsx("li",{children:" Earning less than 30,000 per year"})]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&s&&e.children.length===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:s,onChange:u=>{l(u.target.checked),u.target.checked?t({...e,childrenEligibilityConfirmed:!0}):t({...e,children:[],childrenEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have children who meet these criteria"})]}),n&&s&&e.children.length===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one child or uncheck the box above."}),s&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of children:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:x,disabled:e.children.length===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove child",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.children.length}),r.jsx("button",{onClick:f,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100","aria-label":"Add child",children:"+"})]})]}),e.children.map((u,d)=>{const m=o(u.birthYear),y=c(u.birthYear),S=h(u,d),C=d>=1&&u.birthYear>=L.CHILD_BONUS_BIRTH_YEAR;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:["Child ",d+1]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",S.toLocaleString(),C&&r.jsx("span",{className:"text-xs text-green-500 ml-1",children:"(+30k bonus)"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Birth year:"}),r.jsx("input",{type:"number",value:u.birthYear,onChange:E=>v(d,parseInt(E.target.value)||qr),min:1900,max:qr,className:"w-24 px-2 py-1 border border-gray-300 rounded text-center"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Age: ",m]})]}),y&&r.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u.isStudent||!1,onChange:E=>N(d,E.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Currently studying (required for ages 20-25)"})]})]},d)}),e.children.length>0&&r.jsxs("div",{className:"text-right text-sm text-gray-600",children:["Total children allowance: ",r.jsxs("span",{className:"font-medium text-green-600",children:["",p().toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Parents"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Parent is 60 years or older"}),r.jsx("li",{children:" Parent's annual income is less than 30,000"}),r.jsxs("li",{children:[" You can claim up to ",L.MAX_PARENTS," parents (yours and spouse's)"]})]}),r.jsxs("p",{className:"text-blue-600 mt-2",children:["Allowance: ",L.PARENT_ALLOWANCE.toLocaleString()," per eligible parent"]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&a&&e.numberOfParents===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:a,onChange:u=>{i(u.target.checked),u.target.checked?t({...e,parentsEligibilityConfirmed:!0}):t({...e,numberOfParents:0,parentsEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have parents who meet these criteria"})]}),n&&a&&e.numberOfParents===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one parent or uncheck the box above."}),a&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of parents:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(-1),disabled:e.numberOfParents===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove parent",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.numberOfParents}),r.jsx("button",{onClick:()=>j(1),disabled:e.numberOfParents>=L.MAX_PARENTS,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add parent",children:"+"})]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",(e.numberOfParents*L.PARENT_ALLOWANCE).toLocaleString()]})]})})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Total Allowances"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal:"}),r.jsxs("span",{children:["",L.PERSONAL_ALLOWANCE.toLocaleString()]})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse:"}),r.jsxs("span",{children:["",L.SPOUSE_ALLOWANCE.toLocaleString()]})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior (65+):"}),r.jsxs("span",{children:["",L.SENIOR_ALLOWANCE.toLocaleString()]})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Children:"}),r.jsxs("span",{children:["",p().toLocaleString()]})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parents:"}),r.jsxs("span",{children:["",(e.numberOfParents*L.PARENT_ALLOWANCE).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-green-300 pt-1 mt-2",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",g.toLocaleString()]})]})]})]})]})},Rp=({formData:e,setFormData:t,showValidationErrors:n=!1})=>{const l=(()=>{var f;return e.incomeType==="variable"&&((f=e.variableIncome)==null?void 0:f.length)===12?e.variableIncome.reduce((x,v)=>x+v.salary+v.bonus+v.housingAllowance+v.otherIncome,0):e.monthlySalary*12})(),a=b.useMemo(()=>[{key:"lifeInsurance",hasKey:"hasLifeInsurance",label:"Life Insurance",description:"Life insurance premiums paid during the year",maxValue:L.MAX_LIFE_INSURANCE},{key:"healthInsurance",hasKey:"hasHealthInsurance",label:"Health Insurance",description:"Health insurance premiums paid during the year",maxValue:L.MAX_HEALTH_INSURANCE},{key:"pensionFund",hasKey:"hasPensionFund",label:"Pension Fund",description:"Government pension fund contributions",maxValue:L.MAX_PENSION_FUND},{key:"providentFund",hasKey:"hasProvidentFund",label:"Provident Fund",description:"Private provident fund contributions",maxValue:L.MAX_PROVIDENT_FUND},{key:"rmf",hasKey:"hasRMF",label:"RMF (Retirement Mutual Fund)",description:"RMF investments for retirement",maxValue:L.MAX_RMF},{key:"ssf",hasKey:"hasSSF",label:"SSF (Super Savings Fund)",description:"SSF long-term investments",maxValue:L.MAX_SSF},{key:"donations",hasKey:"hasDonations",label:"Charitable Donations",description:"Donations to approved charities (limited to 10% of income)",maxValue:Math.floor(l*L.MAX_DONATION_PERCENT)}],[l]),[i,o]=b.useState({hasLifeInsurance:e.hasLifeInsurance||!1,lifeInsurance:e.lifeInsurance||0,hasHealthInsurance:e.hasHealthInsurance||!1,healthInsurance:e.healthInsurance||0,hasPensionFund:e.hasPensionFund||!1,pensionFund:e.pensionFund||0,hasProvidentFund:e.hasProvidentFund||!1,providentFund:e.providentFund||0,hasRMF:e.hasRMF||!1,rmf:e.rmf||0,hasSSF:e.hasSSF||!1,ssf:e.ssf||0,hasDonations:e.hasDonations||!1,donations:e.donations||0});b.useEffect(()=>{t({...e,...i})},[i]);const c=(f,x)=>{o({...i,[f]:x})},h=(f,x,v)=>{const N=Math.min(parseFloat(x.replace(/[^0-9]/g,""))||0,v);o({...i,[f]:N})},p=f=>f>0?f.toLocaleString():"";return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Tax Deductions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select any deductions you qualify for. These will reduce your taxable income."}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Taxpayers aged 65 or older are entitled to an additional ",L.SENIOR_ALLOWANCE.toLocaleString()," allowance."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.isAge65OrOlder,onChange:f=>t({...e,isAge65OrOlder:f.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-amber-500 focus:ring-amber-500"}),r.jsx("span",{className:"text-gray-800",children:"I am 65 years or older"})]})]}),r.jsx("div",{className:"space-y-4 mb-6",children:a.map(f=>{const x=i[f.hasKey],v=i[f.key],N=n&&x&&v===0;return r.jsxs("div",{className:`border rounded-lg p-4 ${N?"border-red-500":"border-gray-200"}`,children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x,onChange:j=>c(f.hasKey,j.target.checked),className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium text-gray-800",children:f.label}),r.jsx("p",{className:"text-sm text-gray-500",children:f.description})]})]}),x&&r.jsxs("div",{className:"mt-3 ml-8",children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Amount (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""}),r.jsx("input",{type:"text",value:p(v),onChange:j=>h(f.key,j.target.value,f.maxValue),className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 ${N?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-500"}`,placeholder:"0"})]}),N?r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please enter an amount or uncheck this deduction."}):r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",f.maxValue.toLocaleString()," per year"]})]})]},f.key)})})]})};function Yi(e){if(e<=0)return 0;let t=0,n=e,s=0;for(const l of jn){if(n<=0)break;const a=l.upTo-s,i=Math.min(n,a);t+=i*l.rate,n-=i,s=l.upTo}return t}const mc=e=>e.reduce((t,n,s)=>{let l=L.CHILD_ALLOWANCE_BASE;return s>=1&&n.birthYear>=L.CHILD_BONUS_BIRTH_YEAR&&(l+=L.CHILD_ALLOWANCE_BONUS),t+l},0),_p=({formData:e,setFormData:t,onStartOver:n})=>{const[s,l]=b.useState(!1),[a,i]=b.useState(null),o=()=>{var f;return e.incomeType==="variable"&&((f=e.variableIncome)==null?void 0:f.length)===12?e.variableIncome.reduce((x,v)=>x+v.salary+v.bonus+v.housingAllowance+v.otherIncome,0):e.monthlySalary*12+(e.annualBonus||0)+(e.annualOtherIncome||0)},c=b.useMemo(()=>{const f=o(),x=Math.min(f*L.STANDARD_DEDUCTION_RATE,L.MAX_STANDARD_DEDUCTION),v=L.PERSONAL_ALLOWANCE;let N=x+v;if(e.includeSocialSecurity&&e.socialSecurityContribution>0&&(N+=Math.min(e.socialSecurityContribution,L.MAX_SOCIAL_SECURITY)),e.estimateType==="detailed"){e.maritalStatus==="married"&&e.spouseHasNoIncome&&(N+=L.SPOUSE_ALLOWANCE);const d=mc(e.children||[]);N+=d;const m=(e.numberOfParents||0)*L.PARENT_ALLOWANCE;if(N+=m,e.hasLifeInsurance&&(N+=Math.min(e.lifeInsurance||0,L.MAX_LIFE_INSURANCE)),e.hasHealthInsurance&&(N+=Math.min(e.healthInsurance||0,L.MAX_HEALTH_INSURANCE)),e.hasPensionFund&&(N+=Math.min(e.pensionFund||0,L.MAX_PENSION_FUND)),e.hasProvidentFund&&(N+=Math.min(e.providentFund||0,L.MAX_PROVIDENT_FUND)),e.hasRMF&&(N+=Math.min(e.rmf||0,L.MAX_RMF)),e.hasSSF&&(N+=Math.min(e.ssf||0,L.MAX_SSF)),e.hasDonations){const y=Math.floor(f*L.MAX_DONATION_PERCENT);N+=Math.min(e.donations||0,y)}}const j=Math.max(0,f-N),g=Yi(j),u=g/12;return{annualIncome:f,standardDeduction:x,personalAllowance:v,socialSecurity:e.includeSocialSecurity?Math.min(e.socialSecurityContribution||0,L.MAX_SOCIAL_SECURITY):0,totalDeductions:N,taxableIncome:j,annualTax:g,monthlyWithholding:u,effectiveRate:f>0?g/f*100:0}},[e]),h=b.useMemo(()=>{const f=[];if(e.incomeType==="fixed"&&(f.push({key:"monthlySalary",label:"Monthly Salary",value:e.monthlySalary,editable:!0}),f.push({key:"annualBonus",label:"Annual Bonus",value:e.annualBonus||0,editable:!0}),f.push({key:"annualOtherIncome",label:"Other Annual Income",value:e.annualOtherIncome||0,editable:!0})),f.push({key:"standardDeduction",label:"Expense Deduction (50%)",value:c.standardDeduction,editable:!1}),f.push({key:"personalAllowance",label:"Personal Allowance",value:L.PERSONAL_ALLOWANCE,editable:!1}),e.includeSocialSecurity&&f.push({key:"socialSecurityContribution",label:"Social Security",value:e.socialSecurityContribution,editable:!0,maxValue:L.MAX_SOCIAL_SECURITY}),e.estimateType==="detailed"){if(e.maritalStatus==="married"&&e.spouseHasNoIncome&&f.push({key:"spouseAllowance",label:"Spouse Allowance",value:L.SPOUSE_ALLOWANCE,editable:!1}),e.children&&e.children.length>0){const x=mc(e.children);f.push({key:"childAllowance",label:`Child Allowance (${e.children.length})`,value:x,editable:!1})}if(e.numberOfParents>0&&f.push({key:"parentAllowance",label:`Parent Allowance (${e.numberOfParents})`,value:e.numberOfParents*L.PARENT_ALLOWANCE,editable:!1}),e.hasLifeInsurance&&f.push({key:"lifeInsurance",label:"Life Insurance",value:e.lifeInsurance,editable:!0,maxValue:L.MAX_LIFE_INSURANCE}),e.hasHealthInsurance&&f.push({key:"healthInsurance",label:"Health Insurance",value:e.healthInsurance,editable:!0,maxValue:L.MAX_HEALTH_INSURANCE}),e.hasPensionFund&&f.push({key:"pensionFund",label:"Pension Fund",value:e.pensionFund,editable:!0,maxValue:L.MAX_PENSION_FUND}),e.hasProvidentFund&&f.push({key:"providentFund",label:"Provident Fund",value:e.providentFund,editable:!0,maxValue:L.MAX_PROVIDENT_FUND}),e.hasRMF&&f.push({key:"rmf",label:"RMF",value:e.rmf,editable:!0,maxValue:L.MAX_RMF}),e.hasSSF&&f.push({key:"ssf",label:"SSF",value:e.ssf,editable:!0,maxValue:L.MAX_SSF}),e.hasDonations){const x=o(),v=Math.floor(x*L.MAX_DONATION_PERCENT);f.push({key:"donations",label:"Donations",value:e.donations,editable:!0,maxValue:v})}}return f},[e,c.standardDeduction]),p=(f,x,v)=>{const N=parseFloat(x.replace(/[^0-9]/g,""))||0,j=v?Math.min(N,v):N;t({...e,[f]:j})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Estimated Monthly Withholding"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Monthly Tax Withholding"}),r.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:["",c.monthlyWithholding.toLocaleString("en-US",{maximumFractionDigits:0})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Effective Rate: ",c.effectiveRate.toFixed(2),"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Annual Income"}),r.jsxs("span",{className:"font-medium",children:["",c.annualIncome.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Deductions"}),r.jsxs("span",{className:"font-medium",children:["-",c.totalDeductions.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Taxable Income"}),r.jsxs("span",{className:"font-medium",children:["",c.taxableIncome.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-200 pt-2",children:[r.jsx("span",{className:"text-gray-600",children:"Annual Tax"}),r.jsxs("span",{className:"font-medium",children:["",c.annualTax.toLocaleString("en-US",{maximumFractionDigits:0})]})]})]}),r.jsxs("button",{onClick:()=>l(!s),className:"w-full py-2 text-blue-600 font-medium flex items-center justify-center gap-2 hover:bg-blue-50 rounded-lg mb-4",children:[s?"Hide Details":"Show All Values & Edit",r.jsx("span",{children:s?"":""})]}),s&&r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Edit values below to see how changes affect your tax estimate. Changes update instantly."}),r.jsx("div",{className:"space-y-3",children:h.map(f=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:f.label}),f.editable?r.jsxs("div",{className:"relative",children:[a===f.key?r.jsx("input",{type:"text",value:f.value.toLocaleString(),onChange:x=>p(f.key,x.target.value,f.maxValue),onBlur:()=>i(null),autoFocus:!0,className:"w-32 px-2 py-1 text-right border border-blue-500 rounded text-sm focus:ring-2 focus:ring-blue-500"}):r.jsxs("button",{onClick:()=>i(f.key),className:"w-32 px-2 py-1 text-right text-blue-600 hover:bg-blue-50 rounded border border-transparent hover:border-blue-200 text-sm",children:["",f.value.toLocaleString(),r.jsx("span",{className:"ml-1 text-xs",children:""})]}),f.maxValue&&r.jsxs("p",{className:"text-xs text-gray-400 text-right",children:["Max: ",f.maxValue.toLocaleString()]})]}):r.jsxs("span",{className:"text-sm text-gray-500 w-32 text-right",children:["",f.value.toLocaleString(),r.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(fixed)"})]})]},f.key))})]}),r.jsx("button",{onClick:n,className:"w-full py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Start Over"})]})},Lp=()=>({salary:0,bonus:0,housingAllowance:0,otherIncome:0});function hc(){return{estimateType:"",incomeType:"",monthlySalary:0,annualBonus:0,annualOtherIncome:0,variableIncome:Array(12).fill(null).map(()=>Lp()),includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0}}const Pp=()=>{var u,d;const[e,t]=b.useState(0),[n,s]=b.useState(hc),[l,a]=b.useState(!1),i=()=>{t(e+1)},o=()=>{h()?(a(!1),t(e+1)):a(!0)},c=()=>{e>0&&(a(!1),t(e-1))},h=()=>{var y,S;switch((y=x[e])==null?void 0:y.id){case"estimate-type":return n.estimateType!=="";case"income-type":return n.incomeType!=="";case"monthly-income":return n.monthlySalary>0;case"variable-income":return((S=n.variableIncome)==null?void 0:S.length)===12?n.variableIncome.reduce((P,X)=>P+X.salary+X.bonus+X.housingAllowance+X.otherIncome,0)>0:!1;case"marital-status":return n.maritalStatus!=="";case"dependents":const C=!n.childrenEligibilityConfirmed||n.children.length>0,E=!n.parentsEligibilityConfirmed||n.numberOfParents>0;return C&&E;case"deductions":return[{has:n.hasLifeInsurance,amount:n.lifeInsurance},{has:n.hasHealthInsurance,amount:n.healthInsurance},{has:n.hasPensionFund,amount:n.pensionFund},{has:n.hasProvidentFund,amount:n.providentFund},{has:n.hasRMF,amount:n.rmf},{has:n.hasSSF,amount:n.ssf},{has:n.hasDonations,amount:n.donations}].every(I=>!I.has||I.amount>0);default:return!0}},p=()=>{s(hc()),t(0)},f=m=>{m>=0&&m<x.length&&t(m)},x=b.useMemo(()=>{const m=[];return m.push({id:"estimate-type",title:"Estimate Type",component:r.jsx(Np,{formData:n,setFormData:s,nextStep:i})}),m.push({id:"income-type",title:"Income Type",component:r.jsx(wp,{formData:n,setFormData:s,nextStep:i})}),n.incomeType==="variable"?m.push({id:"variable-income",title:"Monthly Income",component:r.jsx(Tp,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}):m.push({id:"monthly-income",title:"Assessable Income",component:r.jsx(Ep,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}),n.estimateType==="detailed"&&(m.push({id:"marital-status",title:"Marital Status",component:r.jsx(Ip,{formData:n,setFormData:s,nextStep:i,showValidationErrors:l})}),m.push({id:"dependents",title:"Dependents",component:r.jsx(Ap,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})}),m.push({id:"deductions",title:"Deductions",component:r.jsx(Rp,{formData:n,setFormData:s,nextStep:o,showValidationErrors:l})})),m.push({id:"results",title:"Results",component:r.jsx(_p,{formData:n,setFormData:s,onStartOver:p})}),m},[n,e]),v=x.length,N=e===v-1,j=e===0,g=(e+1)/v*100;return r.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center py-8 px-4",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 md:p-8 max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs(se,{to:"/",className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm","aria-label":"Go to home page",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),!N&&r.jsx("button",{onClick:p,className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Start over",children:"Start Over"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e+1," of ",v,": ",(u=x[e])==null?void 0:u.title]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(g),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${g}%`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":v})}),r.jsx("div",{className:"flex justify-between mt-3",children:x.map((m,y)=>r.jsxs("button",{onClick:()=>y<e&&f(y),disabled:y>=e,className:`flex flex-col items-center group ${y<e?"cursor-pointer":"cursor-default"}`,"aria-label":`${y<e?"Go to ":""}Step ${y+1}: ${m.title}`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${y<e?"bg-blue-500 group-hover:bg-blue-600":y===e?"bg-blue-500 ring-2 ring-blue-200":"bg-gray-300"}`}),r.jsx("span",{className:`text-xs mt-1 hidden md:block ${y===e?"text-blue-600 font-medium":"text-gray-400"}`,children:m.title})]},m.id))})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-blue-700",children:"This estimate is based on Thai tax rules for Fiscal Year 2026."})}),r.jsx("div",{className:"min-h-[300px]",children:(d=x[e])==null?void 0:d.component}),!N&&!j&&r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:c,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2","aria-label":"Go to previous step",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),r.jsxs("button",{onClick:o,className:"px-6 py-2 rounded-lg transition-colors flex items-center gap-2 bg-blue-500 text-white hover:bg-blue-600","aria-label":"Go to next step",children:["Next",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})})},Op=[{value:"salaried",label:"Salaried Employee",description:"I receive a regular salary from an employer",icon:"",comingSoon:!1},{value:"self-employed",label:"Self-Employed / Freelancer",description:"I work independently or as a contractor",icon:"",comingSoon:!1},{value:"sole_proprietor",label:"Business Owner (Sole Proprietor)",description:"I own and operate an unincorporated business",icon:"",comingSoon:!1},{value:"company_owner",label:"Company Owner / Director",description:"I own or direct a limited company and receive salary/dividends",icon:"",comingSoon:!1}],xt=({formData:e,setFormData:t,nextStep:n})=>{const s=l=>{const a={...e,employmentType:l};t(a),n(a)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What type of employment do you have?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the option that best describes your main source of income."}),r.jsx("div",{className:"space-y-4",children:Op.map(l=>r.jsxs("button",{onClick:()=>!l.comingSoon&&s(l.value),disabled:l.comingSoon,className:`w-full p-4 border-2 rounded-lg text-left transition-all relative ${l.comingSoon?"border-gray-200 cursor-not-allowed":e.employmentType===l.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-500 hover:bg-blue-50"}`,"aria-pressed":e.employmentType===l.value,children:[r.jsxs("div",{className:`flex items-center gap-4 ${l.comingSoon?"blur-[2px] opacity-50":""}`,children:[r.jsx("span",{className:"text-3xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:l.label}),r.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]}),l.comingSoon&&r.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white text-sm font-medium px-3 py-1 rounded-full",children:"Coming Soon"})]},l.value))})]})},Mp=({formData:e,setFormData:t})=>{const[n,s]=b.useState(""),[l,a]=b.useState(!1),i=p=>{const f=p.target.value.replace(/,/g,""),x=parseFloat(f)||0;t({...e,annualIncome:x}),l&&o(x)},o=p=>p<=0?(s("Please enter your annual income"),!1):(s(""),!0),c=()=>{a(!0),o(e.annualIncome)},h=p=>p===0?"":p.toLocaleString("en-US");return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What is your annual income?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your total gross income for the year before any deductions."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"annualIncome",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Income (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"annualIncome",value:h(e.annualIncome),onChange:i,onBlur:c,placeholder:"0",className:`w-full pl-8 pr-4 py-3 border rounded-lg text-lg focus:outline-none focus:ring-2 ${n?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,"aria-describedby":n?"income-error":void 0,"aria-invalid":!!n})]}),n&&r.jsx("p",{id:"income-error",className:"mt-2 text-sm text-red-600",children:n})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"What to include:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Salary and wages"}),r.jsx("li",{children:" Bonuses and commissions"}),r.jsx("li",{children:" Freelance income"}),r.jsx("li",{children:" Business profits"}),r.jsx("li",{children:" Rental income"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.includeSocialSecurity,onChange:p=>{t({...e,includeSocialSecurity:p.target.checked,socialSecurityContribution:p.target.checked?e.socialSecurityContribution:0})},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I made social security contributions"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["If you paid into the Social Security Office (SSO), you can deduct up to ",k.MAX_SOCIAL_SECURITY.toLocaleString()," for 2025."]})]})]}),e.includeSocialSecurity&&r.jsxs("div",{className:"mt-4 ml-7",children:[r.jsx("label",{htmlFor:"socialSecurity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Social Security Contributions (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"socialSecurity",value:e.socialSecurityContribution===0?"":e.socialSecurityContribution.toLocaleString("en-US"),onChange:p=>{const f=p.target.value.replace(/,/g,""),x=parseFloat(f)||0,v=Math.min(x,k.MAX_SOCIAL_SECURITY);t({...e,socialSecurityContribution:v})},placeholder:"0",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",k.MAX_SOCIAL_SECURITY.toLocaleString()]})]})]})]})},Jr=({formData:e,setFormData:t,nextStep:n})=>{const[s,l]=b.useState(e.maritalStatus==="married"),a=o=>{o==="single"?(t({...e,maritalStatus:o,spouseHasNoIncome:!1}),l(!1),n()):(t({...e,maritalStatus:o}),l(!0))},i=o=>{t({...e,spouseHasNoIncome:o})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What is your marital status?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your marital status affects your tax allowances."}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>a("single"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="single"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="single",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Single"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Not married or legally separated"})]})]})}),r.jsx("button",{onClick:()=>a("married"),className:`w-full p-4 border-2 rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50 ${e.maritalStatus==="married"?"border-blue-500 bg-blue-50":"border-gray-200"}`,"aria-pressed":e.maritalStatus==="married",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Married"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Legally married"})]})]})})]}),s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-blue-700",children:["You can claim a ",k.SPOUSE_ALLOWANCE.toLocaleString()," spouse allowance only if your spouse has no income during the tax year."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.spouseHasNoIncome,onChange:o=>i(o.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"My spouse has no income"})]})]})]})},Zr=new Date().getFullYear(),es=({formData:e,setFormData:t,showValidationErrors:n})=>{const[s,l]=b.useState(e.childrenEligibilityConfirmed||e.children.length>0),[a,i]=b.useState(e.parentsEligibilityConfirmed||e.numberOfParents>0),o=u=>Zr-u,c=u=>{const d=o(u);return d>=20&&d<=25},h=(u,d)=>{let m=k.CHILD_ALLOWANCE_BASE;return d>=1&&u.birthYear>=k.CHILD_BONUS_BIRTH_YEAR&&(m+=k.CHILD_ALLOWANCE_BONUS),m},p=()=>e.children.reduce((u,d,m)=>u+h(d,m),0),f=()=>{const u=[...e.children,{birthYear:Zr-10,isStudent:!1}];t({...e,children:u})},x=()=>{if(e.children.length>0){const u=e.children.slice(0,-1);t({...e,children:u})}},v=(u,d)=>{const m=[...e.children];m[u]={...m[u],birthYear:d},c(d)||(m[u].isStudent=!1),t({...e,children:m})},N=(u,d)=>{const m=[...e.children];m[u]={...m[u],isStudent:d},t({...e,children:m})},j=u=>{const d=Math.max(0,Math.min(k.MAX_PARENTS,e.numberOfParents+u));t({...e,numberOfParents:d})},g=k.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?k.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?k.SENIOR_ALLOWANCE:0)+p()+e.numberOfParents*k.PARENT_ALLOWANCE;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dependents & Allowances"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your dependents to calculate your allowances."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Children"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Under 20 years old, OR under 25 and studying, OR legally incompetent"}),r.jsx("li",{children:" Earning less than 30,000 per year"})]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&s&&e.children.length===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:s,onChange:u=>{l(u.target.checked),u.target.checked?t({...e,childrenEligibilityConfirmed:!0}):t({...e,children:[],childrenEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have children who meet these criteria"})]}),n&&s&&e.children.length===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one child or uncheck the box above."}),s&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of children:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:x,disabled:e.children.length===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove child",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.children.length}),r.jsx("button",{onClick:f,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100","aria-label":"Add child",children:"+"})]})]}),e.children.map((u,d)=>{const m=o(u.birthYear),y=c(u.birthYear),S=h(u,d),C=d>=1&&u.birthYear>=k.CHILD_BONUS_BIRTH_YEAR;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:["Child ",d+1]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",S.toLocaleString(),C&&r.jsx("span",{className:"text-xs text-green-500 ml-1",children:"(+30k bonus)"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Birth year:"}),r.jsx("input",{type:"number",value:u.birthYear,onChange:E=>v(d,parseInt(E.target.value)||Zr),min:1900,max:Zr,className:"w-24 px-2 py-1 border border-gray-300 rounded text-center"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Age: ",m]})]}),y&&r.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u.isStudent||!1,onChange:E=>N(d,E.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Currently studying (required for ages 20-25)"})]})]},d)}),e.children.length>0&&r.jsxs("div",{className:"text-right text-sm text-gray-600",children:["Total children allowance: ",r.jsxs("span",{className:"font-medium text-green-600",children:["",p().toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Parents"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Eligibility Criteria:"}),r.jsxs("ul",{className:"text-blue-700 space-y-1",children:[r.jsx("li",{children:" Parent is 60 years or older"}),r.jsx("li",{children:" Parent's annual income is less than 30,000"}),r.jsxs("li",{children:[" You can claim up to ",k.MAX_PARENTS," parents (yours and spouse's)"]})]}),r.jsxs("p",{className:"text-blue-600 mt-2",children:["Allowance: ",k.PARENT_ALLOWANCE.toLocaleString()," per eligible parent"]})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-3 border rounded-lg bg-white ${n&&a&&e.numberOfParents===0?"border-red-500":"border-gray-200"}`,children:[r.jsx("input",{type:"checkbox",checked:a,onChange:u=>{i(u.target.checked),u.target.checked?t({...e,parentsEligibilityConfirmed:!0}):t({...e,numberOfParents:0,parentsEligibilityConfirmed:!1})},className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have parents who meet these criteria"})]}),n&&a&&e.numberOfParents===0&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please add at least one parent or uncheck the box above."}),a&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-gray-700",children:"Number of parents:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(-1),disabled:e.numberOfParents===0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove parent",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.numberOfParents}),r.jsx("button",{onClick:()=>j(1),disabled:e.numberOfParents>=k.MAX_PARENTS,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add parent",children:"+"})]}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["",(e.numberOfParents*k.PARENT_ALLOWANCE).toLocaleString()]})]})})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Total Allowances"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal:"}),r.jsxs("span",{children:["",k.PERSONAL_ALLOWANCE.toLocaleString()]})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse:"}),r.jsxs("span",{children:["",k.SPOUSE_ALLOWANCE.toLocaleString()]})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior (65+):"}),r.jsxs("span",{children:["",k.SENIOR_ALLOWANCE.toLocaleString()]})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Children:"}),r.jsxs("span",{children:["",p().toLocaleString()]})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parents:"}),r.jsxs("span",{children:["",(e.numberOfParents*k.PARENT_ALLOWANCE).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-green-300 pt-1 mt-2",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",g.toLocaleString()]})]})]})]})]})},Fp=({id:e,label:t,maxAmount:n,hasDeduction:s,amount:l,onToggle:a,onAmountChange:i,description:o,showValidationErrors:c})=>{const[h,p]=b.useState(""),f=c&&s&&l===0,x=j=>{const g=j.target.value.replace(/,/g,""),u=parseFloat(g)||0;i(u)},v=()=>{s&&l>n?p(`Maximum deduction is ${n.toLocaleString()}`):p("")},N=j=>j===0?"":j.toLocaleString("en-US");return r.jsxs("div",{className:`border rounded-lg p-4 mb-3 ${f?"border-red-500":"border-gray-200"}`,children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s,onChange:j=>a(j.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium text-gray-800",children:t}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(max ",n.toLocaleString(),")"]})]})]}),o&&r.jsx("p",{className:"text-sm text-gray-500 mt-1 ml-8",children:o}),s&&r.jsxs("div",{className:"mt-3 ml-8 animate-fadeIn",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:e,value:N(l),onChange:x,onBlur:v,placeholder:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${h||f?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,"aria-describedby":h||f?`${e}-error`:void 0})]}),(h||f)&&r.jsx("p",{id:`${e}-error`,className:"mt-1 text-sm text-red-600",children:h||"Please enter an amount or uncheck this deduction."}),l>0&&l<=n&&r.jsxs("p",{className:"mt-1 text-sm text-green-600",children:["Deduction: ",Math.min(l,n).toLocaleString()]})]})]})},ts=({formData:e,setFormData:t,showValidationErrors:n})=>{const s=[{id:"lifeInsurance",label:"Life Insurance Premiums",maxAmount:k.MAX_LIFE_INSURANCE,hasKey:"hasLifeInsurance",amountKey:"lifeInsurance",description:"Premiums paid for life insurance policies with 10+ year terms"},{id:"healthInsurance",label:"Health Insurance Premiums",maxAmount:k.MAX_HEALTH_INSURANCE,hasKey:"hasHealthInsurance",amountKey:"healthInsurance",description:"Premiums paid for health insurance policies"},{id:"pensionFund",label:"Government Pension Fund",maxAmount:k.MAX_PENSION_FUND,hasKey:"hasPensionFund",amountKey:"pensionFund",description:"Contributions to government pension fund"},{id:"providentFund",label:"Provident Fund",maxAmount:k.MAX_PROVIDENT_FUND,hasKey:"hasProvidentFund",amountKey:"providentFund",description:"Employee contributions to provident fund"},{id:"rmf",label:"RMF (Retirement Mutual Fund)",maxAmount:k.MAX_RMF,hasKey:"hasRMF",amountKey:"rmf",description:"Investments in approved retirement mutual funds"},{id:"ssf",label:"SSF (Super Savings Fund)",maxAmount:k.MAX_SSF,hasKey:"hasSSF",amountKey:"ssf",description:"Investments in approved super savings funds"},{id:"donations",label:"Charitable Donations",maxAmount:Math.floor(e.annualIncome*k.MAX_DONATION_PERCENT),hasKey:"hasDonations",amountKey:"donations",description:"Donations to approved charities (limited to 10% of income)"}],l=(o,c)=>{t({...e,[o]:c})},a=(o,c)=>{t({...e,[o]:c})},i=()=>{let o=0;return s.forEach(c=>{e[c.hasKey]&&(o+=Math.min(e[c.amountKey],c.maxAmount))}),o};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Additional Deductions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the deductions that apply to you. These reduce your taxable income."}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Taxpayers aged 65 or older are entitled to an additional ",k.SENIOR_ALLOWANCE.toLocaleString()," allowance."]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.isAge65OrOlder,onChange:o=>t({...e,isAge65OrOlder:o.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-amber-500 focus:ring-amber-500"}),r.jsx("span",{className:"text-gray-800",children:"I am 65 years or older"})]})]}),r.jsx("div",{className:"mb-6",children:s.map(o=>r.jsx(Fp,{id:o.id,label:o.label,maxAmount:o.maxAmount,hasDeduction:e[o.hasKey],amount:e[o.amountKey],onToggle:c=>l(o.hasKey,c),onAmountChange:c=>a(o.amountKey,c),description:o.description,showValidationErrors:n},o.id))}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-green-800",children:"Total Deductions:"}),r.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",i().toLocaleString()]})]})})]})},ns=({formData:e,setFormData:t})=>{const n=l=>{const a=l.target.value.replace(/,/g,""),i=parseFloat(a)||0;t({...e,taxWithheld:i})},s=l=>l===0?"":l.toLocaleString("en-US");return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tax Withholding"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter the total tax already withheld from your income this year."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"taxWithheld",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Already Withheld (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"text",id:"taxWithheld",value:s(e.taxWithheld),onChange:n,placeholder:"0",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500"})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Leave at 0 if you haven't had any tax withheld."})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Where to find this amount:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:' Check your monthly payslips (look for "Tax Withheld" or "WHT")'}),r.jsx("li",{children:" Request a withholding certificate from your employer"}),r.jsx("li",{children:" Sum up all monthly withholdings for the year"}),r.jsx("li",{children:" Check your 50 Tawi form from your employer"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Why this matters:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"If you've had tax withheld throughout the year, you may be entitled to a refund if the total exceeds your actual tax liability. Or you may owe additional tax if the withholding was insufficient."})]})]})},qe={salary_40_1:.5,liberal_profession_40_6:.3,contractor_40_7:.4,business_sales_40_8:.6,rental_40_5:.3,dividend:0,other:0},qt={VAT_REGISTRATION:18e5,PND94_SINGLE:6e4,PND94_MARRIED_SPOUSE_NO_INCOME:12e4,THAI_RESIDENCY_DAYS:180,FOREIGN_INCOME_TAX_YEAR_START:"2024-01-01"},nm=["rental_40_5","liberal_profession_40_6","contractor_40_7","business_sales_40_8"],$l={office_supplies:"Office Supplies",equipment:"Equipment & Tools",software:"Software & Subscriptions",travel:"Travel & Transportation",communication:"Phone & Internet",professional_services:"Professional Services",rent:"Office Rent",utilities:"Utilities",marketing:"Marketing & Advertising",insurance:"Business Insurance",other:"Other Expenses"},Bp=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"KRW",name:"Korean Won",symbol:""},{code:"THB",name:"Thai Baht",symbol:""}],zp={PND94_DUE_DATE:"2024-09-30"},Hp={SALARY_EXPENSE_CAP:1e5};function Wp(e){return nm.includes(e)}const Up={retail_trade:"Retail / Wholesale Trade",manufacturing:"Manufacturing",service_business:"Service Business",restaurant_food:"Restaurant / Food Service",transportation:"Transportation",construction:"Construction",professional_service:"Professional Services",rental_property:"Property Rental",agriculture:"Agriculture",other_business:"Other Business"},$p={retail_trade:"Selling goods - 60% flat-rate deduction",manufacturing:"Producing goods for sale - 60% flat-rate deduction",service_business:"General services - 40% flat-rate deduction",restaurant_food:"Food and beverage business - 60% flat-rate deduction",transportation:"Delivery and logistics - 40% flat-rate deduction",construction:"Building and contracting - 40% flat-rate deduction",professional_service:"Legal, accounting, consulting - 30% flat-rate deduction",rental_property:"Renting property - 30% flat-rate deduction",agriculture:"Farming and agricultural - 60% flat-rate deduction",other_business:"Other business activities - varies"},tn={salary_40_1:{type:"salary_40_1",label:"Salary & Employment Income",shortLabel:"Salary",section:"40(1)",description:"Regular employment income from an employer including wages, bonuses, and benefits",flatRate:qe.salary_40_1,flatRateCap:1e5,examples:["Monthly salary","Annual bonus","Commission from employer","Housing allowance","Transportation allowance"],withholdingRate:void 0,notes:"Expense deduction is 50% of income, capped at 100,000"},liberal_profession_40_6:{type:"liberal_profession_40_6",label:"Liberal Profession Income",shortLabel:"Professional",section:"40(6)",description:"Income from professional services requiring specialized knowledge or skills",flatRate:qe.liberal_profession_40_6,examples:["Medical/dental practice fees","Legal consultation fees","Engineering services","Accounting services","Architecture fees","Entertainment/performance fees","Sports earnings","Author royalties"],withholdingRate:.03,notes:"Deduction rate varies: 30% for most professions, 60% for medical, entertainment, sports"},contractor_40_7:{type:"contractor_40_7",label:"Contractor Income",shortLabel:"Contractor",section:"40(7)",description:"Income from contract work where you provide both labor and materials",flatRate:qe.contractor_40_7,examples:["Construction contracts","Renovation work","Manufacturing contracts","Installation services","Custom product creation"],withholdingRate:.03,notes:"40% flat deduction rate applies"},business_sales_40_8:{type:"business_sales_40_8",label:"Business & Sales Income",shortLabel:"Business",section:"40(8)",description:"Income from business operations, trading, or sales activities",flatRate:qe.business_sales_40_8,examples:["Retail/wholesale sales","E-commerce revenue","Consulting business","Freelance services","Agency fees","Online platform income"],withholdingRate:.03,notes:"60% flat deduction rate - highest among business income types"},rental_40_5:{type:"rental_40_5",label:"Rental Income",shortLabel:"Rental",section:"40(5)",description:"Income from renting out property or assets",flatRate:qe.rental_40_5,examples:["Residential property rental","Commercial property rental","Vehicle rental","Equipment rental","Land lease income"],withholdingRate:.05,notes:"30% flat deduction rate, or actual expenses with documentation"},dividend:{type:"dividend",label:"Dividend Income",shortLabel:"Dividend",section:"40(4)(b)",description:"Dividends received from Thai companies",flatRate:qe.dividend,examples:["Stock dividends from SET-listed companies","Dividends from private companies","Investment fund distributions"],withholdingRate:.1,notes:"No expense deduction. May elect final 10% withholding or include in PIT calculation."},other:{type:"other",label:"Other Income",shortLabel:"Other",section:"Various",description:"Income from other sources not covered above",flatRate:qe.other,examples:["Prizes and lottery winnings","Gifts above threshold","Other taxable receipts"],withholdingRate:void 0,notes:"Deduction rules vary based on specific income source"}};function Yp(){return Object.entries(tn).map(([e,t])=>({value:e,label:`${t.label} (${t.section})`}))}function Vp(e){const t=tn[e.incomeType],n=qe[e.incomeType];if(n===0)return 0;const s=e.grossAmount*n;return e.incomeType==="salary_40_1"&&t.flatRateCap?Math.min(s,t.flatRateCap):s}function ml(e){const t=new Map;e.forEach(a=>{const i=t.get(a.incomeType)||{gross:0,deduction:0},o=Vp(a);t.set(a.incomeType,{gross:i.gross+a.grossAmount,deduction:i.deduction+o})});const n=t.get("salary_40_1");if(n){const a=qe.salary_40_1,i=n.gross*a;n.deduction=Math.min(i,Hp.SALARY_EXPENSE_CAP),t.set("salary_40_1",n)}const s=[];let l=0;return t.forEach((a,i)=>{s.push({incomeType:i,grossAmount:a.gross,rate:qe[i],deduction:a.deduction}),l+=a.deduction}),{total:l,breakdown:s}}function rm(e){const t=new Map;e.forEach(l=>{const a=t.get(l.category);a?t.set(l.category,{amount:a.amount+l.amount,hasReceipts:a.hasReceipts&&l.hasReceipt}):t.set(l.category,{amount:l.amount,hasReceipts:l.hasReceipt})});const n=[];let s=0;return t.forEach((l,a)=>{n.push({category:a,amount:l.amount,hasReceipts:l.hasReceipts}),s+=l.amount}),{total:s,breakdown:n}}function Vi(e,t,n=.2){const s=ml(e),l=rm(t),i=Math.abs(s.total-l.total)*n,o=s.total>=l.total?"flat":"actual";return{flatRateDeduction:s.total,actualDeduction:l.total,recommended:o,taxSavings:i,flatBreakdown:s.breakdown,actualBreakdown:l.breakdown}}function Xp(e,t,n){const s=Vi(e,t);switch(n){case"force_flat":return s.flatRateDeduction;case"force_actual":return s.actualDeduction;case"auto_compare":default:return Math.max(s.flatRateDeduction,s.actualDeduction)}}function Dp(e){const t=new Map;return e.forEach(n=>{const s=t.get(n.incomeType)||0;t.set(n.incomeType,s+n.grossAmount)}),t}function sm(e){return e.reduce((t,n)=>t+n.withholdingAmount,0)}function lm(e){return e.reduce((t,n)=>t+n.grossAmount,0)}function Kp(e){return e<=15e4?0:e<=3e5?.05:e<=5e5?.1:e<=75e4?.15:e<=1e6?.2:e<=2e6?.25:e<=5e6?.3:.35}function Qp(e,t){if(!t)return{entry:e,isTaxable:!1,reason:"Not a Thai tax resident (less than 180 days in Thailand)",taxableAmount:0,foreignTaxCredit:0};if(!e.dateEarned)return{entry:e,isTaxable:!1,reason:"Date earned not specified",taxableAmount:0,foreignTaxCredit:0};const n=new Date(e.dateEarned),s=new Date(qt.FOREIGN_INCOME_TAX_YEAR_START);if(n<s)return{entry:e,isTaxable:!1,reason:"Income earned before January 1, 2024 - exempt under pre-2024 rules",taxableAmount:0,foreignTaxCredit:0};if(!e.dateRemitted)return{entry:e,isTaxable:!1,reason:"Income not remitted to Thailand - not taxable until remitted",taxableAmount:0,foreignTaxCredit:0};const l=Gp(e);return{entry:e,isTaxable:!0,reason:"Income earned in 2024+ and remitted to Thailand - fully taxable",taxableAmount:e.amountThb,foreignTaxCredit:l}}function Gp(e){return e.foreignTaxPaid<=0?0:e.foreignTaxPaid}function qp(e){const t=e.foreignIncomeEntries.map(i=>Qp(i,e.isThaiResident)),n=t.reduce((i,o)=>i+o.entry.amountThb,0),s=t.reduce((i,o)=>i+o.taxableAmount,0),l=t.reduce((i,o)=>i+o.entry.foreignTaxPaid,0),a=t.reduce((i,o)=>i+o.foreignTaxCredit,0);return{entries:t,totalForeignIncome:n,taxableForeignIncome:s,totalForeignTaxPaid:l,totalForeignTaxCredit:a}}function Jp(e){return e>=qt.THAI_RESIDENCY_DAYS}function Zp(e){return Jp(e)?{isResident:!0,status:"Thai Tax Resident",description:`With ${e} days in Thailand (180+ required), you are considered a Thai tax resident. Both Thai-sourced income and foreign income remitted to Thailand may be taxable.`}:{isResident:!1,status:"Non-Resident",description:`With ${e} days in Thailand (less than 180), you are not a Thai tax resident. Only income earned in Thailand is subject to Thai tax.`}}function ex(e){return e.filter(t=>{const n=nm.includes(t.incomeType),s=t.monthReceived>=1&&t.monthReceived<=6;return n&&s}).reduce((t,n)=>t+n.grossAmount,0)}function tx(e,t=6e4,n=0){const s=e*2,l=Math.min(s*.5,1e5),a=t+n,i=Math.max(0,s-l-a);let o=0,c=i;for(let h=0;h<jn.length;h++){const p=jn[h],f=h===0?0:jn[h-1].upTo,x=p.upTo-f,v=Math.min(c,x);if(o+=v*p.rate,c-=v,c<=0)break}return Math.round(o/2)}function am(e){const t=ex(e.thaiIncomeEntries),n=e.maritalStatus==="married"&&e.spouseHasNoIncome?qt.PND94_MARRIED_SPOUSE_NO_INCOME:qt.PND94_SINGLE,s=t>n,l=e.maritalStatus==="married"&&e.spouseHasNoIncome?6e4:0,a=s?tx(t,6e4,l):0,i=zp.PND94_DUE_DATE;return{required:s,halfYearIncome:t,threshold:n,provisionalTax:a,dueDate:i}}function nx(e){return e.reduce((t,n)=>t+n.grossAmount,0)}function im(e){const t=nx(e.thaiIncomeEntries),n=qt.VAT_REGISTRATION,s=t>=n;return{required:s,turnover:t,threshold:n,mustRegisterWithinDays:s?30:0}}function rx(e){const t=am(e),n=im(e),s=[];return t.required&&s.push(`PND94 filing due by ${t.dueDate}`),n.required&&s.push(`VAT registration required within ${n.mustRegisterWithinDays} days`),{pnd94:t,vat:n,hasAnyObligation:t.required||n.required,urgentItems:s}}function Jt(e){let t=0;return e.forEach((n,s)=>{t+=k.CHILD_ALLOWANCE_BASE,s>=1&&n.birthYear>=k.CHILD_BONUS_BIRTH_YEAR&&(t+=k.CHILD_ALLOWANCE_BONUS)}),t}function sx(e){let t=k.PERSONAL_ALLOWANCE;e.maritalStatus==="married"&&e.spouseHasNoIncome&&(t+=k.SPOUSE_ALLOWANCE),e.isAge65OrOlder&&(t+=k.SENIOR_ALLOWANCE),t+=Jt(e.children);const n=Math.min(e.numberOfParents,k.MAX_PARENTS);return t+=n*k.PARENT_ALLOWANCE,t}function om(e){return Math.min(e*k.STANDARD_DEDUCTION_RATE,k.MAX_STANDARD_DEDUCTION)}function lx(e,t){return{standardDeduction:om(e.annualIncome),personalAllowance:k.PERSONAL_ALLOWANCE,spouseAllowance:e.maritalStatus==="married"&&e.spouseHasNoIncome?k.SPOUSE_ALLOWANCE:0,seniorAllowance:e.isAge65OrOlder?k.SENIOR_ALLOWANCE:0,childAllowance:Jt(e.children),parentAllowance:Math.min(e.numberOfParents,k.MAX_PARENTS)*k.PARENT_ALLOWANCE,socialSecurity:e.includeSocialSecurity?Math.min(e.socialSecurityContribution,k.MAX_SOCIAL_SECURITY):0,lifeInsurance:e.hasLifeInsurance?Math.min(e.lifeInsurance,k.MAX_LIFE_INSURANCE):0,healthInsurance:e.hasHealthInsurance?Math.min(e.healthInsurance,k.MAX_HEALTH_INSURANCE):0,pensionFund:e.hasPensionFund?Math.min(e.pensionFund,k.MAX_PENSION_FUND):0,providentFund:e.hasProvidentFund?Math.min(e.providentFund,k.MAX_PROVIDENT_FUND):0,rmf:e.hasRMF?Math.min(e.rmf,k.MAX_RMF):0,ssf:e.hasSSF?Math.min(e.ssf,k.MAX_SSF):0,donations:e.hasDonations?Math.min(e.donations,t*k.MAX_DONATION_PERCENT):0}}function ax(e){const t=om(e.annualIncome),n=sx(e),s=Math.max(0,e.annualIncome-t-n),l=lx(e,s),a=l.standardDeduction+l.socialSecurity+l.lifeInsurance+l.healthInsurance+l.pensionFund+l.providentFund+l.rmf+l.ssf+l.donations,i=Math.max(0,s-(a-l.standardDeduction)),o=Yi(i),c=e.taxWithheld-o,h=e.annualIncome>0?o/e.annualIncome*100:0;return{grossIncome:e.annualIncome,totalAllowances:n,totalDeductions:a,taxableIncome:i,taxOwed:o,taxWithheld:e.taxWithheld,refundOrOwed:c,effectiveRate:h,breakdown:l}}function M(e){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function cm(e){return`${e.toFixed(2)}%`}function ix(e){let t=k.PERSONAL_ALLOWANCE;e.maritalStatus==="married"&&e.spouseHasNoIncome&&(t+=k.SPOUSE_ALLOWANCE),e.isAge65OrOlder&&(t+=k.SENIOR_ALLOWANCE),t+=Jt(e.children);const n=Math.min(e.numberOfParents,k.MAX_PARENTS);return t+=n*k.PARENT_ALLOWANCE,t}function ox(e,t){let n=0;return e.includeSocialSecurity&&(n+=Math.min(e.socialSecurityContribution,k.MAX_SOCIAL_SECURITY)),e.hasLifeInsurance&&(n+=Math.min(e.lifeInsurance,k.MAX_LIFE_INSURANCE)),e.hasHealthInsurance&&(n+=Math.min(e.healthInsurance,k.MAX_HEALTH_INSURANCE)),e.hasPensionFund&&(n+=Math.min(e.pensionFund,k.MAX_PENSION_FUND)),e.hasProvidentFund&&(n+=Math.min(e.providentFund,k.MAX_PROVIDENT_FUND)),e.hasRMF&&(n+=Math.min(e.rmf,k.MAX_RMF)),e.hasSSF&&(n+=Math.min(e.ssf,k.MAX_SSF)),e.hasDonations&&(n+=Math.min(e.donations,t*k.MAX_DONATION_PERCENT)),n}function cx(e){const t=lm(e.thaiIncomeEntries),n=sm(e.thaiIncomeEntries),s=Dp(e.thaiIncomeEntries),l=qp(e),a=l.totalForeignIncome,i=l.taxableForeignIncome,o=l.totalForeignTaxCredit,c=t+i,h=Xp(e.thaiIncomeEntries,e.actualExpenses,e.expenseMethod),p=e.expenseMethod==="auto_compare"||e.expenseMethod==="force_actual"?Vi(e.thaiIncomeEntries,e.actualExpenses,Kp(c-h)):void 0,f=ix(e),x=Math.max(0,c-h-f),v=ox(e,x),N=Math.max(0,x-v),j=Yi(N),g=i>0&&c>0?i/c*j:0,u=Math.min(o,g),d=n+u,m=Math.max(0,j-d),y=c>0?j/c*100:0,S=am(e),C=im(e);return{grossIncome:c,thaiIncomeTotal:t,foreignIncomeTotal:a,taxableForeignIncome:i,expenseDeduction:h,expenseMethod:e.expenseMethod,totalAllowances:f,totalDeductions:h+v,taxableIncome:N,grossTaxBeforeCredits:j,withholdingCredits:n,foreignTaxCredits:u,netTaxPayable:m,effectiveRate:y,pnd94:S,vat:C,expenseComparison:p,foreignIncomeTaxability:l.entries,incomeByType:s}}const fc=({formData:e,goToStep:t,nextStep:n})=>{const s=p=>`${p.toLocaleString()}`,l=()=>{switch(e.employmentType){case"salaried":return"Salaried Employee";case"self-employed":return"Self-Employed / Freelancer";case"business":return"Business Owner";default:return"Not specified"}},a=()=>e.maritalStatus==="single"?"Single":e.maritalStatus==="married"?e.spouseHasNoIncome?"Married (spouse has no income)":"Married (spouse has income)":"Not specified",i=()=>{const p=[];if(e.hasLifeInsurance&&e.lifeInsurance>0&&p.push({label:"Life Insurance",amount:Math.min(e.lifeInsurance,k.MAX_LIFE_INSURANCE)}),e.hasHealthInsurance&&e.healthInsurance>0&&p.push({label:"Health Insurance",amount:Math.min(e.healthInsurance,k.MAX_HEALTH_INSURANCE)}),e.hasPensionFund&&e.pensionFund>0&&p.push({label:"Pension Fund",amount:Math.min(e.pensionFund,k.MAX_PENSION_FUND)}),e.hasProvidentFund&&e.providentFund>0&&p.push({label:"Provident Fund",amount:Math.min(e.providentFund,k.MAX_PROVIDENT_FUND)}),e.hasRMF&&e.rmf>0&&p.push({label:"RMF",amount:Math.min(e.rmf,k.MAX_RMF)}),e.hasSSF&&e.ssf>0&&p.push({label:"SSF",amount:Math.min(e.ssf,k.MAX_SSF)}),e.hasDonations&&e.donations>0){const f=e.annualIncome*k.MAX_DONATION_PERCENT;p.push({label:"Donations",amount:Math.min(e.donations,f)})}return p},o=k.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?k.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?k.SENIOR_ALLOWANCE:0)+Jt(e.children)+e.numberOfParents*k.PARENT_ALLOWANCE,c=i(),h=c.reduce((p,f)=>p+f.amount,0);return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Review Your Information"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Please verify your information before calculating your tax."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Employment Type"}),r.jsx("p",{className:"text-gray-800 mt-1",children:l()})]}),r.jsx("button",{onClick:()=>t(0),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Annual Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(e.annualIncome)}),e.includeSocialSecurity&&e.socialSecurityContribution>0&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Social Security: ",s(Math.min(e.socialSecurityContribution,k.MAX_SOCIAL_SECURITY))]})]}),r.jsx("button",{onClick:()=>t(1),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Marital Status"}),r.jsx("p",{className:"text-gray-800 mt-1",children:a()})]}),r.jsx("button",{onClick:()=>t(2),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Dependents & Allowances"}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal allowance:"}),r.jsx("span",{children:s(k.PERSONAL_ALLOWANCE)})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse allowance:"}),r.jsx("span",{children:s(k.SPOUSE_ALLOWANCE)})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior allowance (65+):"}),r.jsx("span",{children:s(k.SENIOR_ALLOWANCE)})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Children (",e.children.length,"):"]}),r.jsx("span",{children:s(Jt(e.children))})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Parents (",e.numberOfParents,"):"]}),r.jsx("span",{children:s(e.numberOfParents*k.PARENT_ALLOWANCE)})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total allowances:"}),r.jsx("span",{className:"text-green-600",children:s(o)})]})]})]}),r.jsx("button",{onClick:()=>t(3),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Deductions"}),c.length>0?r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[c.map(p=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[p.label,":"]}),r.jsx("span",{children:s(p.amount)})]},p.label)),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total deductions:"}),r.jsx("span",{className:"text-green-600",children:s(h)})]})]}):r.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"No deductions claimed"})]}),r.jsx("button",{onClick:()=>t(4),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Tax Already Withheld"}),r.jsx("p",{className:"text-gray-800 mt-1 font-semibold",children:s(e.taxWithheld)})]}),r.jsx("button",{onClick:()=>t(5),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})})]}),r.jsx("button",{onClick:()=>n(),className:"w-full mt-8 py-4 bg-green-500 text-white rounded-lg font-semibold text-lg hover:bg-green-600 transition-colors",children:"Calculate My Tax"})]})},pc=({formData:e,onStartOver:t})=>{const[n,s]=b.useState(!1),l=ax(e),a=l.refundOrOwed>0,i=a?"Tax Refund":"Additional Tax Owed",o=a?"text-green-600":"text-red-600",c=a?"bg-green-50 border-green-200":"bg-red-50 border-red-200",p=(()=>{const f=[];let x=l.taxableIncome,v=0;for(const N of jn){if(x<=0)break;const j=N.upTo-v,g=Math.min(x,j),u=g*N.rate;g>0&&f.push({label:N.label,rate:N.rate*100,taxableAmount:g,tax:u}),x-=g,v=N.upTo}return f})();return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Your Tax Calculation Results"}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Based on the information you provided"}),r.jsxs("div",{className:`${c} border-2 rounded-xl p-6 mb-6 text-center`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:i}),r.jsx("p",{className:`text-4xl font-bold ${o}`,children:M(Math.abs(l.refundOrOwed))}),a?r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"You've overpaid your taxes and may claim a refund"}):l.refundOrOwed<0?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"You owe additional tax beyond what was withheld"}):r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Your withholding matches your tax liability"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Gross Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(l.grossIncome)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Allowances"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(l.totalAllowances)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Deductions"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(l.totalDeductions)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Taxable Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(l.taxableIncome)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Owed"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(l.taxOwed)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Withheld"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(l.taxWithheld)})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Effective Tax Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:cm(l.effectiveRate)})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>s(!n),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":n,children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Detailed Breakdown"}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 animate-fadeIn",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Allowances"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Personal"}),r.jsx("span",{children:M(l.breakdown.personalAllowance)})]}),l.breakdown.spouseAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Spouse"}),r.jsx("span",{children:M(l.breakdown.spouseAllowance)})]}),l.breakdown.seniorAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Senior (65+)"}),r.jsx("span",{children:M(l.breakdown.seniorAllowance)})]}),l.breakdown.childAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Children"}),r.jsx("span",{children:M(l.breakdown.childAllowance)})]}),l.breakdown.parentAllowance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Parents"}),r.jsx("span",{children:M(l.breakdown.parentAllowance)})]})]})]}),l.totalDeductions>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Deductions"}),r.jsxs("div",{className:"text-sm space-y-1",children:[l.breakdown.standardDeduction>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expense Deduction (50%)"}),r.jsx("span",{children:M(l.breakdown.standardDeduction)})]}),l.breakdown.socialSecurity>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Social Security"}),r.jsx("span",{children:M(l.breakdown.socialSecurity)})]}),l.breakdown.lifeInsurance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Life Insurance"}),r.jsx("span",{children:M(l.breakdown.lifeInsurance)})]}),l.breakdown.healthInsurance>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Health Insurance"}),r.jsx("span",{children:M(l.breakdown.healthInsurance)})]}),l.breakdown.pensionFund>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Pension Fund"}),r.jsx("span",{children:M(l.breakdown.pensionFund)})]}),l.breakdown.providentFund>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Provident Fund"}),r.jsx("span",{children:M(l.breakdown.providentFund)})]}),l.breakdown.rmf>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"RMF"}),r.jsx("span",{children:M(l.breakdown.rmf)})]}),l.breakdown.ssf>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"SSF"}),r.jsx("span",{children:M(l.breakdown.ssf)})]}),l.breakdown.donations>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Donations"}),r.jsx("span",{children:M(l.breakdown.donations)})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tax by Bracket"}),r.jsxs("div",{className:"text-sm space-y-1",children:[p.map(f=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[f.label," (",f.rate,"%)"]}),r.jsx("span",{children:M(f.tax)})]},f.label)),r.jsxs("div",{className:"flex justify-between font-medium border-t border-gray-200 pt-1 mt-2",children:[r.jsx("span",{children:"Total Tax"}),r.jsx("span",{children:M(l.taxOwed)})]})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Disclaimer"}),r.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["This calculator provides an estimate only. Tax laws are complex and your actual tax liability may differ. Please consult with a qualified tax professional or the"," ",r.jsx("a",{href:"https://www.rd.go.th",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-900",children:"Thai Revenue Department"})," ","for official guidance."]})]})]})}),r.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Start Over"})]})},xc=({formData:e,setFormData:t,nextStep:n,showValidationErrors:s})=>{const[l,a]=b.useState(e.daysInThailand>0?e.daysInThailand.toString():""),[i,o]=b.useState(!1),c=parseInt(l,10)||0,h=c>=qt.THAI_RESIDENCY_DAYS,p=c>=0&&c<=365;b.useEffect(()=>{p&&t({...e,daysInThailand:c,isThaiResident:h})},[c,h,p]);const f=g=>{const u=g.target.value;(u===""||/^\d+$/.test(u))&&a(u)},x=()=>{o(!0),c>365&&a("365")},v=g=>{t({...e,hasForeignIncome:g})},N=()=>{if(p&&c>0){const g={...e,daysInThailand:c,isThaiResident:h};t(g),n(g)}},j=(i||s)&&(!p||c===0);return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tax Residency Status"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your tax residency determines how your income is taxed in Thailand."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"daysInThailand",className:"block text-sm font-medium text-gray-700 mb-2",children:"How many days did you spend in Thailand this tax year?"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"daysInThailand",type:"text",inputMode:"numeric",value:l,onChange:f,onBlur:x,placeholder:"e.g., 200",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${j?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,"aria-describedby":"days-help days-error"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"days"})]}),r.jsx("p",{id:"days-help",className:"mt-1 text-sm text-gray-500",children:"Enter the number of days from January 1 to December 31 (max 365)"}),j&&r.jsx("p",{id:"days-error",className:"mt-1 text-sm text-red-600",children:"Please enter a valid number of days (1-365)"})]}),c>0&&p&&r.jsx("div",{className:`p-4 rounded-lg border-2 mb-6 ${h?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${h?"bg-green-100":"bg-yellow-100"}`,children:h?r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold ${h?"text-green-800":"text-yellow-800"}`,children:h?"Thai Tax Resident":"Non-Resident"}),r.jsx("p",{className:`text-sm ${h?"text-green-700":"text-yellow-700"}`,children:h?`With ${c} days in Thailand, you are a tax resident (180+ days). Foreign income remitted to Thailand may be taxable.`:`With ${c} days in Thailand, you are a non-resident (less than 180 days). Only Thai-sourced income is taxable.`})]})]})}),h&&c>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-blue-700 mb-1",children:[r.jsx("strong",{children:"2024+ Rule:"})," As a Thai tax resident, foreign income earned on or after January 1, 2024, and remitted to Thailand is now taxable."]}),r.jsx("p",{className:"text-sm text-blue-600",children:"This includes income from overseas employment, investments, or business activities."})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-white rounded-lg border border-blue-100 hover:border-blue-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:e.hasForeignIncome,onChange:g=>v(g.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I have foreign income that was remitted to Thailand"})]})]}),!h&&c>0&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-gray-600",children:"As a non-resident, you only need to pay tax on income earned in Thailand. Foreign income is not taxable in Thailand for non-residents."})}),r.jsx("button",{onClick:N,disabled:!p||c===0,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors ${p&&c>0?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})},gc=({formData:e,setFormData:t,nextStep:n,showValidationErrors:s})=>{const[l,a]=b.useState(null),[i,o]=b.useState({}),c=()=>({id:$i(),amount:0,currency:"USD",amountThb:0,dateEarned:"",dateRemitted:null,foreignTaxPaid:0,description:"",country:""}),h=()=>{const d=c();t({...e,foreignIncomeEntries:[...e.foreignIncomeEntries,d]}),a(d.id)},p=d=>{t({...e,foreignIncomeEntries:e.foreignIncomeEntries.filter(y=>y.id!==d)});const m={...i};delete m[d],o(m)},f=(d,m,y)=>{t({...e,foreignIncomeEntries:e.foreignIncomeEntries.map(S=>S.id===d?{...S,[m]:y}:S)})},x=d=>{if(!d.dateEarned)return{taxable:!1,reason:"Date earned not specified"};const m=new Date(d.dateEarned),y=new Date(qt.FOREIGN_INCOME_TAX_YEAR_START);return m<y?{taxable:!1,reason:"Earned before 2024 - not taxable under new rules"}:d.dateRemitted?{taxable:!0,reason:"Earned in 2024+ and remitted to Thailand"}:{taxable:!1,reason:"Not remitted to Thailand - not taxable"}},v=()=>{const d={};let m=!0;return e.foreignIncomeEntries.forEach(y=>{const S=[];y.amount<=0&&S.push("Amount must be greater than 0"),y.amountThb<=0&&S.push("THB amount must be greater than 0"),y.dateEarned||S.push("Date earned is required"),y.country.trim()||S.push("Country is required"),S.length>0&&(d[y.id]=S,m=!1)}),o(d),m},N=e.foreignIncomeEntries.reduce((d,m)=>d+m.amountThb,0),j=e.foreignIncomeEntries.reduce((d,m)=>d+(x(m).taxable?m.amountThb:0),0),g=e.foreignIncomeEntries.reduce((d,m)=>d+m.foreignTaxPaid,0),u=()=>{if(!e.hasForeignIncome||e.foreignIncomeEntries.length===0){n(e);return}v()&&n(e)};return e.hasForeignIncome?r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Foreign Income Details"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add all foreign income that was remitted to Thailand during this tax year."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Foreign Income Tax Rules (2024+)"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Income earned on/after January 1, 2024 is taxable if remitted to Thailand"}),r.jsx("li",{children:"Foreign tax paid may be credited against Thai tax (limited to Thai tax rate)"}),r.jsx("li",{children:"Income earned before 2024 is not taxable even if remitted in 2024+"})]})]})]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.foreignIncomeEntries.map((d,m)=>{const y=x(d),S=i[d.id]||[],C=l===d.id;return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${S.length>0&&s?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${C?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:()=>a(C?null:d.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",m+1]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[d.country||"New Entry"," - ",d.currency," ",d.amount.toLocaleString()||"0"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["THB ",d.amountThb.toLocaleString(),y.taxable&&r.jsx("span",{className:"ml-2 text-green-600 font-medium",children:"Taxable"}),!y.taxable&&d.dateEarned&&r.jsx("span",{className:"ml-2 text-gray-400",children:"Not Taxable"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:E=>{E.stopPropagation(),p(d.id)},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove entry",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${C?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),C&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[S.length>0&&s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:S.map((E,w)=>r.jsx("li",{children:E},w))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Income Source *"}),r.jsx("input",{type:"text",value:d.country,onChange:E=>f(d.id,"country",E.target.value),placeholder:"e.g., United States",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("select",{value:d.currency,onChange:E=>f(d.id,"currency",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Bp.map(E=>r.jsxs("option",{value:E.code,children:[E.code," - ",E.name]},E.code))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),r.jsx("input",{type:"number",value:d.amount||"",onChange:E=>f(d.id,"amount",parseFloat(E.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount in Thai Baht (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:d.amountThb||"",onChange:E=>f(d.id,"amountThb",parseFloat(E.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use the exchange rate on the date the income was received"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Earned *"}),r.jsx("input",{type:"date",value:d.dateEarned,onChange:E=>f(d.id,"dateEarned",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Remitted to Thailand"}),r.jsx("input",{type:"date",value:d.dateRemitted||"",onChange:E=>f(d.id,"dateRemitted",E.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foreign Tax Already Paid (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:d.foreignTaxPaid||"",onChange:E=>f(d.id,"foreignTaxPaid",parseFloat(E.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tax paid in the source country (may be used as a foreign tax credit)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("input",{type:"text",value:d.description,onChange:E=>f(d.id,"description",E.target.value),placeholder:"e.g., Freelance project payment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:`p-3 rounded-lg ${y.taxable?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[r.jsx("p",{className:`text-sm font-medium ${y.taxable?"text-green-700":"text-gray-600"}`,children:y.taxable?"This income is taxable in Thailand":"Not taxable"}),r.jsx("p",{className:`text-xs ${y.taxable?"text-green-600":"text-gray-500"}`,children:y.reason})]})]})]},d.id)})}),r.jsxs("button",{onClick:h,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Foreign Income Entry"]}),e.foreignIncomeEntries.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Foreign Income"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[N.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Taxable Amount"}),r.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[j.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Foreign Tax Paid"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[g.toLocaleString()," THB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Number of Entries"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e.foreignIncomeEntries.length})]})]})]}),r.jsx("button",{onClick:u,className:"w-full py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue"})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Foreign Income"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),r.jsx("p",{className:"text-gray-600",children:"You indicated that you don't have foreign income remitted to Thailand."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click continue to proceed to the next step."})]}),r.jsx("button",{onClick:()=>n(e),className:"w-full py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue"})]})},ux=({entry:e,index:t,isExpanded:n,onToggle:s,onUpdate:l,onRemove:a,errors:i=[],showValidationErrors:o=!1})=>{var j;const[c,h]=b.useState({}),p=tn[e.incomeType],f=Yp(),x=g=>{h(u=>({...u,[g]:!0}))},v=o||Object.values(c).some(Boolean),N=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}];return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${i.length>0&&v?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${n?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:s,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[(p==null?void 0:p.shortLabel)||"New Income Source",e.payerName&&` - ${e.payerName}`]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsxs("span",{children:["",e.grossAmount.toLocaleString()]}),e.withholdingAmount>0&&r.jsxs("span",{className:"text-green-600",children:["WHT: ",e.withholdingAmount.toLocaleString()]}),e.monthReceived>0&&r.jsx("span",{children:(j=N.find(g=>g.value===e.monthReceived))==null?void 0:j.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:g=>{g.stopPropagation(),a()},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove entry",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[i.length>0&&v&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:i.map((g,u)=>r.jsx("li",{children:g},u))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Income Type *"}),r.jsx("select",{value:e.incomeType,onChange:g=>l("incomeType",g.target.value),onBlur:()=>x("incomeType"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))}),p&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.description})]}),p&&r.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Flat Rate Deduction:"})," ",(p.flatRate*100).toFixed(0),"%",p.flatRateCap&&` (capped at ${p.flatRateCap.toLocaleString()})`]}),p.notes&&r.jsx("p",{className:"text-blue-600 mt-1",children:p.notes})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Amount (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.grossAmount||"",onChange:g=>l("grossAmount",parseFloat(g.target.value)||0),onBlur:()=>x("grossAmount"),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total income before any deductions or withholding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withholding Tax Deducted (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.withholdingAmount||"",onChange:g=>l("withholdingAmount",parseFloat(g.target.value)||0),onBlur:()=>x("withholdingAmount"),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tax already withheld by the payer (shown on withholding certificate)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month Received *"}),r.jsxs("select",{value:e.monthReceived,onChange:g=>l("monthReceived",parseInt(g.target.value,10)),onBlur:()=>x("monthReceived"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:0,children:"Select month..."}),N.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for PND94 mid-year filing requirement (Jan-Jun income)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payer/Client Name"}),r.jsx("input",{type:"text",value:e.payerName,onChange:g=>l("payerName",g.target.value),onBlur:()=>x("payerName"),placeholder:"e.g., ABC Company Ltd.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("input",{type:"text",value:e.description,onChange:g=>l("description",g.target.value),onBlur:()=>x("description"),placeholder:"e.g., Consulting project, Software development",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.grossAmount>0&&p&&p.flatRate>0&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"Flat Rate Deduction Preview:"})," ","",Math.min(e.grossAmount*p.flatRate,p.flatRateCap||1/0).toLocaleString()," ","(",(p.flatRate*100).toFixed(0),"% of ",e.grossAmount.toLocaleString(),")"]})})]})]})},yc=({formData:e,setFormData:t,nextStep:n,prevStep:s,showValidationErrors:l})=>{const[a,i]=b.useState(null),[o,c]=b.useState({}),h=()=>({id:$i(),grossAmount:0,incomeType:"business_sales_40_8",withholdingAmount:0,monthReceived:0,payerName:"",description:""}),p=()=>{const m=h();t({...e,thaiIncomeEntries:[...e.thaiIncomeEntries,m]}),i(m.id)},f=m=>{t({...e,thaiIncomeEntries:e.thaiIncomeEntries.filter(S=>S.id!==m)});const y={...o};delete y[m],c(y)},x=(m,y,S)=>{t({...e,thaiIncomeEntries:e.thaiIncomeEntries.map(C=>C.id===m?{...C,[y]:S}:C)})},v=()=>{const m={};let y=!0;return e.thaiIncomeEntries.length===0?!1:(e.thaiIncomeEntries.forEach(S=>{const C=[];S.grossAmount<=0&&C.push("Gross amount must be greater than 0"),S.monthReceived===0&&C.push("Month received is required"),S.withholdingAmount<0&&C.push("Withholding amount cannot be negative"),S.withholdingAmount>S.grossAmount&&C.push("Withholding cannot exceed gross amount"),C.length>0&&(m[S.id]=C,y=!1)}),c(m),y)},N=e.thaiIncomeEntries.reduce((m,y)=>m+y.grossAmount,0),j=e.thaiIncomeEntries.reduce((m,y)=>m+y.withholdingAmount,0),g=e.thaiIncomeEntries.filter(m=>m.monthReceived>=1&&m.monthReceived<=6).filter(m=>Wp(m.incomeType)).reduce((m,y)=>m+y.grossAmount,0),u=e.thaiIncomeEntries.reduce((m,y)=>{const S=y.incomeType;return m[S]||(m[S]={total:0,withholding:0,count:0}),m[S].total+=y.grossAmount,m[S].withholding+=y.withholdingAmount,m[S].count+=1,m},{}),d=()=>{if(e.thaiIncomeEntries.length===0){if(e.hasForeignIncome&&e.foreignIncomeEntries.length>0){n(e);return}c({_general:["Please add at least one income source"]});return}v()&&n(e)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thai Income Sources"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add all your income sources from Thailand for this tax year."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Track Each Income Source Separately"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Different income types have different flat-rate deduction percentages"}),r.jsx("li",{children:"Recording the month received helps calculate PND94 obligations"}),r.jsx("li",{children:"Withholding tax will be credited against your final tax liability"})]})]})]})}),o._general&&l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-red-600",children:o._general[0]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.thaiIncomeEntries.map((m,y)=>r.jsx(ux,{entry:m,index:y,isExpanded:a===m.id,onToggle:()=>i(a===m.id?null:m.id),onUpdate:(S,C)=>x(m.id,S,C),onRemove:()=>f(m.id),errors:o[m.id],showValidationErrors:l},m.id))}),r.jsxs("button",{onClick:p,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Income Source"]}),e.thaiIncomeEntries.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Income Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Gross Income"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",N.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Withholding"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["",j.toLocaleString()]})]})]}),Object.keys(u).length>0&&r.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"By Income Type"}),r.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([m,y])=>{const S=tn[m];return r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600",children:(S==null?void 0:S.shortLabel)||m}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",y.count," ",y.count===1?"entry":"entries",")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"font-medium text-gray-800",children:["",y.total.toLocaleString()]}),r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",((S==null?void 0:S.flatRate)*100||0).toFixed(0),"% deduction)"]})]})]},m)})})]}),g>0&&r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-amber-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"text-amber-700 font-medium",children:["Jan-Jun Income: ",g.toLocaleString()]}),r.jsx("p",{className:"text-amber-600 text-xs",children:"This may trigger PND94 mid-year filing requirement (threshold: 60,000 single / 120,000 married)"})]})]})})]}),e.thaiIncomeEntries.length===0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No Thai income sources added yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:'Click "Add Income Source" above to add your freelance or business income'})]}),r.jsxs("div",{className:"flex gap-3",children:[s&&r.jsx("button",{onClick:s,className:"flex-1 py-3 px-6 rounded-lg font-medium border-2 border-gray-200 text-gray-600 hover:bg-gray-50 transition-colors",children:"Back"}),r.jsx("button",{onClick:d,className:"flex-1 py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue"})]})]})},vc=({formData:e,setFormData:t,nextStep:n,prevStep:s})=>{const l=ml(e.thaiIncomeEntries),a=[{value:"auto_compare",title:"Auto Compare (Recommended)",description:"We'll calculate both methods and automatically use whichever gives you the higher deduction (lower tax).",recommended:!0,icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{value:"force_flat",title:"Flat-Rate Deduction Only",description:"Use the standard percentage-based deduction. No receipts needed - simpler but may result in lower deductions.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},{value:"force_actual",title:"Actual Expenses Only",description:"Deduct your actual documented business expenses. Requires receipts but may result in higher deductions.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],i=c=>{t({...e,expenseMethod:c})},o=()=>{n(e)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Expense Deduction Method"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to calculate your business expense deductions."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Thai Tax Law Allows Two Methods"}),r.jsx("p",{className:"text-blue-600",children:"You can choose between flat-rate deductions (percentage of income) or actual expenses. For most freelancers, the flat-rate method is simpler and often provides a good deduction."})]})]})}),l.breakdown.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Your Flat-Rate Deduction Preview"}),r.jsx("div",{className:"space-y-2 mb-3",children:l.breakdown.map(c=>{const h=tn[c.incomeType];return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600",children:(h==null?void 0:h.shortLabel)||c.incomeType}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",(c.rate*100).toFixed(0),"% of ",c.grossAmount.toLocaleString(),")"]})]}),r.jsxs("span",{className:"font-medium text-gray-800",children:["",c.deduction.toLocaleString()]})]},c.incomeType)})}),r.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Total Flat-Rate Deduction"}),r.jsxs("span",{className:"font-semibold text-green-600 text-lg",children:["",l.total.toLocaleString()]})]})]}),r.jsx("div",{className:"space-y-3 mb-6",children:a.map(c=>r.jsx("button",{onClick:()=>i(c.value),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${e.expenseMethod===c.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${e.expenseMethod===c.value?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"}`,children:c.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:`font-semibold ${e.expenseMethod===c.value?"text-blue-700":"text-gray-800"}`,children:c.title}),c.recommended&&r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Recommended"})]}),r.jsx("p",{className:`text-sm mt-1 ${e.expenseMethod===c.value?"text-blue-600":"text-gray-500"}`,children:c.description})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${e.expenseMethod===c.value?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:e.expenseMethod===c.value&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})},c.value))}),e.expenseMethod==="force_actual"&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-amber-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-amber-700 font-medium",children:"Documentation Required"}),r.jsx("p",{className:"text-amber-600 mt-1",children:"Using actual expenses requires keeping receipts and invoices. You'll need to enter your expense details in the next step."})]})]})}),e.expenseMethod==="auto_compare"&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-green-700 font-medium",children:"Best of Both Worlds"}),r.jsx("p",{className:"text-green-600 mt-1",children:"We'll ask for your actual expenses in the next step, then compare both methods to find the one that saves you the most tax."})]})]})}),r.jsxs("div",{className:"flex gap-3",children:[s&&r.jsx("button",{onClick:s,className:"flex-1 py-3 px-6 rounded-lg font-medium border-2 border-gray-200 text-gray-600 hover:bg-gray-50 transition-colors",children:"Back"}),r.jsx("button",{onClick:o,className:"flex-1 py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:e.expenseMethod==="force_flat"?"Continue":"Next: Enter Expenses"})]})]})},bc=({formData:e,setFormData:t,nextStep:n,prevStep:s,showValidationErrors:l})=>{const[a,i]=b.useState(null),[o,c]=b.useState({}),h=()=>({id:$i(),category:"other",amount:0,hasReceipt:!0,description:""}),p=()=>{const m=h();t({...e,actualExpenses:[...e.actualExpenses,m]}),i(m.id)},f=m=>{t({...e,actualExpenses:e.actualExpenses.filter(S=>S.id!==m)});const y={...o};delete y[m],c(y)},x=(m,y,S)=>{t({...e,actualExpenses:e.actualExpenses.map(C=>C.id===m?{...C,[y]:S}:C)})},v=()=>{const m={};let y=!0;return e.actualExpenses.forEach(S=>{const C=[];S.amount<=0&&C.push("Amount must be greater than 0"),S.description.trim()||C.push("Description is required"),C.length>0&&(m[S.id]=C,y=!1)}),c(m),y},N=rm(e.actualExpenses),j=ml(e.thaiIncomeEntries),g=Vi(e.thaiIncomeEntries,e.actualExpenses),u=Object.entries($l).map(([m,y])=>({value:m,label:y})),d=()=>{if(e.expenseMethod==="force_flat"){n(e);return}if(e.actualExpenses.length===0){n(e);return}v()&&n(e)};return e.expenseMethod==="force_flat"?r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Expense Tracking"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"You selected the flat-rate deduction method"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Your deduction of ",r.jsxs("span",{className:"font-semibold text-green-600",children:["",j.total.toLocaleString()]})," will be calculated automatically based on your income types."]})]}),r.jsxs("div",{className:"flex gap-3",children:[s&&r.jsx("button",{onClick:s,className:"flex-1 py-3 px-6 rounded-lg font-medium border-2 border-gray-200 text-gray-600 hover:bg-gray-50 transition-colors",children:"Back"}),r.jsx("button",{onClick:()=>n(e),className:"flex-1 py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue"})]})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Actual Business Expenses"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Enter your actual business expenses for the tax year.",e.expenseMethod==="auto_compare"&&" We'll compare with the flat-rate deduction."]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Deductible Business Expenses"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600",children:[r.jsx("li",{children:"Only expenses directly related to generating income are deductible"}),r.jsx("li",{children:"Keep receipts and documentation for at least 5 years"}),r.jsx("li",{children:"Personal expenses are not deductible"})]})]})]})}),r.jsx("div",{className:"space-y-4 mb-6",children:e.actualExpenses.map((m,y)=>{const S=o[m.id]||[],C=a===m.id;return r.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${S.length>0&&l?"border-red-300":"border-gray-200"}`,children:[r.jsxs("div",{className:`p-4 cursor-pointer flex justify-between items-center ${C?"bg-gray-50":"bg-white hover:bg-gray-50"}`,onClick:()=>i(C?null:m.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-medium",children:y+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:$l[m.category]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsxs("span",{children:["",m.amount.toLocaleString()]}),m.hasReceipt&&r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Receipt"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:E=>{E.stopPropagation(),f(m.id)},className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove expense",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${C?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),C&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[S.length>0&&l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:S.map((E,w)=>r.jsx("li",{children:E},w))})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("select",{value:m.category,onChange:E=>x(m.id,"category",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:u.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (THB) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:m.amount||"",onChange:E=>x(m.id,"amount",parseFloat(E.target.value)||0),placeholder:"0",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("input",{type:"text",value:m.description,onChange:E=>x(m.id,"description",E.target.value),placeholder:"e.g., Laptop for work, Office rent payment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg",children:[r.jsx("input",{type:"checkbox",checked:m.hasReceipt,onChange:E=>x(m.id,"hasReceipt",E.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"I have a receipt/invoice"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Documentation is required if using actual expense method"})]})]})]})]},m.id)})}),r.jsxs("button",{onClick:p,className:"w-full py-3 px-6 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-purple-500 hover:text-purple-500 transition-colors mb-6 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Expense"]}),e.expenseMethod==="auto_compare"&&e.actualExpenses.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Deduction Comparison"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:`p-3 rounded-lg ${g.recommended==="flat"?"bg-green-100 border-2 border-green-300":"bg-white border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Flat-Rate"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",g.flatRateDeduction.toLocaleString()]}),g.recommended==="flat"&&r.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Recommended"})]}),r.jsxs("div",{className:`p-3 rounded-lg ${g.recommended==="actual"?"bg-green-100 border-2 border-green-300":"bg-white border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Actual Expenses"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["",g.actualDeduction.toLocaleString()]}),g.recommended==="actual"&&r.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Recommended"})]})]}),r.jsxs("div",{className:`p-3 rounded-lg ${g.recommended==="flat"?"bg-green-50 border border-green-200":"bg-blue-50 border border-blue-200"}`,children:[r.jsx("p",{className:`text-sm ${g.recommended==="flat"?"text-green-700":"text-blue-700"}`,children:g.recommended==="flat"?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Flat-rate is better."})," It gives you a higher deduction by ",(g.flatRateDeduction-g.actualDeduction).toLocaleString(),"."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Actual expenses are better."})," They give you a higher deduction by ",(g.actualDeduction-g.flatRateDeduction).toLocaleString(),"."]})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Estimated tax savings: ~",g.taxSavings.toLocaleString()]})]})]}),e.expenseMethod==="force_actual"&&e.actualExpenses.length>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Expense Summary"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total Actual Expenses"}),r.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["",N.total.toLocaleString()]})]}),N.breakdown.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-1",children:N.breakdown.map(m=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:$l[m.category]}),r.jsxs("span",{className:"text-gray-700",children:["",m.amount.toLocaleString()]})]},m.category))})]}),e.actualExpenses.length===0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No expenses added yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:e.expenseMethod==="auto_compare"?"Add your expenses to compare with the flat-rate deduction, or continue to use flat-rate only.":'Click "Add Expense" to enter your business expenses.'})]}),r.jsxs("div",{className:"flex gap-3",children:[s&&r.jsx("button",{onClick:s,className:"flex-1 py-3 px-6 rounded-lg font-medium border-2 border-gray-200 text-gray-600 hover:bg-gray-50 transition-colors",children:"Back"}),r.jsx("button",{onClick:d,className:"flex-1 py-3 px-6 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue"})]})]})},Nc=({formData:e,goToStep:t,nextStep:n})=>{const s=u=>`${u.toLocaleString()}`,l=Zp(e.daysInThailand),a=lm(e.thaiIncomeEntries),i=sm(e.thaiIncomeEntries),o=e.foreignIncomeEntries.reduce((u,d)=>u+d.amountThb,0),c=ml(e.thaiIncomeEntries),h=e.actualExpenses.reduce((u,d)=>u+d.amount,0),p=()=>e.maritalStatus==="single"?"Single":e.maritalStatus==="married"?e.spouseHasNoIncome?"Married (spouse has no income)":"Married (spouse has income)":"Not specified",f=()=>{switch(e.expenseMethod){case"auto_compare":return"Auto Compare (Best of Both)";case"force_flat":return"Flat-Rate Only";case"force_actual":return"Actual Expenses Only";default:return"Not specified"}},x=()=>{const u=[];if(e.hasLifeInsurance&&e.lifeInsurance>0&&u.push({label:"Life Insurance",amount:Math.min(e.lifeInsurance,k.MAX_LIFE_INSURANCE)}),e.hasHealthInsurance&&e.healthInsurance>0&&u.push({label:"Health Insurance",amount:Math.min(e.healthInsurance,k.MAX_HEALTH_INSURANCE)}),e.hasPensionFund&&e.pensionFund>0&&u.push({label:"Pension Fund",amount:Math.min(e.pensionFund,k.MAX_PENSION_FUND)}),e.hasProvidentFund&&e.providentFund>0&&u.push({label:"Provident Fund",amount:Math.min(e.providentFund,k.MAX_PROVIDENT_FUND)}),e.hasRMF&&e.rmf>0&&u.push({label:"RMF",amount:Math.min(e.rmf,k.MAX_RMF)}),e.hasSSF&&e.ssf>0&&u.push({label:"SSF",amount:Math.min(e.ssf,k.MAX_SSF)}),e.hasDonations&&e.donations>0){const d=(a+o)*k.MAX_DONATION_PERCENT;u.push({label:"Donations",amount:Math.min(e.donations,d)})}return u},v=k.PERSONAL_ALLOWANCE+(e.maritalStatus==="married"&&e.spouseHasNoIncome?k.SPOUSE_ALLOWANCE:0)+(e.isAge65OrOlder?k.SENIOR_ALLOWANCE:0)+Jt(e.children)+e.numberOfParents*k.PARENT_ALLOWANCE,N=x(),j=N.reduce((u,d)=>u+d.amount,0),g={EMPLOYMENT:0,RESIDENCY:1,FOREIGN_INCOME:2,THAI_INCOME:3,EXPENSE_METHOD:4,MARITAL:6,DEPENDENTS:7,DEDUCTIONS:8,WITHHOLDING:9};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Review Your Information"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Please verify your information before calculating your tax."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Employment Type"}),r.jsx("p",{className:"text-gray-800 mt-1",children:"Self-Employed / Freelancer"})]}),r.jsx("button",{onClick:()=>t(g.EMPLOYMENT),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Tax Residency"}),r.jsx("p",{className:"text-gray-800 mt-1",children:l.status}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.daysInThailand," days in Thailand"]})]}),r.jsx("button",{onClick:()=>t(g.RESIDENCY),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),e.hasForeignIncome&&e.foreignIncomeEntries.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Foreign Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(o)}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.foreignIncomeEntries.length," ",e.foreignIncomeEntries.length===1?"entry":"entries"]})]}),r.jsx("button",{onClick:()=>t(g.FOREIGN_INCOME),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Thai Income"}),r.jsx("p",{className:"text-gray-800 mt-1 text-lg font-semibold",children:s(a)}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.thaiIncomeEntries.length," ",e.thaiIncomeEntries.length===1?"source":"sources"," | Withholding: ",s(i)]}),e.thaiIncomeEntries.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:Object.entries(e.thaiIncomeEntries.reduce((u,d)=>{const m=d.incomeType;return u[m]=(u[m]||0)+d.grossAmount,u},{})).map(([u,d])=>{var m;return r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:((m=tn[u])==null?void 0:m.shortLabel)||u}),r.jsx("span",{children:s(d)})]},u)})})]}),r.jsx("button",{onClick:()=>t(g.THAI_INCOME),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Expense Deduction Method"}),r.jsx("p",{className:"text-gray-800 mt-1",children:f()}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Flat-rate deduction:"}),r.jsx("span",{children:s(c.total)})]}),e.expenseMethod!=="force_flat"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Actual expenses:"}),r.jsx("span",{children:s(h)})]})]})]}),r.jsx("button",{onClick:()=>t(g.EXPENSE_METHOD),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Marital Status"}),r.jsx("p",{className:"text-gray-800 mt-1",children:p()})]}),r.jsx("button",{onClick:()=>t(g.MARITAL),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Dependents & Allowances"}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Personal allowance:"}),r.jsx("span",{children:s(k.PERSONAL_ALLOWANCE)})]}),e.maritalStatus==="married"&&e.spouseHasNoIncome&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Spouse allowance:"}),r.jsx("span",{children:s(k.SPOUSE_ALLOWANCE)})]}),e.isAge65OrOlder&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Senior allowance (65+):"}),r.jsx("span",{children:s(k.SENIOR_ALLOWANCE)})]}),e.children.length>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Children (",e.children.length,"):"]}),r.jsx("span",{children:s(Jt(e.children))})]}),e.numberOfParents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Parents (",e.numberOfParents,"):"]}),r.jsx("span",{children:s(e.numberOfParents*k.PARENT_ALLOWANCE)})]}),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total allowances:"}),r.jsx("span",{className:"text-green-600",children:s(v)})]})]})]}),r.jsx("button",{onClick:()=>t(g.DEPENDENTS),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Deductions"}),N.length>0?r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[N.map(u=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[u.label,":"]}),r.jsx("span",{children:s(u.amount)})]},u.label)),r.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-1 mt-1",children:[r.jsx("span",{children:"Total deductions:"}),r.jsx("span",{className:"text-green-600",children:s(j)})]})]}):r.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"No deductions claimed"})]}),r.jsx("button",{onClick:()=>t(g.DEDUCTIONS),className:"text-blue-500 hover:text-blue-700 text-sm font-medium ml-4",children:"Edit"})]})}),e.taxWithheld>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-500 text-sm",children:"Additional Tax Withheld"}),r.jsx("p",{className:"text-gray-800 mt-1 font-semibold",children:s(e.taxWithheld)}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"(Beyond income entry withholdings)"})]}),r.jsx("button",{onClick:()=>t(g.WITHHOLDING),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"Edit"})]})}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-700 text-sm",children:"Total Tax Already Withheld"}),r.jsx("p",{className:"text-blue-800 text-lg font-semibold",children:s(i+e.taxWithheld)})]})})})]}),r.jsx("button",{onClick:()=>n(),className:"w-full mt-8 py-4 bg-green-500 text-white rounded-lg font-semibold text-lg hover:bg-green-600 transition-colors",children:"Calculate My Tax"})]})},dx=({result:e})=>e.required?r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"PND94 Mid-Year Filing Required"}),r.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your Jan-Jun qualifying income (",r.jsxs("span",{className:"font-medium",children:["",e.halfYearIncome.toLocaleString()]}),") exceeds ",e.threshold.toLocaleString(),"."]}),r.jsxs("div",{className:"mt-3 bg-white/50 rounded p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-amber-700",children:"Estimated Provisional Tax:"}),r.jsxs("span",{className:"font-medium text-amber-900",children:["",e.provisionalTax.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-amber-700",children:"Filing Deadline:"}),r.jsx("span",{className:"font-medium text-amber-900",children:e.dueDate})]})]}),r.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"PND94 requires filing for income types under Sections 40(5)-(8) of the Revenue Code, including rental, freelance, contractor, and business income."})]})]})}):r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"PND94 Not Required"}),r.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your Jan-Jun qualifying income (",r.jsxs("span",{className:"font-medium",children:["",e.halfYearIncome.toLocaleString()]}),") does not exceed the threshold of ",e.threshold.toLocaleString(),"."]})]})]})}),mx=({result:e})=>e.required?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-red-800",children:"VAT Registration Required"}),r.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Your annual turnover (",r.jsxs("span",{className:"font-medium",children:["",e.turnover.toLocaleString()]}),") exceeds the ",e.threshold.toLocaleString()," threshold."]}),r.jsx("div",{className:"mt-3 bg-white/50 rounded p-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-800",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("span",{children:["You must register within"," ",r.jsxs("span",{className:"font-medium",children:[e.mustRegisterWithinDays," days"]})," ","of exceeding the threshold"]})]})}),r.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Once registered, you must charge 7% VAT on all qualifying sales and file VAT returns monthly (PP.30)."})]})]})}):r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"VAT Registration Not Required"}),r.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your annual turnover (",r.jsxs("span",{className:"font-medium",children:["",e.turnover.toLocaleString()]}),") is below the ",e.threshold.toLocaleString()," threshold."]})]})]})}),hx=({result:e,showAll:t=!1})=>{const{pnd94:n,vat:s,hasAnyObligation:l}=e;return!l&&!t?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"No Additional Tax Obligations"}),r.jsx("p",{className:"text-sm text-green-700",children:"Based on your income, you don't have PND94 or VAT registration requirements."})]})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tax Obligations"}),l&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Important:"})," Based on your income, you have the following tax obligations to fulfill."]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(dx,{result:n}),r.jsx(mx,{result:s})]}),l&&r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Disclaimer:"})," This is an estimate based on the information provided. Consult with a tax professional for accurate assessment of your obligations."]})})]})},fx=({result:e})=>{const{pnd94:t,vat:n,hasAnyObligation:s,urgentItems:l}=e;return s?r.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Obligations"}),r.jsxs("ul",{className:"space-y-2",children:[t.required&&r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:["PND94 filing required - Est. tax:"," ",r.jsxs("span",{className:"font-medium",children:["",t.provisionalTax.toLocaleString()]})," ","by ",t.dueDate]})]}),n.required&&r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:["VAT registration required (turnover: ",n.turnover.toLocaleString(),")"]})]})]}),l.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Action items: ",l.join(", ")]})]}):null},jc=({formData:e,onStartOver:t})=>{const[n,s]=b.useState(!1),[l,a]=b.useState(!1),i=cx(e),o=rx(e),c=i.withholdingCredits+i.foreignTaxCredits,h=c-i.grossTaxBeforeCredits,p=h>0,f=p?"Tax Refund":"Additional Tax Owed",x=p?"text-green-600":"text-red-600",v=p?"bg-green-50 border-green-200":"bg-red-50 border-red-200",j=(()=>{const u=[];let d=i.taxableIncome,m=0;for(const y of jn){if(d<=0)break;const S=y.upTo-m,C=Math.min(d,S),E=C*y.rate;C>0&&u.push({label:y.label,rate:y.rate*100,taxableAmount:C,tax:E}),d-=C,m=y.upTo}return u})(),g=()=>{var u;switch(i.expenseMethod){case"auto_compare":return((u=i.expenseComparison)==null?void 0:u.recommended)==="actual"?"Actual Expenses (Auto-selected)":"Flat-Rate (Auto-selected)";case"force_flat":return"Flat-Rate Deduction";case"force_actual":return"Actual Expenses";default:return"Expense Deduction"}};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Your Tax Calculation Results"}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Based on your freelance/self-employment income"}),r.jsxs("div",{className:`${v} border-2 rounded-xl p-6 mb-6 text-center`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:f}),r.jsx("p",{className:`text-4xl font-bold ${x}`,children:M(Math.abs(h))}),p?r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"You've overpaid your taxes and may claim a refund"}):h<0?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"You owe additional tax beyond what was withheld"}):r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Your withholding matches your tax liability"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Gross Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(i.grossIncome)}),i.foreignIncomeTotal>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Thai: ",M(i.thaiIncomeTotal)," + Foreign: ",M(i.taxableForeignIncome)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Expense Deduction"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(i.expenseDeduction)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g()})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Allowances"}),r.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["-",M(i.totalAllowances)]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Taxable Income"}),r.jsx("p",{className:"text-xl font-semibold text-gray-800",children:M(i.taxableIncome)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Owed"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(i.grossTaxBeforeCredits)})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Tax Credits"}),r.jsx("p",{className:"text-xl font-semibold text-blue-600",children:M(c)}),i.foreignTaxCredits>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Incl. foreign tax credit: ",M(i.foreignTaxCredits)]})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Effective Tax Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:cm(i.effectiveRate)})]}),i.expenseComparison&&r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Expense Comparison Result"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:`p-3 rounded ${i.expenseComparison.recommended==="flat"?"bg-purple-100":"bg-white"}`,children:[r.jsx("p",{className:"text-gray-600",children:"Flat-Rate"}),r.jsx("p",{className:"font-semibold text-purple-800",children:M(i.expenseComparison.flatRateDeduction)}),i.expenseComparison.recommended==="flat"&&r.jsx("span",{className:"text-xs text-purple-600",children:" Selected"})]}),r.jsxs("div",{className:`p-3 rounded ${i.expenseComparison.recommended==="actual"?"bg-purple-100":"bg-white"}`,children:[r.jsx("p",{className:"text-gray-600",children:"Actual Expenses"}),r.jsx("p",{className:"font-semibold text-purple-800",children:M(i.expenseComparison.actualDeduction)}),i.expenseComparison.recommended==="actual"&&r.jsx("span",{className:"text-xs text-purple-600",children:" Selected"})]})]}),r.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Tax savings from optimal choice: ~",M(i.expenseComparison.taxSavings)]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>a(!l),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":l,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Tax Obligations"}),o.hasAnyObligation&&r.jsx("span",{className:"bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full",children:"Action Required"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx(hx,{result:o,showAll:!0})}),!l&&o.hasAnyObligation&&r.jsx("div",{className:"px-4 pb-4",children:r.jsx(fx,{result:o})})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>s(!n),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition-colors","aria-expanded":n,children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Detailed Breakdown"}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"p-4 border-t border-gray-200 animate-fadeIn",children:[i.incomeByType.size>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Income by Type"}),r.jsx("div",{className:"text-sm space-y-1",children:Array.from(i.incomeByType.entries()).map(([u,d])=>{var m;return r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:((m=tn[u])==null?void 0:m.shortLabel)||u}),r.jsx("span",{children:M(d)})]},u)})})]}),i.foreignIncomeTaxability.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Foreign Income Analysis"}),r.jsx("div",{className:"text-sm space-y-2",children:i.foreignIncomeTaxability.map((u,d)=>r.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[u.entry.country," - ",u.entry.description||"Foreign Income"]}),r.jsx("span",{className:u.isTaxable?"text-red-600":"text-green-600",children:u.isTaxable?"Taxable":"Not Taxable"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.reason}),u.isTaxable&&r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Taxable amount: ",M(u.taxableAmount),u.foreignTaxCredit>0&&` | Credit: ${M(u.foreignTaxCredit)}`]})]},d))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tax by Bracket"}),r.jsxs("div",{className:"text-sm space-y-1",children:[j.map(u=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[u.label," (",u.rate,"%)"]}),r.jsx("span",{children:M(u.tax)})]},u.label)),r.jsxs("div",{className:"flex justify-between font-medium border-t border-gray-200 pt-1 mt-2",children:[r.jsx("span",{children:"Total Tax"}),r.jsx("span",{children:M(i.grossTaxBeforeCredits)})]})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Important Disclaimer"}),r.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["This calculator provides an estimate for freelance/self-employment income. Tax laws for business income are complex and your actual tax liability may differ. Please consult with a qualified tax professional or the"," ",r.jsx("a",{href:"https://www.rd.go.th",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-900",children:"Thai Revenue Department"})," ","for official guidance."]}),i.expenseMethod!=="force_flat"&&r.jsxs("p",{className:"text-sm text-yellow-700 mt-2",children:[r.jsx("strong",{children:"Note:"})," If using actual expenses, you must keep proper documentation (receipts, invoices) to support your deductions."]})]})]})}),r.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Start Over"})]})},px=[{value:"unregistered",label:"Not Registered",description:"Operating without formal business registration"},{value:"sole_proprietorship",label:"Registered Sole Proprietorship",description:"Registered with DBD as a sole proprietorship"},{value:"partnership",label:"Ordinary Partnership",description:"Unincorporated partnership ()"},{value:"other",label:"Other",description:"Other business structure"}],xx=({formData:e,setFormData:t,nextStep:n,showValidationErrors:s})=>{const[l,a]=b.useState({businessName:!1,businessCategory:!1,registrationType:!1,yearsInOperation:!1}),i=e.businessProfile||em(),[o,c]=b.useState(i.yearsInOperation>0?i.yearsInOperation.toString():""),h=u=>{t({...e,businessProfile:{...i,...u}})};b.useEffect(()=>{const u=parseInt(o,10)||0;u!==i.yearsInOperation&&h({yearsInOperation:u})},[o]);const p=u=>{const d=u.target.value;(d===""||/^\d+$/.test(d))&&c(d)},f=u=>{h({businessCategory:u}),a({...l,businessCategory:!0})},x=u=>{h({registrationType:u}),a({...l,registrationType:!0})},v=()=>{i.businessName.trim().length>0&&i.businessCategory!==void 0&&n(e)},N=(l.businessName||s)&&i.businessName.trim().length===0,j=(l.businessCategory||s)&&!i.businessCategory,g=i.businessName.trim().length>0&&i.businessCategory!==void 0;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Business Profile"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your business to determine the applicable tax deductions."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),r.jsx("input",{id:"businessName",type:"text",value:i.businessName,onChange:u=>h({businessName:u.target.value}),onBlur:()=>a({...l,businessName:!0}),placeholder:"e.g., My Consulting Services",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${N?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,"aria-describedby":"name-error"}),N&&r.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-600",children:"Please enter your business name"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Category"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select the category that best describes your business activities. This determines your flat-rate expense deduction."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Up).map(([u,d])=>r.jsxs("button",{type:"button",onClick:()=>f(u),className:`p-3 border-2 rounded-lg text-left transition-all ${i.businessCategory===u?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"font-medium text-gray-800",children:d}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:$p[u]})]},u))}),j&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please select a business category"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration"}),r.jsx("div",{className:"space-y-2",children:px.map(u=>r.jsxs("button",{type:"button",onClick:()=>x(u.value),className:`w-full p-3 border-2 rounded-lg text-left transition-all ${i.registrationType===u.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"font-medium text-gray-800",children:u.label}),r.jsx("div",{className:"text-xs text-gray-500",children:u.description})]},u.value))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"yearsInOperation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Operation (optional)"}),r.jsxs("div",{className:"relative max-w-xs",children:[r.jsx("input",{id:"yearsInOperation",type:"text",inputMode:"numeric",value:o,onChange:p,onBlur:()=>a({...l,yearsInOperation:!0}),placeholder:"e.g., 3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"years"})]})]}),r.jsxs("div",{className:"mb-6 space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:i.hasPhysicalLocation,onChange:u=>h({hasPhysicalLocation:u.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"Physical business location"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Do you have a shop, office, or other physical business premises?"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:e.hasInventory,onChange:u=>t({...e,hasInventory:u.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-medium",children:"Hold inventory"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Do you purchase and hold goods for resale?"})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Flat-rate vs. Actual Expenses"}),r.jsx("p",{children:"Based on your business category, you may be eligible for flat-rate expense deductions. We'll compare this with your actual expenses in the next steps to find the best option for you."})]})]})}),r.jsx("button",{onClick:v,disabled:!g,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})},gx=[{value:"limited_company",label:"Private Limited Company",description:"Thai limited company ()"},{value:"public_company",label:"Public Limited Company",description:"Listed or public company ()"},{value:"partnership_limited",label:"Limited Partnership",description:"Limited partnership ()"},{value:"other",label:"Other",description:"Other corporate structure"}],yx=[{value:"thai_listed",label:"Thai Listed Company",description:"Dividends from SET-listed companies"},{value:"thai_unlisted",label:"Thai Unlisted Company",description:"Dividends from private Thai companies"},{value:"foreign",label:"Foreign Company",description:"Dividends from non-Thai companies"}],xe=e=>e.toLocaleString("en-US"),rs=e=>{const t=e.replace(/,/g,"").replace(/[^\d.]/g,"");return parseFloat(t)||0},vx=({formData:e,setFormData:t,nextStep:n,showValidationErrors:s})=>{var ze;const[l,a]=b.useState({companyName:!1,companyType:!1,salaryFromCompany:!1,ownership:!1}),[i,o]=b.useState(e.salaryFromCompany>0?xe(e.salaryFromCompany):""),[c,h]=b.useState(e.directorFees>0?xe(e.directorFees):""),[p,f]=b.useState(e.otherCompanyBenefits>0?xe(e.otherCompanyBenefits):""),[x,v]=b.useState(((ze=e.companyInfo)==null?void 0:ze.ownershipPercentage)>0?e.companyInfo.ownershipPercentage.toString():"100"),[N,j]=b.useState(e.companyProfitAfterTax>0?xe(e.companyProfitAfterTax):""),g=e.companyInfo||tm(),u=A=>{t({...e,companyInfo:{...g,...A}})};b.useEffect(()=>{const A=rs(i);A!==e.salaryFromCompany&&t({...e,salaryFromCompany:A})},[i]),b.useEffect(()=>{const A=rs(c);A!==e.directorFees&&t({...e,directorFees:A})},[c]),b.useEffect(()=>{const A=rs(p);A!==e.otherCompanyBenefits&&t({...e,otherCompanyBenefits:A})},[p]),b.useEffect(()=>{const A=parseInt(x,10)||0,F=Math.min(100,Math.max(0,A));F!==g.ownershipPercentage&&u({ownershipPercentage:F})},[x]),b.useEffect(()=>{const A=rs(N);A!==e.companyProfitAfterTax&&t({...e,companyProfitAfterTax:A})},[N]);const d=()=>{const A={id:Sp(),amount:0,dividendType:"thai_unlisted",withholdingTax:0,companyName:g.companyName,dateReceived:"",includeInPIT:!1};t({...e,dividendEntries:[...e.dividendEntries,A]})},m=(A,F)=>{t({...e,dividendEntries:e.dividendEntries.map(Q=>Q.id===A?{...Q,...F}:Q)})},y=A=>{t({...e,dividendEntries:e.dividendEntries.filter(F=>F.id!==A)})},S=()=>{if(g.companyName.trim().length>0&&e.salaryFromCompany>0){const F=e.dividendEntries.map(Q=>({...Q,withholdingTax:Q.amount*.1}));n({...e,dividendEntries:F})}},C=e.salaryFromCompany+e.directorFees+e.otherCompanyBenefits,E=e.dividendEntries.reduce((A,F)=>A+F.amount,0),w=C+E,I=(l.companyName||s)&&g.companyName.trim().length===0,P=(l.salaryFromCompany||s)&&e.salaryFromCompany<=0,X=g.companyName.trim().length>0&&e.salaryFromCompany>0;return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Company Owner Income"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your income from the company you own, including salary and dividends."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Company Information"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),r.jsx("input",{id:"companyName",type:"text",value:g.companyName,onChange:A=>u({companyName:A.target.value}),onBlur:()=>a({...l,companyName:!0}),placeholder:"e.g., ABC Company Ltd.",className:`w-full px-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${I?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),I&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Please enter the company name"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:gx.map(A=>r.jsxs("button",{type:"button",onClick:()=>u({companyType:A.value}),className:`p-3 border-2 rounded-lg text-left transition-all ${g.companyType===A.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-white"}`,children:[r.jsx("div",{className:"font-medium text-gray-800 text-sm",children:A.label}),r.jsx("div",{className:"text-xs text-gray-500",children:A.description})]},A.value))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"ownership",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ownership %"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"ownership",type:"text",inputMode:"numeric",value:x,onChange:A=>{const F=A.target.value.replace(/[^\d]/g,"");v(F)},onBlur:()=>a({...l,ownership:!0}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors pr-10"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]})]}),r.jsx("div",{className:"flex items-end pb-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:g.isDirector,onChange:A=>u({isDirector:A.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-800",children:"I am a director"})]})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Employment Income from Company"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Salary *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"salary",type:"text",inputMode:"numeric",value:i,onChange:A=>{const F=A.target.value.replace(/,/g,"");(F===""||/^\d+$/.test(F))&&o(F?xe(parseInt(F,10)):"")},onBlur:()=>a({...l,salaryFromCompany:!0}),placeholder:"0",className:`w-full px-4 py-3 pl-8 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${P?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`})]}),P&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Please enter your annual salary"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total salary received from your company in the tax year"})]}),g.isDirector&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"directorFees",className:"block text-sm font-medium text-gray-700 mb-2",children:"Director Fees & Bonuses"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"directorFees",type:"text",inputMode:"numeric",value:c,onChange:A=>{const F=A.target.value.replace(/,/g,"");(F===""||/^\d+$/.test(F))&&h(F?xe(parseInt(F,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Meeting fees, performance bonuses, and other director compensation"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"otherBenefits",className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Taxable Benefits"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"otherBenefits",type:"text",inputMode:"numeric",value:p,onChange:A=>{const F=A.target.value.replace(/,/g,"");(F===""||/^\d+$/.test(F))&&f(F?xe(parseInt(F,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Car allowance, housing benefit, or other taxable perks"})]}),C>0&&r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700 font-medium",children:"Total Employment Income"}),r.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",xe(C)]})]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Dividend Income"}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.hasDividends,onChange:A=>t({...e,hasDividends:A.target.checked,dividendEntries:A.target.checked?e.dividendEntries:[]}),className:"w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-700",children:"I received dividends"})]})]}),e.hasDividends&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("p",{className:"font-medium mb-1",children:"Thai Dividend Tax Options"}),r.jsx("p",{children:"Thai company dividends have 10% withholding tax. You can either: (1) Use this as final tax (don't include in PIT), or (2) Include in PIT and claim the withholding as a credit. Option 1 is usually better if your marginal tax rate is above 10%."})]})]})}),e.dividendEntries.map((A,F)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Dividend #",F+1]}),r.jsx("button",{type:"button",onClick:()=>y(A.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Amount (THB)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),r.jsx("input",{type:"text",inputMode:"numeric",value:A.amount>0?xe(A.amount):"",onChange:Q=>{const W=Q.target.value.replace(/,/g,"");(W===""||/^\d+$/.test(W))&&m(A.id,{amount:parseInt(W,10)||0})},placeholder:"0",className:"w-full px-3 py-2 pl-7 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),r.jsx("select",{value:A.dividendType,onChange:Q=>m(A.id,{dividendType:Q.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:yx.map(Q=>r.jsx("option",{value:Q.value,children:Q.label},Q.value))})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Paying Company"}),r.jsx("input",{type:"text",value:A.companyName,onChange:Q=>m(A.id,{companyName:Q.target.value}),placeholder:"Company name",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),A.dividendType!=="foreign"&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include in PIT?"}),r.jsx("p",{className:"text-xs text-gray-500",children:"If no, 10% withholding tax is your final tax on this dividend"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:A.includeInPIT,onChange:Q=>m(A.id,{includeInPIT:Q.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),A.amount>0&&r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Withholding tax (10%): ",xe(A.amount*.1),A.includeInPIT?" - Will be credited against your tax":" - Final tax (not included in PIT)"]})]},A.id)),r.jsxs("button",{type:"button",onClick:d,className:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Dividend Entry"]}),E>0&&r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700 font-medium",children:"Total Dividends"}),r.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",xe(E)]})]})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Company Financial Info (Optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"This information helps us provide advice but doesn't affect your personal tax calculation."}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyProfit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Profit After Tax (Last Year)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:""}),r.jsx("input",{id:"companyProfit",type:"text",inputMode:"numeric",value:N,onChange:A=>{const F=A.target.value.replace(/,/g,"");(F===""||/^\d+$/.test(F))&&j(F?xe(parseInt(F,10)):"")},placeholder:"0",className:"w-full px-4 py-3 pl-8 border-2 border-gray-200 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]}),w>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Income Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-700",children:"Employment Income"}),r.jsxs("span",{className:"font-medium text-blue-800",children:["",xe(C)]})]}),E>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-700",children:"Dividend Income"}),r.jsxs("span",{className:"font-medium text-blue-800",children:["",xe(E)]})]}),r.jsxs("div",{className:"border-t border-blue-200 pt-2 flex justify-between",children:[r.jsx("span",{className:"text-blue-800 font-medium",children:"Total Income"}),r.jsxs("span",{className:"font-bold text-blue-800",children:["",xe(w)]})]})]})]}),r.jsx("button",{onClick:S,disabled:!X,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors ${X?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})},Yl="thai_tax_annual_wizard_data",Vl="thai_tax_annual_wizard_step",bx=["Employment","Income","Marital Status","Dependents","Deductions","Withholding","Review","Results"],Nx=["Employment","Residency","Foreign Income","Thai Income","Expense Method","Actual Expenses","Marital Status","Dependents","Deductions","Withholding","Review","Results"],jx=["Employment","Business","Residency","Foreign Income","Thai Income","Expense Method","Actual Expenses","Marital Status","Dependents","Deductions","Withholding","Review","Results"],wx=["Employment","Company Income","Marital Status","Dependents","Deductions","Withholding","Review","Results"];function ss(e){return e==="self-employed"||e==="freelancer"}function ls(e){return e==="sole_proprietor"||e==="business"}function as(e){return e==="company_owner"}function is(){return{employmentType:"",annualIncome:0,includeSocialSecurity:!1,socialSecurityContribution:0,maritalStatus:"",spouseHasNoIncome:!1,isAge65OrOlder:!1,children:[],childrenEligibilityConfirmed:!1,numberOfParents:0,parentsEligibilityConfirmed:!1,hasLifeInsurance:!1,lifeInsurance:0,hasHealthInsurance:!1,healthInsurance:0,hasPensionFund:!1,pensionFund:0,hasProvidentFund:!1,providentFund:0,hasRMF:!1,rmf:0,hasSSF:!1,ssf:0,hasDonations:!1,donations:0,taxWithheld:0}}const Sx=()=>{const e=Bi(),[t,n]=b.useState(!1),[s,l]=b.useState(()=>{const w=sessionStorage.getItem(Vl);return w?parseInt(w,10):0}),[a,i]=b.useState(()=>{const w=sessionStorage.getItem(Yl);if(w)try{const I=JSON.parse(w);return as(I.employmentType)?{...dc(),...I}:ls(I.employmentType)?{...uc(),...I}:ss(I.employmentType)?{...cc(),...I}:{...is(),...I}}catch(I){return console.error("Failed to parse saved form data:",I),is()}return is()}),o=ss(a.employmentType),c=ls(a.employmentType),h=as(a.employmentType),p=b.useMemo(()=>h?wx:c?jx:o?Nx:bx,[o,c,h]),f=p.length;b.useEffect(()=>{sessionStorage.setItem(Yl,JSON.stringify(a))},[a]),b.useEffect(()=>{sessionStorage.setItem(Vl,s.toString())},[s]);const x=w=>{if(as(w.employmentType)&&!as(a.employmentType)){const I={...dc(),...w,employmentType:w.employmentType};i(I)}else if(ls(w.employmentType)&&!ls(a.employmentType)){const I={...uc(),...w,employmentType:w.employmentType};i(I)}else if(ss(w.employmentType)&&!ss(a.employmentType)){const I={...cc(),...w,employmentType:w.employmentType};i(I)}else i(w)},v=w=>{const I=w||a;w&&x(w),E(I)?(n(!1),s<f-1&&l(s+1)):n(!0)},N=()=>{s>0&&(n(!1),l(s-1))},j=w=>{w>=0&&w<f&&l(w)},g=()=>{sessionStorage.removeItem(Yl),sessionStorage.removeItem(Vl),i(is()),l(0)},u=()=>{e("/")},d=()=>{const w={formData:a,setFormData:x,nextStep:v,showValidationErrors:t},I={formData:a,setFormData:x,nextStep:v,prevStep:N,showValidationErrors:t},P={formData:a,setFormData:x,nextStep:v,prevStep:N,showValidationErrors:t},X={formData:a,setFormData:x,nextStep:v,prevStep:N,showValidationErrors:t};if(h)switch(s){case 0:return r.jsx(xt,{...w});case 1:return r.jsx(vx,{...X});case 2:return r.jsx(Jr,{...w});case 3:return r.jsx(es,{...w});case 4:return r.jsx(ts,{...w});case 5:return r.jsx(ns,{...w});case 6:return r.jsx(fc,{...w,goToStep:j});case 7:return r.jsx(pc,{formData:a,onStartOver:g});default:return r.jsx(xt,{...w})}else if(c)switch(s){case 0:return r.jsx(xt,{...w});case 1:return r.jsx(xx,{...P});case 2:return r.jsx(xc,{...I});case 3:return r.jsx(gc,{...I});case 4:return r.jsx(yc,{...I});case 5:return r.jsx(vc,{...I});case 6:return r.jsx(bc,{...I});case 7:return r.jsx(Jr,{...w});case 8:return r.jsx(es,{...w});case 9:return r.jsx(ts,{...w});case 10:return r.jsx(ns,{...w});case 11:return r.jsx(Nc,{...I,goToStep:j});case 12:return r.jsx(jc,{formData:a,onStartOver:g});default:return r.jsx(xt,{...w})}else if(o)switch(s){case 0:return r.jsx(xt,{...w});case 1:return r.jsx(xc,{...I});case 2:return r.jsx(gc,{...I});case 3:return r.jsx(yc,{...I});case 4:return r.jsx(vc,{...I});case 5:return r.jsx(bc,{...I});case 6:return r.jsx(Jr,{...w});case 7:return r.jsx(es,{...w});case 8:return r.jsx(ts,{...w});case 9:return r.jsx(ns,{...w});case 10:return r.jsx(Nc,{...I,goToStep:j});case 11:return r.jsx(jc,{formData:a,onStartOver:g});default:return r.jsx(xt,{...w})}else switch(s){case 0:return r.jsx(xt,{...w});case 1:return r.jsx(Mp,{...w});case 2:return r.jsx(Jr,{...w});case 3:return r.jsx(es,{...w});case 4:return r.jsx(ts,{...w});case 5:return r.jsx(ns,{...w});case 6:return r.jsx(fc,{...w,goToStep:j});case 7:return r.jsx(pc,{formData:a,onStartOver:g});default:return r.jsx(xt,{...w})}},m=s===0,y=s===f-1,S=s===f-2,C=s<f-1,E=(w=a)=>{var X,ze,A,F,Q;const I=()=>[{has:w.hasLifeInsurance,amount:w.lifeInsurance},{has:w.hasHealthInsurance,amount:w.healthInsurance},{has:w.hasPensionFund,amount:w.pensionFund},{has:w.hasProvidentFund,amount:w.providentFund},{has:w.hasRMF,amount:w.rmf},{has:w.hasSSF,amount:w.ssf},{has:w.hasDonations,amount:w.donations}].every(ft=>!ft.has||ft.amount>0),P=()=>{const W=w.children.length===0||w.childrenEligibilityConfirmed,ft=w.numberOfParents===0||w.parentsEligibilityConfirmed;return W&&ft};if(h){const W=w;switch(s){case 0:return w.employmentType!=="";case 1:return((ze=(X=W.companyInfo)==null?void 0:X.companyName)==null?void 0:ze.trim().length)>0&&W.salaryFromCompany>0;case 2:return w.maritalStatus!=="";case 3:return P();case 4:return I();case 5:return!0;case 6:return!0;default:return!0}}else if(c){const W=w;switch(s){case 0:return w.employmentType!=="";case 1:return((F=(A=W.businessProfile)==null?void 0:A.businessName)==null?void 0:F.trim().length)>0&&((Q=W.businessProfile)==null?void 0:Q.businessCategory)!==void 0;case 2:return W.daysInThailand>0&&W.daysInThailand<=365;case 3:return!0;case 4:return W.thaiIncomeEntries.length>0||W.hasForeignIncome&&W.foreignIncomeEntries.length>0;case 5:return W.expenseMethod!==void 0;case 6:return!0;case 7:return w.maritalStatus!=="";case 8:return P();case 9:return I();case 10:return!0;case 11:return!0;default:return!0}}else if(o){const W=w;switch(s){case 0:return w.employmentType!=="";case 1:return W.daysInThailand>0&&W.daysInThailand<=365;case 2:return!0;case 3:return W.thaiIncomeEntries.length>0||W.hasForeignIncome&&W.foreignIncomeEntries.length>0;case 4:return W.expenseMethod!==void 0;case 5:return!0;case 6:return w.maritalStatus!=="";case 7:return P();case 8:return I();case 9:return!0;case 10:return!0;default:return!0}}else switch(s){case 0:return w.employmentType!=="";case 1:return w.annualIncome>0;case 2:return w.maritalStatus!=="";case 3:return P();case 4:return I();case 5:return!0;default:return!0}};return r.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center py-8 px-4",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 md:p-8 max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm","aria-label":"Go to home page",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),!y&&r.jsx("button",{onClick:g,className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Start over",children:"Start Over"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",s+1," of ",f,": ",p[s]]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((s+1)/f*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${(s+1)/f*100}%`},role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":f})}),r.jsx("div",{className:"flex justify-between mt-3",children:p.map((w,I)=>r.jsxs("button",{onClick:()=>I<s&&j(I),disabled:I>=s,className:`flex flex-col items-center group ${I<s?"cursor-pointer":"cursor-default"}`,"aria-label":`${I<s?"Go to ":""}Step ${I+1}: ${w}`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${I<s?"bg-blue-500 group-hover:bg-blue-600":I===s?"bg-blue-500 ring-2 ring-blue-200":"bg-gray-300"}`}),r.jsx("span",{className:`text-xs mt-1 hidden md:block ${I===s?"text-blue-600 font-medium":"text-gray-400"}`,children:w})]},`${w}-${I}`))})]}),s>0&&!y&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsx("span",{className:"text-sm text-blue-700",children:"Your progress has been saved. You can continue where you left off."})}),r.jsx("div",{className:"min-h-[300px]",children:d()}),C&&!m&&r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:N,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2","aria-label":"Go to previous step",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),!S&&r.jsxs("button",{onClick:()=>v(),disabled:!E(),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${E()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,"aria-label":"Go to next step",children:["Next",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})})},Ds=({article:e})=>r.jsx(se,{to:`/articles/${e.slug}`,className:"block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden",children:r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-blue-500 bg-blue-50 px-2 py-1 rounded",children:e.category}),r.jsxs("span",{className:"text-xs text-gray-500",children:[e.readTime," min read"]})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.excerpt})]})}),Ex="ca-pub-4471962643516217",Cx={leaderboard:{width:728,height:90},rectangle:{width:300,height:250},"mobile-banner":{width:320,height:100}},An=({size:e,adSlot:t,className:n=""})=>{const s=b.useRef(null),l=b.useRef(!1),a=Cx[e];return b.useEffect(()=>{if(!l.current)try{s.current&&window.adsbygoogle&&(window.adsbygoogle.push({}),l.current=!0)}catch(i){console.error("AdSense error:",i)}},[]),r.jsx("div",{className:`flex items-center justify-center ${n}`,style:{maxWidth:a.width,minHeight:a.height,width:"100%"},"aria-label":"Advertisement",role:"complementary",children:r.jsx("ins",{ref:s,className:"adsbygoogle",style:{display:"block",width:a.width,height:a.height},"data-ad-client":Ex,"data-ad-slot":t})})},wr=[{slug:"understanding-thai-tax-residency",title:"Understanding Thai Tax Residency: The 180-Day Rule",excerpt:"Learn how Thailand determines your tax residency status and what it means for your tax obligations.",content:`
## What is Tax Residency?

Tax residency determines which country has the right to tax your income. In Thailand, the rules are straightforward but important to understand.

## The 180-Day Rule

Thailand uses a simple test to determine tax residency: if you spend 180 days or more in Thailand during a calendar year, you are considered a Thai tax resident.

### Key Points:
- Days are counted per calendar year (January to December)
- Partial days typically count as full days
- The days don't need to be consecutive

## Tax Implications

**As a Thai Tax Resident:**
- You are taxed on income earned in Thailand
- You may be taxed on foreign-sourced income brought into Thailand
- You must file an annual tax return if your income exceeds the filing threshold

**As a Non-Resident:**
- You are only taxed on income earned within Thailand
- Different withholding rates may apply
- You may still need to file depending on your income type

## Planning Tips

1. Keep records of your travel in and out of Thailand
2. Understand the timing of your income remittances
3. Consider tax treaties between Thailand and your home country
4. Consult with a tax professional for complex situations
    `,publishedAt:"2024-01-15",readTime:5,category:"Tax Basics"},{slug:"maximizing-tax-deductions-thailand",title:"Maximizing Your Tax Deductions in Thailand",excerpt:"A comprehensive guide to the allowances and deductions available to reduce your Thai tax liability.",content:`
## Personal Allowances

Thailand offers several personal allowances that reduce your taxable income:

### Standard Allowances:
- **Personal Allowance:** 60,000 THB
- **Spouse Allowance:** 60,000 THB (if spouse has no income)
- **Child Allowance:** 30,000 THB per child (legitimate children only)
- **Education Allowance:** Additional 2,000 THB per child in Thailand education

## Common Deductions

### Social Security
Contributions to Thai social security are deductible up to the maximum contribution amount.

### Life Insurance
Life insurance premiums are deductible up to 100,000 THB annually.

### Health Insurance
Health insurance premiums are deductible up to 25,000 THB annually, increased from previous years.

### Retirement Funds
- **SSF (Super Savings Fund):** Up to 30% of income, max 200,000 THB
- **RMF (Retirement Mutual Fund):** Up to 30% of income, max 500,000 THB
- **Provident Fund:** Up to 15% of salary

### Housing Loan Interest
Interest on housing loans is deductible up to 100,000 THB annually.

## Tips for Maximizing Deductions

1. **Plan Early:** Many deductions require purchases before year-end
2. **Keep Documentation:** Maintain receipts and certificates
3. **Understand Limits:** Some deductions have combined caps
4. **Consider Timing:** Some investments have minimum holding periods
    `,publishedAt:"2024-02-01",readTime:7,category:"Deductions"},{slug:"thai-tax-brackets-explained",title:"Thai Tax Brackets Explained: 2024 Guide",excerpt:"Understand how progressive tax rates work in Thailand and calculate your effective tax rate.",content:`
## Progressive Tax System

Thailand uses a progressive tax system where higher income is taxed at higher rates. Only the income within each bracket is taxed at that rate.

## 2024 Tax Brackets

| Taxable Income (THB) | Tax Rate |
|---------------------|----------|
| 0 - 150,000 | Exempt |
| 150,001 - 300,000 | 5% |
| 300,001 - 500,000 | 10% |
| 500,001 - 750,000 | 15% |
| 750,001 - 1,000,000 | 20% |
| 1,000,001 - 2,000,000 | 25% |
| 2,000,001 - 5,000,000 | 30% |
| Over 5,000,000 | 35% |

## How It Works

The first 150,000 THB of taxable income is always exempt. Then each subsequent bracket applies only to the income within that range.

### Example Calculation

For a taxable income of 600,000 THB:
- First 150,000: 0 THB (exempt)
- 150,001 - 300,000: 7,500 THB (150,000  5%)
- 300,001 - 500,000: 20,000 THB (200,000  10%)
- 500,001 - 600,000: 15,000 THB (100,000  15%)
- **Total Tax: 42,500 THB**
- **Effective Rate: 7.08%**

## Key Takeaways

1. Your marginal rate applies only to income in that bracket
2. The effective rate is always lower than your top bracket
3. Deductions reduce your taxable income before applying brackets
4. Use our calculator to see your exact breakdown
    `,publishedAt:"2024-02-15",readTime:4,category:"Tax Basics"},{slug:"expat-guide-filing-thai-taxes",title:"Expat Guide: Filing Your Thai Tax Return",excerpt:"Step-by-step guide for expats on how to file annual tax returns in Thailand.",content:`
## Who Must File?

You must file a Thai tax return if:
- You are a Thai tax resident (180+ days in Thailand)
- Your annual income exceeds 120,000 THB (single) or 220,000 THB (married)
- You have Thai-sourced income subject to tax

## Filing Deadline

The deadline for filing your annual tax return is **March 31** of the following year. For example, 2024 income must be filed by March 31, 2025.

Online filing via the RD Smart Tax app may extend this deadline by 8 days.

## Required Documents

1. **Tax Certificates (Withholding Tax Certificates)**
   - From your employer (Form 50 Tawi)
   - From banks (interest income)
   - From other payers

2. **Personal Documents**
   - Thai ID or passport
   - Tax ID number

3. **Supporting Documents**
   - Marriage certificate (for spouse allowance)
   - Birth certificates (for child allowance)
   - Insurance premium receipts
   - Donation receipts

## Filing Methods

### Online (Recommended)
- RD Smart Tax app
- E-filing via rd.go.th
- Faster processing and longer deadline

### In Person
- Visit your local Revenue Department office
- Bring all original documents
- Submit before March 31

## Common Mistakes to Avoid

1. Missing the deadline
2. Forgetting to claim allowances
3. Not reporting all income sources
4. Incorrect calculations
5. Missing required attachments
    `,publishedAt:"2024-03-01",readTime:6,category:"Filing"},{slug:"foreign-income-thailand-tax",title:"Foreign Income and Thailand Tax: What You Need to Know",excerpt:"Understanding when and how foreign-sourced income is taxed in Thailand.",content:`
## The Remittance Rule

Thailand historically taxed foreign-sourced income only if:
1. You are a Thai tax resident
2. The income is remitted (brought) into Thailand
3. The income is remitted in the same year it was earned

## Recent Changes

The Revenue Department has announced changes to foreign income taxation. Starting from 2024, foreign-sourced income brought into Thailand may be taxable regardless of when it was earned.

### Key Changes:
- Income earned in prior years may now be taxable when remitted
- Stricter enforcement expected
- Some exemptions still apply

## Types of Foreign Income

### Employment Income
Income from work performed outside Thailand while employed by a foreign company.

### Investment Income
Dividends, interest, and capital gains from foreign investments.

### Rental Income
Income from properties located outside Thailand.

### Business Income
Profits from businesses operated outside Thailand.

## Tax Treaties

Thailand has tax treaties with many countries that may:
- Reduce withholding rates
- Provide exemptions for certain income types
- Allow foreign tax credits

### Common Treaty Partners:
- United States
- United Kingdom
- Australia
- Singapore
- Japan
- Germany

## Planning Strategies

1. **Timing:** Consider when to remit foreign income
2. **Documentation:** Keep records of income sources and dates
3. **Tax Credits:** Claim credits for taxes paid abroad
4. **Professional Advice:** Complex situations require expert guidance
    `,publishedAt:"2024-03-15",readTime:8,category:"International"},{slug:"social-security-contributions-thailand",title:"Social Security Contributions in Thailand Explained",excerpt:"Everything you need to know about Thai social security contributions and benefits.",content:`
## Overview

Thailand's social security system provides coverage for employees in companies with one or more employees. Contributions are shared between employer and employee.

## Contribution Rates

| Party | Contribution Rate | Maximum Monthly Contribution |
|-------|------------------|------------------------------|
| Employee | 5% | 750 THB |
| Employer | 5% | 750 THB |
| Government | 2.75% | - |

The maximum wage base for contributions is 15,000 THB per month.

## Coverage Benefits

### Medical Care
- Outpatient and inpatient treatment
- Dental care (limited)
- Maternity benefits

### Disability
- Monthly payments for work-related disabilities
- Non-work related disability coverage

### Death Benefits
- Funeral grant
- Survivor benefits

### Unemployment
- 30-50% of salary for up to 6 months
- Requires minimum contribution period

### Retirement
- Monthly pension after age 55
- Requires minimum 180 months of contributions

## Tax Treatment

Social security contributions are:
- Deductible from your taxable income
- Limited to actual contributions (max 9,000 THB annually)

## For Expats

- Mandatory for employees of Thai companies
- Exemptions may apply under bilateral agreements
- Benefits continue after leaving employment (subject to conditions)
    `,publishedAt:"2024-04-01",readTime:5,category:"Employment"}];function kx(e){return wr.find(t=>t.slug===e)}function Tx(e,t=3){return wr.filter(n=>n.slug!==e).slice(0,t)}const Xi=[{name:"Tax Residency",items:[{question:"How is tax residency determined in Thailand?",answer:"You are considered a Thai tax resident if you spend 180 days or more in Thailand during a calendar year. The days do not need to be consecutive. Partial days are generally counted as full days."},{question:"What happens if I stay less than 180 days?",answer:"If you stay less than 180 days in a calendar year, you are a non-resident for tax purposes. Non-residents are only taxed on income earned within Thailand, typically at flat rates or through withholding tax."},{question:"Can I be a tax resident of both Thailand and another country?",answer:"Yes, dual tax residency is possible. In such cases, tax treaties between countries determine which country has primary taxing rights. You may need to claim foreign tax credits to avoid double taxation."}]},{name:"Deductions & Allowances",items:[{question:"What is the personal allowance in Thailand?",answer:"Every taxpayer receives a personal allowance of 60,000 THB. This amount is deducted from your assessable income before calculating tax. If your spouse has no income, you can also claim an additional 60,000 THB spouse allowance."},{question:"Can I deduct insurance premiums?",answer:"Yes. Life insurance premiums are deductible up to 100,000 THB annually. Health insurance premiums are deductible up to 25,000 THB. Parent health insurance premiums have a separate limit of 15,000 THB."},{question:"What are SSF and RMF funds?",answer:"SSF (Super Savings Fund) and RMF (Retirement Mutual Fund) are tax-advantaged investment funds. SSF contributions are deductible up to 30% of income (max 200,000 THB). RMF contributions are deductible up to 30% of income (max 500,000 THB). Combined limits apply."},{question:"How much can I deduct for children?",answer:"You can deduct 30,000 THB per legitimate child. An additional 2,000 THB per child is available if the child is studying in Thailand. There is no limit on the number of children you can claim."}]},{name:"Filing & Deadlines",items:[{question:"When is the tax filing deadline in Thailand?",answer:"The annual tax return (PND 90/91) must be filed by March 31 of the following year. For example, income earned in 2024 must be filed by March 31, 2025. Online filing may extend this deadline by 8 days."},{question:"Do I need to file if my employer withholds tax?",answer:"Yes, you should still file an annual return even if your employer withholds tax. Filing allows you to claim additional deductions and potentially receive a refund. It also ensures compliance with Thai tax law."},{question:"How do I file my tax return?",answer:"You can file online through the RD Smart Tax app or the Revenue Department website (rd.go.th), or in person at your local Revenue Department office. Online filing is recommended for faster processing."},{question:"What documents do I need to file?",answer:"You need your withholding tax certificates (Form 50 Tawi) from employers and banks, personal identification (Thai ID or passport), Tax ID number, and supporting documents for any deductions you claim (receipts, certificates)."}]},{name:"Income & Withholding",items:[{question:"How is monthly withholding tax calculated?",answer:"Employers estimate your annual income and calculate the annual tax liability. This amount is divided by 12 and withheld monthly. The calculation considers your allowances and deductions you have declared to your employer."},{question:"Is foreign income taxable in Thailand?",answer:"For Thai tax residents, foreign income brought into Thailand is taxable. Recent changes require foreign income remitted to Thailand to be declared regardless of when it was earned. Tax treaties may provide exemptions or credits."},{question:"What income is exempt from tax?",answer:"The first 150,000 THB of taxable income is exempt. Other exemptions include certain government payments, inheritance (subject to separate rules), and specific investment returns like those from certain government bonds."}]},{name:"Refunds & Payments",items:[{question:"How do I get a tax refund?",answer:"If you have overpaid tax (common if you have additional deductions not considered in withholding), you will receive a refund after filing your annual return. Refunds are typically processed within 3 months and deposited to your bank account."},{question:"What if I owe additional tax?",answer:"If your total tax liability exceeds the amount withheld, you must pay the difference when filing. Payment can be made at the Revenue Department office, through designated banks, or online through the RD Smart Tax app."},{question:"Are there penalties for late filing or payment?",answer:"Yes. Late filing incurs a penalty of up to 2,000 THB. Late payment incurs a surcharge of 1.5% per month on the outstanding amount. Interest also accrues on unpaid tax."}]}];function Ix(e){const t=e.toLowerCase(),n=[];return Xi.forEach(s=>{s.items.forEach(l=>{(l.question.toLowerCase().includes(t)||l.answer.toLowerCase().includes(t))&&n.push(l)})}),n}const Ax=()=>{var n;const e=wr.slice(0,3),t=((n=Xi[0])==null?void 0:n.items.slice(0,3))||[];return r.jsxs("div",{className:"py-8",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Thai Tax Calculator"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Calculate your Thai tax obligation quickly and accurately"})]}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 mb-8",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(se,{to:"/annual-tax",className:"block bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow p-6 border-2 border-transparent hover:border-blue-500",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Annual Tax Calculator"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Get a detailed breakdown of your annual tax liability and potential refund."})]})]})}),r.jsx(se,{to:"/monthly-withholding",className:"block bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow p-6 border-2 border-transparent hover:border-blue-500",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Monthly Withholding"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Estimate how much tax should be deducted from your monthly salary."})]})]})})]})}),r.jsxs("div",{className:"flex justify-center mb-8 px-4",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(An,{size:"leaderboard",adSlot:"5959313072"})}),r.jsx("div",{className:"md:hidden",children:r.jsx(An,{size:"mobile-banner",adSlot:"6916229573"})})]}),r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Popular Questions"}),r.jsx("ul",{className:"space-y-3",children:t.map((s,l)=>r.jsx("li",{children:r.jsxs(se,{to:"/faq",className:"flex items-start gap-2 text-gray-600 hover:text-blue-500 transition-colors",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"Q:"}),r.jsx("span",{className:"text-sm",children:s.question})]})},l))}),r.jsxs(se,{to:"/faq",className:"inline-flex items-center gap-1 text-blue-500 hover:text-blue-600 mt-4 text-sm font-medium",children:["View all FAQ",r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Latest Articles"}),r.jsx("div",{className:"space-y-4",children:e.map(s=>r.jsx(Ds,{article:s},s.slug))}),r.jsxs(se,{to:"/articles",className:"inline-flex items-center gap-1 text-blue-500 hover:text-blue-600 mt-4 text-sm font-medium",children:["View all articles",r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]})},Rx=()=>{const e=wr.slice(0,3),t=wr.slice(3);return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thai Tax Guides for Expats"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive guides to help you understand and navigate Thai taxation."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(n=>r.jsx(Ds,{article:n},n.slug))}),t.length>0&&r.jsxs("div",{className:"flex justify-center mb-8",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(An,{size:"leaderboard",adSlot:"5959313072"})}),r.jsx("div",{className:"md:hidden",children:r.jsx(An,{size:"rectangle",adSlot:"3447757856"})})]}),t.length>0&&r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(n=>r.jsx(Ds,{article:n},n.slug))}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 md:p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to calculate your tax?"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Use our free calculator to estimate your Thai tax liability."}),r.jsxs(se,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:["Start Calculator",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},_x=()=>{const{slug:e}=Nf(),t=e?kx(e):void 0,n=e?Tx(e,3):[];if(!t)return r.jsx(Of,{to:"/articles",replace:!0});const s=t.content.split(`

`),l=Math.floor(s.length/2),a=s.slice(0,l).join(`

`),i=s.slice(l).join(`

`);return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[r.jsx("nav",{className:"mb-6",children:r.jsx(se,{to:"/articles",className:"text-blue-500 hover:text-blue-600 text-sm",children:" Back to Articles"})}),r.jsxs("header",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-blue-500 bg-blue-50 px-3 py-1 rounded-full",children:t.category}),r.jsxs("span",{className:"text-sm text-gray-500",children:[t.readTime," min read"]})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:t.title}),r.jsxs("p",{className:"text-gray-500 text-sm",children:["Published: ",new Date(t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("article",{className:"prose prose-gray max-w-none mb-8",children:r.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:wc(a)}})}),r.jsx("div",{className:"flex justify-center my-8",children:r.jsx(An,{size:"rectangle",adSlot:"3447757856"})}),r.jsx("article",{className:"prose prose-gray max-w-none mb-8",children:r.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:wc(i)}})}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 text-center mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to calculate your tax?"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Put this knowledge to use with our free calculator."}),r.jsxs(se,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:["Start Calculator",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Related Articles"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:n.map(o=>r.jsx(Ds,{article:o},o.slug))})]})]})})};function wc(e){return e.replace(/^## (.+)$/gm,'<h2 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h2>').replace(/^### (.+)$/gm,'<h3 class="text-xl font-semibold text-gray-900 mt-6 mb-3">$1</h3>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>').replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4"><span class="font-medium">$1.</span> $2</li>').replace(/\|(.+)\|/g,t=>{const n=t.split("|").filter(i=>i.trim());if(n.every(i=>i.trim().match(/^-+$/)))return"";const l=n.some(i=>i.includes("---"))?"th":"td";return`<tr>${n.map(i=>`<${l} class="border border-gray-200 px-4 py-2">${i.trim()}</${l}>`).join("")}</tr>`}).replace(/\n\n/g,'</p><p class="mb-4 text-gray-600 leading-relaxed">').replace(/^/,'<p class="mb-4 text-gray-600 leading-relaxed">').replace(/$/,"</p>").replace(/<p class="mb-4 text-gray-600 leading-relaxed"><\/p>/g,"")}const Sc=({question:e,answer:t,defaultOpen:n=!1})=>{const[s,l]=b.useState(n);return r.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[r.jsxs("button",{className:"w-full py-4 flex items-center justify-between text-left hover:text-blue-500 transition-colors",onClick:()=>l(!s),"aria-expanded":s,children:[r.jsx("span",{className:"font-medium text-gray-900 pr-4",children:e}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 flex-shrink-0 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"pb-4 text-gray-600 leading-relaxed",children:t})]})},Lx=()=>{const[e,t]=b.useState(""),n=e.length>=2?Ix(e):[],s=e.length>=2;return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Find answers to common questions about Thai taxation."}),r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search FAQs...",value:e,onChange:l=>t(l.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-colors"}),r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:s?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Search Results (",n.length,")"]}),n.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:n.map((l,a)=>r.jsx(Sc,{question:l.question,answer:l.answer,defaultOpen:a===0},a))}):r.jsxs("p",{className:"text-gray-500",children:['No results found for "',e,'". Try a different search term.']})]}):r.jsx("div",{className:"space-y-6",children:Xi.map((l,a)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:l.name}),r.jsx("div",{className:"divide-y divide-gray-200",children:l.items.map((i,o)=>r.jsx(Sc,{question:i.question,answer:i.answer},o))})]},a))})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24 space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(An,{size:"rectangle",adSlot:"3447757856"})}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Calculate Your Tax"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Ready to estimate your Thai tax liability?"}),r.jsx(se,{to:"/",className:"block text-center bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Start Calculator"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need More Help?"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"For complex tax situations, we recommend consulting with a qualified Thai tax professional."})]})]})})]})]})})},Px=()=>r.jsx(vp,{children:r.jsxs(Ff,{children:[r.jsx(Ht,{path:"/",element:r.jsx(Ax,{})}),r.jsx(Ht,{path:"/monthly-withholding",element:r.jsx(Pp,{})}),r.jsx(Ht,{path:"/annual-tax",element:r.jsx(Sx,{})}),r.jsx(Ht,{path:"/articles",element:r.jsx(Rx,{})}),r.jsx(Ht,{path:"/articles/:slug",element:r.jsx(_x,{})}),r.jsx(Ht,{path:"/faq",element:r.jsx(Lx,{})})]})});Xl.createRoot(document.getElementById("root")).render(r.jsx(Cm.StrictMode,{children:r.jsx(ip,{children:r.jsx(Px,{})})}));
